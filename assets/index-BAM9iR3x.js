(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function hE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dd={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function dA(){if(C_)return dl;C_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return dl.Fragment=e,dl.jsx=i,dl.jsxs=i,dl}var x_;function mA(){return x_||(x_=1,Dd.exports=dA()),Dd.exports}var D=mA(),Nd={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function pA(){if(D_)return ve;D_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function B(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,$={};function ue(V,K,ne){this.props=V,this.context=K,this.refs=$,this.updater=ne||J}ue.prototype.isReactComponent={},ue.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},ue.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function pe(){}pe.prototype=ue.prototype;function _e(V,K,ne){this.props=V,this.context=K,this.refs=$,this.updater=ne||J}var Ge=_e.prototype=new pe;Ge.constructor=_e,W(Ge,ue.prototype),Ge.isPureReactComponent=!0;var Ce=Array.isArray;function Ae(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function x(V,K,ne){var re=ne.ref;return{$$typeof:r,type:V,key:K,ref:re!==void 0?re:null,props:ne}}function M(V,K){return x(V.type,K,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function U(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ne){return K[ne]})}var R=/\/+/g;function it(V,K){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):K.toString(36)}function It(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ae,Ae):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,K,ne,re,ge){var be=typeof V;(be==="undefined"||be==="boolean")&&(V=null);var ke=!1;if(V===null)ke=!0;else switch(be){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(V.$$typeof){case r:case e:ke=!0;break;case S:return ke=V._init,F(ke(V._payload),K,ne,re,ge)}}if(ke)return ge=ge(V),ke=re===""?"."+it(V,0):re,Ce(ge)?(ne="",ke!=null&&(ne=ke.replace(R,"$&/")+"/"),F(ge,K,ne,"",function(rs){return rs})):ge!=null&&(O(ge)&&(ge=M(ge,ne+(ge.key==null||V&&V.key===ge.key?"":(""+ge.key).replace(R,"$&/")+"/")+ke)),K.push(ge)),1;ke=0;var Ct=re===""?".":re+":";if(Ce(V))for(var rt=0;rt<V.length;rt++)re=V[rt],be=Ct+it(re,rt),ke+=F(re,K,ne,be,ge);else if(rt=B(V),typeof rt=="function")for(V=rt.call(V),rt=0;!(re=V.next()).done;)re=re.value,be=Ct+it(re,rt++),ke+=F(re,K,ne,be,ge);else if(be==="object"){if(typeof V.then=="function")return F(It(V),K,ne,re,ge);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ke}function te(V,K,ne){if(V==null)return V;var re=[],ge=0;return F(V,re,"","",function(be){return K.call(ne,be,ge++)}),re}function ce(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(ne){(V._status===0||V._status===-1)&&(V._status=1,V._result=ne)},function(ne){(V._status===0||V._status===-1)&&(V._status=2,V._result=ne)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var Pe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Fe={map:te,forEach:function(V,K,ne){te(V,function(){K.apply(this,arguments)},ne)},count:function(V){var K=0;return te(V,function(){K++}),K},toArray:function(V){return te(V,function(K){return K})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return ve.Activity=A,ve.Children=Fe,ve.Component=ue,ve.Fragment=i,ve.Profiler=l,ve.PureComponent=_e,ve.StrictMode=s,ve.Suspense=y,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,ve.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},ve.cache=function(V){return function(){return V.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(V,K,ne){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var re=W({},V.props),ge=V.key;if(K!=null)for(be in K.key!==void 0&&(ge=""+K.key),K)!b.call(K,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&K.ref===void 0||(re[be]=K[be]);var be=arguments.length-2;if(be===1)re.children=ne;else if(1<be){for(var ke=Array(be),Ct=0;Ct<be;Ct++)ke[Ct]=arguments[Ct+2];re.children=ke}return x(V.type,ge,re)},ve.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},ve.createElement=function(V,K,ne){var re,ge={},be=null;if(K!=null)for(re in K.key!==void 0&&(be=""+K.key),K)b.call(K,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=K[re]);var ke=arguments.length-2;if(ke===1)ge.children=ne;else if(1<ke){for(var Ct=Array(ke),rt=0;rt<ke;rt++)Ct[rt]=arguments[rt+2];ge.children=Ct}if(V&&V.defaultProps)for(re in ke=V.defaultProps,ke)ge[re]===void 0&&(ge[re]=ke[re]);return x(V,be,ge)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(V){return{$$typeof:p,render:V}},ve.isValidElement=O,ve.lazy=function(V){return{$$typeof:S,_payload:{_status:-1,_result:V},_init:ce}},ve.memo=function(V,K){return{$$typeof:_,type:V,compare:K===void 0?null:K}},ve.startTransition=function(V){var K=C.T,ne={};C.T=ne;try{var re=V(),ge=C.S;ge!==null&&ge(ne,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ae,Pe)}catch(be){Pe(be)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),C.T=K}},ve.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},ve.use=function(V){return C.H.use(V)},ve.useActionState=function(V,K,ne){return C.H.useActionState(V,K,ne)},ve.useCallback=function(V,K){return C.H.useCallback(V,K)},ve.useContext=function(V){return C.H.useContext(V)},ve.useDebugValue=function(){},ve.useDeferredValue=function(V,K){return C.H.useDeferredValue(V,K)},ve.useEffect=function(V,K){return C.H.useEffect(V,K)},ve.useEffectEvent=function(V){return C.H.useEffectEvent(V)},ve.useId=function(){return C.H.useId()},ve.useImperativeHandle=function(V,K,ne){return C.H.useImperativeHandle(V,K,ne)},ve.useInsertionEffect=function(V,K){return C.H.useInsertionEffect(V,K)},ve.useLayoutEffect=function(V,K){return C.H.useLayoutEffect(V,K)},ve.useMemo=function(V,K){return C.H.useMemo(V,K)},ve.useOptimistic=function(V,K){return C.H.useOptimistic(V,K)},ve.useReducer=function(V,K,ne){return C.H.useReducer(V,K,ne)},ve.useRef=function(V){return C.H.useRef(V)},ve.useState=function(V){return C.H.useState(V)},ve.useSyncExternalStore=function(V,K,ne){return C.H.useSyncExternalStore(V,K,ne)},ve.useTransition=function(){return C.H.useTransition()},ve.version="19.2.3",ve}var N_;function vm(){return N_||(N_=1,Nd.exports=pA()),Nd.exports}var qe=vm();const gA=hE(qe);var Od={exports:{}},ml={},Vd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function yA(){return O_||(O_=1,(function(r){function e(F,te){var ce=F.length;F.push(te);e:for(;0<ce;){var Pe=ce-1>>>1,Fe=F[Pe];if(0<l(Fe,te))F[Pe]=te,F[ce]=Fe,ce=Pe;else break e}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var te=F[0],ce=F.pop();if(ce!==te){F[0]=ce;e:for(var Pe=0,Fe=F.length,V=Fe>>>1;Pe<V;){var K=2*(Pe+1)-1,ne=F[K],re=K+1,ge=F[re];if(0>l(ne,ce))re<Fe&&0>l(ge,ne)?(F[Pe]=ge,F[re]=ce,Pe=re):(F[Pe]=ne,F[K]=ce,Pe=K);else if(re<Fe&&0>l(ge,ce))F[Pe]=ge,F[re]=ce,Pe=re;else break e}}return te}function l(F,te){var ce=F.sortIndex-te.sortIndex;return ce!==0?ce:F.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],S=1,A=null,w=3,B=!1,J=!1,W=!1,$=!1,ue=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function Ge(F){for(var te=i(_);te!==null;){if(te.callback===null)s(_);else if(te.startTime<=F)s(_),te.sortIndex=te.expirationTime,e(y,te);else break;te=i(_)}}function Ce(F){if(W=!1,Ge(F),!J)if(i(y)!==null)J=!0,Ae||(Ae=!0,U());else{var te=i(_);te!==null&&It(Ce,te.startTime-F)}}var Ae=!1,C=-1,b=5,x=-1;function M(){return $?!0:!(r.unstable_now()-x<b)}function O(){if($=!1,Ae){var F=r.unstable_now();x=F;var te=!0;try{e:{J=!1,W&&(W=!1,pe(C),C=-1),B=!0;var ce=w;try{t:{for(Ge(F),A=i(y);A!==null&&!(A.expirationTime>F&&M());){var Pe=A.callback;if(typeof Pe=="function"){A.callback=null,w=A.priorityLevel;var Fe=Pe(A.expirationTime<=F);if(F=r.unstable_now(),typeof Fe=="function"){A.callback=Fe,Ge(F),te=!0;break t}A===i(y)&&s(y),Ge(F)}else s(y);A=i(y)}if(A!==null)te=!0;else{var V=i(_);V!==null&&It(Ce,V.startTime-F),te=!1}}break e}finally{A=null,w=ce,B=!1}te=void 0}}finally{te?U():Ae=!1}}}var U;if(typeof _e=="function")U=function(){_e(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,it=R.port2;R.port1.onmessage=O,U=function(){it.postMessage(null)}}else U=function(){ue(O,0)};function It(F,te){C=ue(function(){F(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(F){switch(w){case 1:case 2:case 3:var te=3;break;default:te=w}var ce=w;w=te;try{return F()}finally{w=ce}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ce=w;w=F;try{return te()}finally{w=ce}},r.unstable_scheduleCallback=function(F,te,ce){var Pe=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Pe+ce:Pe):ce=Pe,F){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ce+Fe,F={id:S++,callback:te,priorityLevel:F,startTime:ce,expirationTime:Fe,sortIndex:-1},ce>Pe?(F.sortIndex=ce,e(_,F),i(y)===null&&F===i(_)&&(W?(pe(C),C=-1):W=!0,It(Ce,ce-Pe))):(F.sortIndex=Fe,e(y,F),J||B||(J=!0,Ae||(Ae=!0,U()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var te=w;return function(){var ce=w;w=te;try{return F.apply(this,arguments)}finally{w=ce}}}})(Md)),Md}var V_;function _A(){return V_||(V_=1,Vd.exports=yA()),Vd.exports}var kd={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function vA(){if(M_)return Qt;M_=1;var r=vm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,S)},Qt.flushSync=function(y){var _=d.T,S=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=S,s.d.f()}},Qt.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Qt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Qt.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,A=p(S,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:B}):S==="script"&&s.d.X(y,{crossOrigin:A,integrity:w,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qt.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Qt.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=p(S,_.crossOrigin);s.d.L(y,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qt.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=p(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Qt.requestFormReset=function(y){s.d.r(y)},Qt.unstable_batchedUpdates=function(y,_){return y(_)},Qt.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},Qt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qt.version="19.2.3",Qt}var k_;function EA(){if(k_)return kd.exports;k_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kd.exports=vA(),kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function TA(){if(U_)return ml;U_=1;var r=_A(),e=vm(),i=EA();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),pe=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Ge=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ue:return"Profiler";case $:return"StrictMode";case Ce:return"Suspense";case Ae:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case _e:return t.displayName||"Context";case pe:return(t._context.displayName||"Context")+".Consumer";case Ge:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:it(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return it(t(n))}catch{}}return null}var It=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Pe=[],Fe=-1;function V(t){return{current:t}}function K(t){0>Fe||(t.current=Pe[Fe],Pe[Fe]=null,Fe--)}function ne(t,n){Fe++,Pe[Fe]=t.current,t.current=n}var re=V(null),ge=V(null),be=V(null),ke=V(null);function Ct(t,n){switch(ne(be,n),ne(ge,t),ne(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Zy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Zy(n),t=Wy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(re),ne(re,t)}function rt(){K(re),K(ge),K(be)}function rs(t){t.memoizedState!==null&&ne(ke,t);var n=re.current,a=Wy(n,t.type);n!==a&&(ne(ge,t),ne(re,a))}function Qs(t){ge.current===t&&(K(re),K(ge)),ke.current===t&&(K(ke),ul._currentValue=ce)}var Ks,Xs;function Wn(t){if(Ks===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ks=n&&n[1]||"",Xs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+t+Xs}var lo=!1;function ss(t,n){if(!t||lo)return"";lo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var j=H}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(H){j=H}t.call(Q.prototype)}}else{try{throw Error()}catch(H){j=H}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{lo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Wn(a):""}function uo(t,n){switch(t.tag){case 26:case 27:case 5:return Wn(t.type);case 16:return Wn("Lazy");case 13:return t.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return ss(t.type,!1);case 11:return ss(t.type.render,!1);case 1:return ss(t.type,!0);case 31:return Wn("Activity");default:return""}}function co(t){try{var n="",a=null;do n+=uo(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var gt=Object.prototype.hasOwnProperty,xt=r.unstable_scheduleCallback,ir=r.unstable_cancelCallback,Nh=r.unstable_shouldYield,Zl=r.unstable_requestPaint,$t=r.unstable_now,as=r.unstable_getCurrentPriorityLevel,ho=r.unstable_ImmediatePriority,fo=r.unstable_UserBlockingPriority,rr=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,Wl=r.unstable_IdlePriority,$l=r.log,eu=r.unstable_setDisableYieldValue,Pn=null,Lt=null;function Sn(t){if(typeof $l=="function"&&eu(t),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Pn,t)}catch{}}var ht=Math.clz32?Math.clz32:nu,tu=Math.log,Js=Math.LN2;function nu(t){return t>>>=0,t===0?32:31-(tu(t)/Js|0)|0}var $n=256,os=262144,yt=4194304;function ei(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ti(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ei(o):(g&=E,g!==0?h=ei(g):a||(a=E&~t,a!==0&&(h=ei(a))))):(E=o&~f,E!==0?h=ei(E):g!==0?h=ei(g):a||(a=o&~t,a!==0&&(h=ei(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Ln(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var t=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),t}function ni(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ls(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mh(t,n,a,o,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-ht(a),Q=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}a&=~Q}o!==0&&us(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function us(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ht(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function mo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-ht(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function po(t,n){var a=n&-n;return a=(a&42)!==0?1:cs(a),(a&(t.suspendedLanes|n))!==0?0:a}function cs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ru(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:T_(t.type))}function zn(t,n){var a=te.p;try{return te.p=t,n()}finally{te.p=a}}var jn=Math.random().toString(36).slice(2),_t="__reactFiber$"+jn,Mt="__reactProps$"+jn,ii="__reactContainer$"+jn,Zs="__reactEvents$"+jn,kh="__reactListeners$"+jn,su="__reactHandles$"+jn,au="__reactResources$"+jn,ri="__reactMarker$"+jn;function Ws(t){delete t[_t],delete t[Mt],delete t[Zs],delete t[kh],delete t[su]}function si(t){var n=t[_t];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ii]||a[_t]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=s_(t);t!==null;){if(a=t[_t])return a;t=s_(t)}return n}t=a,a=t.parentNode}return null}function An(t){if(t=t[_t]||t[ii]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ai(t){var n=t[au];return n||(n=t[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function vt(t){t[ri]=!0}var go=new Set,yo={};function oi(t,n){li(t,n),li(t+"Capture",n)}function li(t,n){for(yo[t]=n,t=0;t<n.length;t++)go.add(n[t])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Eo={};function ou(t){return gt.call(Eo,t)?!0:gt.call(vo,t)?!1:_o.test(t)?Eo[t]=!0:(vo[t]=!0,!1)}function $s(t,n,a){if(ou(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Et(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function To(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ye(t){if(!t._valueTracker){var n=sr(t)?"checked":"value";t._valueTracker=To(t,n,""+t[n])}}function hs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=sr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function ui(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fs=/[\n"\\]/g;function nn(t){return t.replace(fs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(t,n,a,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+kt(n)):t.value!==""+kt(n)&&(t.value=""+kt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?So(t,g,kt(n)):a!=null?So(t,g,kt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+kt(E):t.removeAttribute("name")}function lu(t,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ye(t);return}a=a!=null?""+kt(a):"",n=n!=null?""+kt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ye(t)}function So(t,n,a){n==="number"&&ui(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ar(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+kt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function uu(t,n,a){if(n!=null&&(n=""+kt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+kt(a):""}function or(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(It(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=kt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ye(t)}function rn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||cu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function bo(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Ao(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ao(t,f,n[f])}function ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(t){return lr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var wo=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ur=null,ci=null;function ds(t){var n=An(t);if(n&&(t=n.stateNode)){var a=t[Mt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Mt]||null;if(!h)throw Error(s(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&hs(o)}break e;case"textarea":uu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ar(t,!!a.multiple,n,!1)}}}var ia=!1;function cr(t,n,a){if(ia)return t(n,a);ia=!0;try{var o=t(n);return o}finally{if(ia=!1,(ur!==null||ci!==null)&&(rc(),ur&&(n=ur,t=ci,ci=ur=null,ds(n),t)))for(n=0;n<t.length;n++)ds(t[n])}}function qn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Mt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=!1;if(wn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){ms=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{ms=!1}var hi=null,Ro=null,ps=null;function Io(){if(ps)return ps;var t,n=Ro,a=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return ps=h.slice(t,1<o?1-o:void 0)}function gs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ni(){return!0}function Hn(){return!1}function zt(t){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:Hn,this.isPropagationStopped=Hn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=zt(Oi),hr=A({},Oi,{view:0,detail:0}),Co=zt(hr),fr,ra,di,sa=A({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(fr=t.screenX-di.screenX,ra=t.screenY-di.screenY):ra=fr=0,di=t),fr)},movementY:function(t){return"movementY"in t?t.movementY:ra}}),xo=zt(sa),ys=A({},sa,{dataTransfer:0}),fu=zt(ys),du=A({},hr,{relatedTarget:0}),_s=zt(du),Do=A({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=zt(Do),aa=A({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pu=zt(aa),gu=A({},Oi,{data:0}),mi=zt(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=vu[t])?!!n[t]:!1}function dr(){return Eu}var en=A({},hr,{key:function(t){if(t.key){var n=yu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(t){return t.type==="keypress"?gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tu=zt(en),Su=A({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=zt(Su),u=A({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),m=zt(u),v=A({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=zt(v),P=A({},sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=zt(P),ee=A({},Oi,{newState:0,oldState:0}),Te=zt(ee),ft=[9,13,27,32],je=wn&&"CompositionEvent"in window,st=null;wn&&"documentMode"in document&&(st=document.documentMode);var Rn=wn&&"TextEvent"in window&&!st,pi=wn&&(!je||st&&8<st&&11>=st),Gn=" ",Fn=!1;function vs(t,n){switch(t){case"keyup":return ft.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var la=!1;function P0(t,n){switch(t){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Fn=!0,Gn);case"textInput":return t=n.data,t===Gn&&Fn?null:t;default:return null}}function L0(t,n){if(la)return t==="compositionend"||!je&&vs(t,n)?(t=Io(),ps=Ro=hi=null,la=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!z0[t.type]:n==="textarea"}function up(t,n,a,o){ur?ci?ci.push(o):ci=[o]:ur=o,n=hc(n,"onChange"),0<n.length&&(a=new fi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var No=null,Oo=null;function j0(t){Fy(t,0)}function Au(t){var n=fn(t);if(hs(n))return t}function cp(t,n){if(t==="change")return n}var hp=!1;if(wn){var Uh;if(wn){var Ph="oninput"in document;if(!Ph){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),Ph=typeof fp.oninput=="function"}Uh=Ph}else Uh=!1;hp=Uh&&(!document.documentMode||9<document.documentMode)}function dp(){No&&(No.detachEvent("onpropertychange",mp),Oo=No=null)}function mp(t){if(t.propertyName==="value"&&Au(Oo)){var n=[];up(n,Oo,t,bn(t)),cr(j0,n)}}function B0(t,n,a){t==="focusin"?(dp(),No=n,Oo=a,No.attachEvent("onpropertychange",mp)):t==="focusout"&&dp()}function q0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Oo)}function H0(t,n){if(t==="click")return Au(n)}function G0(t,n){if(t==="input"||t==="change")return Au(n)}function F0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:F0;function Vo(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!gt.call(n,h)||!mn(t[h],n[h]))return!1}return!0}function pp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gp(t,n){var a=pp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pp(a)}}function yp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?yp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _p(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ui(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ui(t.document)}return n}function Lh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Y0=wn&&"documentMode"in document&&11>=document.documentMode,ua=null,zh=null,Mo=null,jh=!1;function vp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jh||ua==null||ua!==ui(o)||(o=ua,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Vo(Mo,o)||(Mo=o,o=hc(zh,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ua)))}function Es(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ca={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Bh={},Ep={};wn&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Ts(t){if(Bh[t])return Bh[t];if(!ca[t])return t;var n=ca[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ep)return Bh[t]=n[a];return t}var Tp=Ts("animationend"),Sp=Ts("animationiteration"),Ap=Ts("animationstart"),Q0=Ts("transitionrun"),K0=Ts("transitionstart"),X0=Ts("transitioncancel"),bp=Ts("transitionend"),wp=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Yn(t,n){wp.set(t,n),oi(n,[t])}var bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],ha=0,Hh=0;function wu(){for(var t=ha,n=Hh=ha=0;n<t;){var a=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Rp(a,h,f)}}function Ru(t,n,a,o){In[ha++]=t,In[ha++]=n,In[ha++]=a,In[ha++]=o,Hh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Gh(t,n,a,o){return Ru(t,n,a,o),Iu(t)}function Ss(t,n){return Ru(t,null,null,n),Iu(t)}function Rp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ht(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Iu(t){if(50<nl)throw nl=0,ed=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var fa={};function J0(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,a,o){return new J0(t,n,a,o)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,n){var a=t.alternate;return a===null?(a=pn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ip(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cu(t,n,a,o,h,f){var g=0;if(o=t,typeof t=="function")Fh(t)&&(g=1);else if(typeof t=="string")g=tA(t,a,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=pn(31,a,n,h),t.elementType=x,t.lanes=f,t;case W:return As(a.children,h,f,n);case $:g=8,h|=24;break;case ue:return t=pn(12,a,n,h|2),t.elementType=ue,t.lanes=f,t;case Ce:return t=pn(13,a,n,h),t.elementType=Ce,t.lanes=f,t;case Ae:return t=pn(19,a,n,h),t.elementType=Ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:g=10;break e;case pe:g=9;break e;case Ge:g=11;break e;case C:g=14;break e;case b:g=16,o=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=pn(g,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function As(t,n,a,o){return t=pn(7,t,o,n),t.lanes=a,t}function Yh(t,n,a){return t=pn(6,t,null,n),t.lanes=a,t}function Cp(t){var n=pn(18,null,null,0);return n.stateNode=t,n}function Qh(t,n,a){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xp=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var a=xp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:co(n)},xp.set(t,n),n)}return{value:t,source:n,stack:co(n)}}var da=[],ma=0,xu=null,ko=0,xn=[],Dn=0,mr=null,gi=1,yi="";function ki(t,n){da[ma++]=ko,da[ma++]=xu,xu=t,ko=n}function Dp(t,n,a){xn[Dn++]=gi,xn[Dn++]=yi,xn[Dn++]=mr,mr=t;var o=gi;t=yi;var h=32-ht(o)-1;o&=~(1<<h),a+=1;var f=32-ht(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,gi=1<<32-ht(n)+h|a<<h|o,yi=f+t}else gi=1<<f|a<<h|o,yi=t}function Kh(t){t.return!==null&&(ki(t,1),Dp(t,1,0))}function Xh(t){for(;t===xu;)xu=da[--ma],da[ma]=null,ko=da[--ma],da[ma]=null;for(;t===mr;)mr=xn[--Dn],xn[Dn]=null,yi=xn[--Dn],xn[Dn]=null,gi=xn[--Dn],xn[Dn]=null}function Np(t,n){xn[Dn++]=gi,xn[Dn++]=yi,xn[Dn++]=mr,gi=n.id,yi=n.overflow,mr=t}var jt=null,et=null,Me=!1,pr=null,Nn=!1,Jh=Error(s(519));function gr(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(Cn(n,t)),Jh}function Op(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[_t]=t,n[Mt]=o,a){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(a=0;a<rl.length;a++)Ie(rl[a],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Ie("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ie("invalid",n);break;case"textarea":Ie("invalid",n),or(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Xy(n.textContent,a)?(o.popover!=null&&(Ie("beforetoggle",n),Ie("toggle",n)),o.onScroll!=null&&Ie("scroll",n),o.onScrollEnd!=null&&Ie("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||gr(t,!0)}function Vp(t){for(jt=t.return;jt;)switch(jt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:jt=jt.return}}function pa(t){if(t!==jt)return!1;if(!Me)return Vp(t),Me=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||pd(t.type,t.memoizedProps)),a=!a),a&&et&&gr(t),Vp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));et=r_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));et=r_(t)}else n===27?(n=et,Dr(t.type)?(t=Ed,Ed=null,et=t):et=n):et=jt?Vn(t.stateNode.nextSibling):null;return!0}function bs(){et=jt=null,Me=!1}function Zh(){var t=pr;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),pr=null),t}function Uo(t){pr===null?pr=[t]:pr.push(t)}var Wh=V(null),ws=null,Ui=null;function yr(t,n,a){ne(Wh,n._currentValue),n._currentValue=a}function Pi(t){t._currentValue=Wh.current,K(Wh)}function $h(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function ef(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),$h(f.return,a,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),$h(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ga(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===ke.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ul):t=[ul])}h=h.return}t!==null&&ef(n,t,a,o),n.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Rs(t){ws=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Bt(t){return Mp(ws,t)}function Nu(t,n){return ws===null&&Rs(t),Mp(t,n)}function Mp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(s(308));Ui=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ui=Ui.next=n;return a}var Z0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},W0=r.unstable_scheduleCallback,$0=r.unstable_NormalPriority,Tt={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new Z0,data:new Map,refCount:0}}function Po(t){t.refCount--,t.refCount===0&&W0($0,function(){t.controller.abort()})}var Lo=null,nf=0,ya=0,_a=null;function eS(t,n){if(Lo===null){var a=Lo=[];nf=0,ya=ad(),_a={status:"pending",value:void 0,then:function(o){a.push(o)}}}return nf++,n.then(kp,kp),n}function kp(){if(--nf===0&&Lo!==null){_a!==null&&(_a.status="fulfilled");var t=Lo;Lo=null,ya=0,_a=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function tS(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Up=F.S;F.S=function(t,n){vy=$t(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&eS(t,n),Up!==null&&Up(t,n)};var Is=V(null);function rf(){var t=Is.current;return t!==null?t:$e.pooledCache}function Ou(t,n){n===null?ne(Is,Is.current):ne(Is,n.pool)}function Pp(){var t=rf();return t===null?null:{parent:Tt._currentValue,pool:t}}var va=Error(s(460)),sf=Error(s(474)),Vu=Error(s(542)),Mu={then:function(){}};function Lp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Bn,Bn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bp(t),t;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(t=$e,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bp(t),t}throw xs=n,va}}function Cs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(xs=a,va):a}}var xs=null;function jp(){if(xs===null)throw Error(s(459));var t=xs;return xs=null,t}function Bp(t){if(t===va||t===Vu)throw Error(s(483))}var Ea=null,zo=0;function ku(t){var n=zo;return zo+=1,Ea===null&&(Ea=[]),zp(Ea,t,n)}function jo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uu(t,n){throw n.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function qp(t){function n(k,N){if(t){var L=k.deletions;L===null?(k.deletions=[N],k.flags|=16):L.push(N)}}function a(k,N){if(!t)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Mi(k,N),k.index=0,k.sibling=null,k}function f(k,N,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<N?(k.flags|=67108866,N):L):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,L,Y){return N===null||N.tag!==6?(N=Yh(L,k.mode,Y),N.return=k,N):(N=h(N,L),N.return=k,N)}function I(k,N,L,Y){var le=L.type;return le===W?G(k,N,L.props.children,Y,L.key):N!==null&&(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===b&&Cs(le)===N.type)?(N=h(N,L.props),jo(N,L),N.return=k,N):(N=Cu(L.type,L.key,L.props,null,k.mode,Y),jo(N,L),N.return=k,N)}function z(k,N,L,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Qh(L,k.mode,Y),N.return=k,N):(N=h(N,L.children||[]),N.return=k,N)}function G(k,N,L,Y,le){return N===null||N.tag!==7?(N=As(L,k.mode,Y,le),N.return=k,N):(N=h(N,L),N.return=k,N)}function Q(k,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Yh(""+N,k.mode,L),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case B:return L=Cu(N.type,N.key,N.props,null,k.mode,L),jo(L,N),L.return=k,L;case J:return N=Qh(N,k.mode,L),N.return=k,N;case b:return N=Cs(N),Q(k,N,L)}if(It(N)||U(N))return N=As(N,k.mode,L,null),N.return=k,N;if(typeof N.then=="function")return Q(k,ku(N),L);if(N.$$typeof===_e)return Q(k,Nu(k,N),L);Uu(k,N)}return null}function j(k,N,L,Y){var le=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return le!==null?null:E(k,N,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return L.key===le?I(k,N,L,Y):null;case J:return L.key===le?z(k,N,L,Y):null;case b:return L=Cs(L),j(k,N,L,Y)}if(It(L)||U(L))return le!==null?null:G(k,N,L,Y,null);if(typeof L.then=="function")return j(k,N,ku(L),Y);if(L.$$typeof===_e)return j(k,N,Nu(k,L),Y);Uu(k,L)}return null}function H(k,N,L,Y,le){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(L)||null,E(N,k,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return k=k.get(Y.key===null?L:Y.key)||null,I(N,k,Y,le);case J:return k=k.get(Y.key===null?L:Y.key)||null,z(N,k,Y,le);case b:return Y=Cs(Y),H(k,N,L,Y,le)}if(It(Y)||U(Y))return k=k.get(L)||null,G(N,k,Y,le,null);if(typeof Y.then=="function")return H(k,N,L,ku(Y),le);if(Y.$$typeof===_e)return H(k,N,L,Nu(N,Y),le);Uu(N,Y)}return null}function se(k,N,L,Y){for(var le=null,Le=null,ae=N,we=N=0,De=null;ae!==null&&we<L.length;we++){ae.index>we?(De=ae,ae=null):De=ae.sibling;var ze=j(k,ae,L[we],Y);if(ze===null){ae===null&&(ae=De);break}t&&ae&&ze.alternate===null&&n(k,ae),N=f(ze,N,we),Le===null?le=ze:Le.sibling=ze,Le=ze,ae=De}if(we===L.length)return a(k,ae),Me&&ki(k,we),le;if(ae===null){for(;we<L.length;we++)ae=Q(k,L[we],Y),ae!==null&&(N=f(ae,N,we),Le===null?le=ae:Le.sibling=ae,Le=ae);return Me&&ki(k,we),le}for(ae=o(ae);we<L.length;we++)De=H(ae,k,we,L[we],Y),De!==null&&(t&&De.alternate!==null&&ae.delete(De.key===null?we:De.key),N=f(De,N,we),Le===null?le=De:Le.sibling=De,Le=De);return t&&ae.forEach(function(kr){return n(k,kr)}),Me&&ki(k,we),le}function fe(k,N,L,Y){if(L==null)throw Error(s(151));for(var le=null,Le=null,ae=N,we=N=0,De=null,ze=L.next();ae!==null&&!ze.done;we++,ze=L.next()){ae.index>we?(De=ae,ae=null):De=ae.sibling;var kr=j(k,ae,ze.value,Y);if(kr===null){ae===null&&(ae=De);break}t&&ae&&kr.alternate===null&&n(k,ae),N=f(kr,N,we),Le===null?le=kr:Le.sibling=kr,Le=kr,ae=De}if(ze.done)return a(k,ae),Me&&ki(k,we),le;if(ae===null){for(;!ze.done;we++,ze=L.next())ze=Q(k,ze.value,Y),ze!==null&&(N=f(ze,N,we),Le===null?le=ze:Le.sibling=ze,Le=ze);return Me&&ki(k,we),le}for(ae=o(ae);!ze.done;we++,ze=L.next())ze=H(ae,k,we,ze.value,Y),ze!==null&&(t&&ze.alternate!==null&&ae.delete(ze.key===null?we:ze.key),N=f(ze,N,we),Le===null?le=ze:Le.sibling=ze,Le=ze);return t&&ae.forEach(function(fA){return n(k,fA)}),Me&&ki(k,we),le}function We(k,N,L,Y){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case B:e:{for(var le=L.key;N!==null;){if(N.key===le){if(le=L.type,le===W){if(N.tag===7){a(k,N.sibling),Y=h(N,L.props.children),Y.return=k,k=Y;break e}}else if(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===b&&Cs(le)===N.type){a(k,N.sibling),Y=h(N,L.props),jo(Y,L),Y.return=k,k=Y;break e}a(k,N);break}else n(k,N);N=N.sibling}L.type===W?(Y=As(L.props.children,k.mode,Y,L.key),Y.return=k,k=Y):(Y=Cu(L.type,L.key,L.props,null,k.mode,Y),jo(Y,L),Y.return=k,k=Y)}return g(k);case J:e:{for(le=L.key;N!==null;){if(N.key===le)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(k,N.sibling),Y=h(N,L.children||[]),Y.return=k,k=Y;break e}else{a(k,N);break}else n(k,N);N=N.sibling}Y=Qh(L,k.mode,Y),Y.return=k,k=Y}return g(k);case b:return L=Cs(L),We(k,N,L,Y)}if(It(L))return se(k,N,L,Y);if(U(L)){if(le=U(L),typeof le!="function")throw Error(s(150));return L=le.call(L),fe(k,N,L,Y)}if(typeof L.then=="function")return We(k,N,ku(L),Y);if(L.$$typeof===_e)return We(k,N,Nu(k,L),Y);Uu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(k,N.sibling),Y=h(N,L),Y.return=k,k=Y):(a(k,N),Y=Yh(L,k.mode,Y),Y.return=k,k=Y),g(k)):a(k,N)}return function(k,N,L,Y){try{zo=0;var le=We(k,N,L,Y);return Ea=null,le}catch(ae){if(ae===va||ae===Vu)throw ae;var Le=pn(29,ae,null,k.mode);return Le.lanes=Y,Le.return=k,Le}finally{}}}var Ds=qp(!0),Hp=qp(!1),_r=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Er(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Be&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(t),Rp(t,null,a),n}return Ru(t,o,n,a),Iu(t)}function Bo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,mo(t,a)}}function lf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var uf=!1;function qo(){if(uf){var t=_a;if(t!==null)throw t}}function Ho(t,n,a,o){uf=!1;var h=t.updateQueue;_r=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var Q=h.baseState;g=0,G=z=I=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(xe&j)===j:(o&j)===j){j!==0&&j===ya&&(uf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var se=t,fe=E;j=n;var We=a;switch(fe.tag){case 1:if(se=fe.payload,typeof se=="function"){Q=se.call(We,Q,j);break e}Q=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=fe.payload,j=typeof se=="function"?se.call(We,Q,j):se,j==null)break e;Q=A({},Q,j);break e;case 2:_r=!0}}j=E.callback,j!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,I=Q):G=G.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=Q),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),wr|=g,t.lanes=g,t.memoizedState=Q}}function Gp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Fp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Gp(a[t],n)}var Ta=V(null),Pu=V(0);function Yp(t,n){t=Yi,ne(Pu,t),ne(Ta,n),Yi=t|n.baseLanes}function cf(){ne(Pu,Yi),ne(Ta,Ta.current)}function hf(){Yi=Pu.current,K(Ta),K(Pu)}var gn=V(null),On=null;function Tr(t){var n=t.alternate;ne(dt,dt.current&1),ne(gn,t),On===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(On=t)}function ff(t){ne(dt,dt.current),ne(gn,t),On===null&&(On=t)}function Qp(t){t.tag===22?(ne(dt,dt.current),ne(gn,t),On===null&&(On=t)):Sr()}function Sr(){ne(dt,dt.current),ne(gn,gn.current)}function yn(t){K(gn),On===t&&(On=null),K(dt)}var dt=V(0);function Lu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_d(a)||vd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,Se=null,Je=null,St=null,zu=!1,Sa=!1,Ns=!1,ju=0,Go=0,Aa=null,nS=0;function ut(){throw Error(s(321))}function df(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!mn(t[a],n[a]))return!1;return!0}function mf(t,n,a,o,h,f){return Li=f,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Dg:xf,Ns=!1,f=a(o,h),Ns=!1,Sa&&(f=Xp(n,a,o,h)),Kp(t),f}function Kp(t){F.H=Qo;var n=Je!==null&&Je.next!==null;if(Li=0,St=Je=Se=null,zu=!1,Go=0,Aa=null,n)throw Error(s(300));t===null||At||(t=t.dependencies,t!==null&&Du(t)&&(At=!0))}function Xp(t,n,a,o){Se=t;var h=0;do{if(Sa&&(Aa=null),Go=0,Sa=!1,25<=h)throw Error(s(301));if(h+=1,St=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Ng,f=n(a,o)}while(Sa);return f}function iS(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Fo(n):n,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Se.flags|=1024),n}function pf(){var t=ju!==0;return ju=0,t}function gf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function yf(t){if(zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zu=!1}Li=0,St=Je=Se=null,Sa=!1,Go=ju=0,Aa=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Se.memoizedState=St=t:St=St.next=t,St}function mt(){if(Je===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var n=St===null?Se.memoizedState:St.next;if(n!==null)St=n,Je=t;else{if(t===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},St===null?Se.memoizedState=St=t:St=St.next=t}return St}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(t){var n=Go;return Go+=1,Aa===null&&(Aa=[]),t=zp(Aa,t,n),n=Se,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Dg:xf),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fo(t);if(t.$$typeof===_e)return Bt(t)}throw Error(s(438,String(t)))}function _f(t){var n=null,a=Se.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Se.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Bu(),Se.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=M;return n.index++,a}function zi(t,n){return typeof n=="function"?n(t):n}function Hu(t){var n=mt();return vf(n,Je,t)}function vf(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,G=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(xe&Q)===Q:(Li&Q)===Q){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===ya&&(G=!0);else if((Li&j)===j){z=z.next,j===ya&&(G=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=Q,g=f):I=I.next=Q,Se.lanes|=j,wr|=j;Q=z.action,Ns&&a(f,Q),f=z.hasEagerState?z.eagerState:a(f,Q)}else j={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,g=f):I=I.next=j,Se.lanes|=Q,wr|=Q;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!mn(f,t.memoizedState)&&(At=!0,G&&(a=_a,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Ef(t){var n=mt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(At=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Jp(t,n,a){var o=Se,h=mt(),f=Me;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!mn((Je||h).memoizedState,a);if(g&&(h.memoizedState=a,At=!0),h=h.queue,Af($p.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,ba(9,{destroy:void 0},Wp.bind(null,o,h,a,n),null),$e===null)throw Error(s(349));f||(Li&127)!==0||Zp(o,n,a)}return a}function Zp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Se.updateQueue,n===null?(n=Bu(),Se.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Wp(t,n,a,o){n.value=a,n.getSnapshot=o,eg(n)&&tg(t)}function $p(t,n,a){return a(function(){eg(n)&&tg(t)})}function eg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!mn(t,a)}catch{return!0}}function tg(t){var n=Ss(t,2);n!==null&&un(n,t,2)}function Tf(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),Ns){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},n}function ng(t,n,a,o){return t.baseState=a,vf(t,Je,typeof o=="function"?o:zi)}function rS(t,n,a,o,h){if(Yu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,ig(n,f)):(f.next=a.next,n.pending=a.next=f)}}function ig(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=a(h,o),I=F.S;I!==null&&I(g,E),rg(t,n,E)}catch(z){Sf(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=a(h,o),rg(t,n,f)}catch(z){Sf(t,n,z)}}function rg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){sg(t,n,o)},function(o){return Sf(t,n,o)}):sg(t,n,a)}function sg(t,n,a){n.status="fulfilled",n.value=a,ag(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,ig(t,a)))}function Sf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,ag(n),n=n.next;while(n!==o)}t.action=null}function ag(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function og(t,n){return n}function lg(t,n){if(Me){var a=$e.formState;if(a!==null){e:{var o=Se;if(Me){if(et){t:{for(var h=et,f=Nn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Vn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){et=Vn(h.nextSibling),o=h.data==="F!";break e}}gr(o)}o=!1}o&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},a.queue=o,a=Ig.bind(null,Se,o),o.dispatch=a,o=Tf(!1),f=Cf.bind(null,Se,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=rS.bind(null,Se,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function ug(t){var n=mt();return cg(n,Je,t)}function cg(t,n,a){if(n=vf(t,n,og)[0],t=Hu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Fo(n)}catch(g){throw g===va?Vu:g}else o=n;n=mt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Se.flags|=2048,ba(9,{destroy:void 0},sS.bind(null,h,a),null)),[o,f,t]}function sS(t,n){t.action=n}function hg(t){var n=mt(),a=Je;if(a!==null)return cg(n,a,t);mt(),n=n.memoizedState,a=mt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function ba(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Se.updateQueue,n===null&&(n=Bu(),Se.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function fg(){return mt().memoizedState}function Gu(t,n,a,o){var h=tn();Se.flags|=t,h.memoizedState=ba(1|n,{destroy:void 0},a,o===void 0?null:o)}function Fu(t,n,a,o){var h=mt();o=o===void 0?null:o;var f=h.memoizedState.inst;Je!==null&&o!==null&&df(o,Je.memoizedState.deps)?h.memoizedState=ba(n,f,a,o):(Se.flags|=t,h.memoizedState=ba(1|n,f,a,o))}function dg(t,n){Gu(8390656,8,t,n)}function Af(t,n){Fu(2048,8,t,n)}function aS(t){Se.flags|=4;var n=Se.updateQueue;if(n===null)n=Bu(),Se.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function mg(t){var n=mt().memoizedState;return aS({ref:n,nextImpl:t}),function(){if((Be&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function pg(t,n){return Fu(4,2,t,n)}function gg(t,n){return Fu(4,4,t,n)}function yg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _g(t,n,a){a=a!=null?a.concat([t]):null,Fu(4,4,yg.bind(null,n,t),a)}function bf(){}function vg(t,n){var a=mt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&df(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Eg(t,n){var a=mt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=t(),Ns){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,n],o}function wf(t,n,a){return a===void 0||(Li&1073741824)!==0&&(xe&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Ty(),Se.lanes|=t,wr|=t,a)}function Tg(t,n,a,o){return mn(a,n)?a:Ta.current!==null?(t=wf(t,a,o),mn(t,n)||(At=!0),t):(Li&42)===0||(Li&1073741824)!==0&&(xe&261930)===0?(At=!0,t.memoizedState=a):(t=Ty(),Se.lanes|=t,wr|=t,n)}function Sg(t,n,a,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Cf(t,!1,n,a);try{var I=h(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=tS(I,o);Yo(t,n,G,En(t))}else Yo(t,n,o,En(t))}catch(Q){Yo(t,n,{then:function(){},status:"rejected",reason:Q},En())}finally{te.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function oS(){}function Rf(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=Ag(t).queue;Sg(t,h,n,ce,a===null?oS:function(){return bg(t),a(o)})}function Ag(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ce},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bg(t){var n=Ag(t);n.next===null&&(n=t.alternate.memoizedState),Yo(t,n.next.queue,{},En())}function If(){return Bt(ul)}function wg(){return mt().memoizedState}function Rg(){return mt().memoizedState}function lS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=En();t=vr(a);var o=Er(n,t,a);o!==null&&(un(o,n,a),Bo(o,n,a)),n={cache:tf()},t.payload=n;return}n=n.return}}function uS(t,n,a){var o=En();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Cg(n,a):(a=Gh(t,n,a,o),a!==null&&(un(a,t,o),xg(a,n,o)))}function Ig(t,n,a){var o=En();Yo(t,n,a,o)}function Yo(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Cg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return Ru(t,n,h,0),$e===null&&wu(),!1}catch{}finally{}if(a=Gh(t,n,h,o),a!==null)return un(a,t,o),xg(a,n,o),!0}return!1}function Cf(t,n,a,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(s(479))}else n=Gh(t,a,o,2),n!==null&&un(n,t,2)}function Yu(t){var n=t.alternate;return t===Se||n!==null&&n===Se}function Cg(t,n){Sa=zu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function xg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,mo(t,a)}}var Qo={readContext:Bt,use:qu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};Qo.useEffectEvent=ut;var Dg={readContext:Bt,use:qu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:Bt,useEffect:dg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Gu(4194308,4,yg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Gu(4194308,4,t,n)},useInsertionEffect:function(t,n){Gu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var o=t();if(Ns){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=tn();if(a!==void 0){var h=a(n);if(Ns){Sn(!0);try{a(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=uS.bind(null,Se,t),[o.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Tf(t);var n=t.queue,a=Ig.bind(null,Se,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:bf,useDeferredValue:function(t,n){var a=tn();return wf(a,t,n)},useTransition:function(){var t=Tf(!1);return t=Sg.bind(null,Se,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Se,h=tn();if(Me){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$e===null)throw Error(s(349));(xe&127)!==0||Zp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,dg($p.bind(null,o,f,t),[t]),o.flags|=2048,ba(9,{destroy:void 0},Wp.bind(null,o,f,a,n),null),a},useId:function(){var t=tn(),n=$e.identifierPrefix;if(Me){var a=yi,o=gi;a=(o&~(1<<32-ht(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ju++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=nS++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:If,useFormState:lg,useActionState:lg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Cf.bind(null,Se,!0,a),a.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return tn().memoizedState=lS.bind(null,Se)},useEffectEvent:function(t){var n=tn(),a={impl:t};return n.memoizedState=a,function(){if((Be&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:Bt,use:qu,useCallback:vg,useContext:Bt,useEffect:Af,useImperativeHandle:_g,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:Eg,useReducer:Hu,useRef:fg,useState:function(){return Hu(zi)},useDebugValue:bf,useDeferredValue:function(t,n){var a=mt();return Tg(a,Je.memoizedState,t,n)},useTransition:function(){var t=Hu(zi)[0],n=mt().memoizedState;return[typeof t=="boolean"?t:Fo(t),n]},useSyncExternalStore:Jp,useId:wg,useHostTransitionStatus:If,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var a=mt();return ng(a,Je,t,n)},useMemoCache:_f,useCacheRefresh:Rg};xf.useEffectEvent=mg;var Ng={readContext:Bt,use:qu,useCallback:vg,useContext:Bt,useEffect:Af,useImperativeHandle:_g,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:Eg,useReducer:Ef,useRef:fg,useState:function(){return Ef(zi)},useDebugValue:bf,useDeferredValue:function(t,n){var a=mt();return Je===null?wf(a,t,n):Tg(a,Je.memoizedState,t,n)},useTransition:function(){var t=Ef(zi)[0],n=mt().memoizedState;return[typeof t=="boolean"?t:Fo(t),n]},useSyncExternalStore:Jp,useId:wg,useHostTransitionStatus:If,useFormState:hg,useActionState:hg,useOptimistic:function(t,n){var a=mt();return Je!==null?ng(a,Je,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Rg};Ng.useEffectEvent=mg;function Df(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Nf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=En(),h=vr(o);h.payload=n,a!=null&&(h.callback=a),n=Er(t,h,o),n!==null&&(un(n,t,o),Bo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=En(),h=vr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Er(t,h,o),n!==null&&(un(n,t,o),Bo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=En(),o=vr(a);o.tag=2,n!=null&&(o.callback=n),n=Er(t,o,a),n!==null&&(un(n,t,a),Bo(n,t,a))}};function Og(t,n,a,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vo(a,o)||!Vo(h,f):!0}function Vg(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Nf.enqueueReplaceState(n,n.state,null)}function Os(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Mg(t){bu(t)}function kg(t){console.error(t)}function Ug(t){bu(t)}function Qu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Pg(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,n,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Qu(t,n)},a}function Lg(t){return t=vr(t),t.tag=3,t}function zg(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Pg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Pg(n,a,o),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function cS(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ga(n,a,h,!0),a=gn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?sc():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Mu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),id(t,o,h)),!1;case 22:return a.flags|=65536,o===Mu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),id(t,o,h)),!1}throw Error(s(435,a.tag))}return id(t,o,h),sc(),!1}if(Me)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(t=Error(s(422),{cause:o}),Uo(Cn(t,a)))):(o!==Jh&&(n=Error(s(423),{cause:o}),Uo(Cn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Cn(o,a),h=Of(t.stateNode,o,h),lf(t,h),ct!==4&&(ct=2)),!1;var f=Error(s(520),{cause:o});if(f=Cn(f,a),tl===null?tl=[f]:tl.push(f),ct!==4&&(ct=2),n===null)return!0;o=Cn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Of(a.stateNode,o,t),lf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rr===null||!Rr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Lg(h),zg(h,t,a,o),lf(a,h),!1}a=a.return}while(a!==null);return!1}var Vf=Error(s(461)),At=!1;function qt(t,n,a,o){n.child=t===null?Hp(n,null,a,o):Ds(n,t.child,a,o)}function jg(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Rs(n),o=mf(t,n,a,g,f,h),E=pf(),t!==null&&!At?(gf(t,n,h),ji(t,n,h)):(Me&&E&&Kh(n),n.flags|=1,qt(t,n,o,h),n.child)}function Bg(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,qg(t,n,f,o,h)):(t=Cu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bf(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Vo,a(g,o)&&t.ref===n.ref)return ji(t,n,h)}return n.flags|=1,t=Mi(f,o),t.ref=n.ref,t.return=n,n.child=t}function qg(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Vo(f,o)&&t.ref===n.ref)if(At=!1,n.pendingProps=o=f,Bf(t,h))(t.flags&131072)!==0&&(At=!0);else return n.lanes=t.lanes,ji(t,n,h)}return Mf(t,n,a,o,h)}function Hg(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Gg(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Yp(n,f):cf(),Qp(n);else return o=n.lanes=536870912,Gg(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Ou(n,f.cachePool),Yp(n,f),Sr(),n.memoizedState=null):(t!==null&&Ou(n,null),cf(),Sr());return qt(t,n,h,a),n.child}function Ko(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gg(t,n,a,o,h){var f=rf();return f=f===null?null:{parent:Tt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ou(n,null),cf(),Qp(n),t!==null&&ga(t,n,o,!0),n.childLanes=h,null}function Ku(t,n){return n=Ju({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Fg(t,n,a){return Ds(n,t.child,null,a),t=Ku(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function hS(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Me){if(o.mode==="hidden")return t=Ku(n,o),n.lanes=536870912,Ko(null,t);if(ff(n),(t=et)?(t=i_(t,Nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:mr!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},a=Cp(t),a.return=n,n.child=a,jt=n,et=null)):t=null,t===null)throw gr(n);return n.lanes=536870912,null}return Ku(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Fg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(At||ga(t,n,a,!1),h=(a&t.childLanes)!==0,At||h){if(o=$e,o!==null&&(g=po(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ss(t,g),un(o,t,g),Vf;sc(),n=Fg(t,n,a)}else t=f.treeContext,et=Vn(g.nextSibling),jt=n,Me=!0,pr=null,Nn=!1,t!==null&&Np(n,t),n=Ku(n,o),n.flags|=4096;return n}return t=Mi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Xu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Mf(t,n,a,o,h){return Rs(n),a=mf(t,n,a,o,void 0,h),o=pf(),t!==null&&!At?(gf(t,n,h),ji(t,n,h)):(Me&&o&&Kh(n),n.flags|=1,qt(t,n,a,h),n.child)}function Yg(t,n,a,o,h,f){return Rs(n),n.updateQueue=null,a=Xp(n,o,a,h),Kp(t),o=pf(),t!==null&&!At?(gf(t,n,f),ji(t,n,f)):(Me&&o&&Kh(n),n.flags|=1,qt(t,n,a,f),n.child)}function Qg(t,n,a,o,h){if(Rs(n),n.stateNode===null){var f=fa,g=a.contextType;typeof g=="object"&&g!==null&&(f=Bt(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Bt(g):fa,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Df(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Ho(n,o,f,h),qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Os(a,E);f.props=I;var z=f.context,G=a.contextType;g=fa,typeof G=="object"&&G!==null&&(g=Bt(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Vg(n,f,o,g),_r=!1;var j=n.memoizedState;f.state=j,Ho(n,o,f,h),qo(),z=n.memoizedState,E||j!==z||_r?(typeof Q=="function"&&(Df(n,a,Q,o),z=n.memoizedState),(I=_r||Og(n,a,I,o,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(t,n),g=n.memoizedProps,G=Os(a,g),f.props=G,Q=n.pendingProps,j=f.context,z=a.contextType,I=fa,typeof z=="object"&&z!==null&&(I=Bt(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||j!==I)&&Vg(n,f,o,I),_r=!1,j=n.memoizedState,f.state=j,Ho(n,o,f,h),qo();var H=n.memoizedState;g!==Q||j!==H||_r||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof E=="function"&&(Df(n,a,E,o),H=n.memoizedState),(G=_r||Og(n,a,G,o,j,H,I)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Ds(n,t.child,null,h),n.child=Ds(n,null,a,h)):qt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=ji(t,n,h),t}function Kg(t,n,a,o){return bs(),n.flags|=256,qt(t,n,a,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Pp()}}function Pf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function Xg(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(dt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Me){if(h?Tr(n):Sr(),(t=et)?(t=i_(t,Nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:mr!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},a=Cp(t),a.return=n,n.child=a,jt=n,et=null)):t=null,t===null)throw gr(n);return vd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Sr(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=As(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Uf(a),o.childLanes=Pf(t,g,a),n.memoizedState=kf,Ko(null,o)):(Tr(n),Lf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Tr(n),n.flags&=-257,n=zf(t,n,a)):n.memoizedState!==null?(Sr(),n.child=t.child,n.flags|=128,n=null):(Sr(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=As(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ds(n,t.child,null,a),o=n.child,o.memoizedState=Uf(a),o.childLanes=Pf(t,g,a),n.memoizedState=kf,n=Ko(null,o));else if(Tr(n),vd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(s(419)),o.stack="",o.digest=g,Uo({value:o,source:null,stack:null}),n=zf(t,n,a)}else if(At||ga(t,n,a,!1),g=(a&t.childLanes)!==0,At||g){if(g=$e,g!==null&&(o=po(g,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Ss(t,o),un(g,t,o),Vf;_d(E)||sc(),n=zf(t,n,a)}else _d(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,et=Vn(E.nextSibling),jt=n,Me=!0,pr=null,Nn=!1,t!==null&&Np(n,t),n=Lf(n,o.children),n.flags|=4096);return n}return h?(Sr(),E=o.fallback,h=n.mode,I=t.child,z=I.sibling,o=Mi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Mi(z,E):(E=As(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Ko(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Uf(a):(h=E.cachePool,h!==null?(I=Tt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Pp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Pf(t,g,a),n.memoizedState=kf,Ko(t.child,o)):(Tr(n),a=t.child,t=a.sibling,a=Mi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Lf(t,n){return n=Ju({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ju(t,n){return t=pn(22,t,null,n),t.lanes=0,t}function zf(t,n,a){return Ds(n,t.child,null,a),t=Lf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Jg(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),$h(t.return,n,a)}function jf(t,n,a,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Zg(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=dt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ne(dt,g),qt(t,n,o,a),o=Me?ko:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jg(t,a,n);else if(t.tag===19)Jg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Lu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),jf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Lu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}jf(n,!0,a,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),wr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ga(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Mi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Mi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function fS(t,n,a){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),yr(n,Tt,t.memoizedState.cache),bs();break;case 27:case 5:rs(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:yr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Tr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Xg(t,n,a):(Tr(n),t=ji(t,n,a),t!==null?t.sibling:null);Tr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ga(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Zg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(dt,dt.current),o)break;return null;case 22:return n.lanes=0,Hg(t,n,a,n.pendingProps);case 24:yr(n,Tt,t.memoizedState.cache)}return ji(t,n,a)}function Wg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)At=!0;else{if(!Bf(t,a)&&(n.flags&128)===0)return At=!1,fS(t,n,a);At=(t.flags&131072)!==0}else At=!1,Me&&(n.flags&1048576)!==0&&Dp(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Cs(n.elementType),n.type=t,typeof t=="function")Fh(t)?(o=Os(t,o),n.tag=1,n=Qg(null,n,t,o,a)):(n.tag=0,n=Mf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ge){n.tag=11,n=jg(null,n,t,o,a);break e}else if(h===C){n.tag=14,n=Bg(null,n,t,o,a);break e}}throw n=it(t)||t,Error(s(306,n,""))}}return n;case 0:return Mf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Os(o,n.pendingProps),Qg(t,n,o,h,a);case 3:e:{if(Ct(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(t,n),Ho(n,o,null,a);var g=n.memoizedState;if(o=g.cache,yr(n,Tt,o),o!==f.cache&&ef(n,[Tt],a,!0),qo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Kg(t,n,o,a);break e}else if(o!==h){h=Cn(Error(s(424)),n),Uo(h),n=Kg(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(et=Vn(t.firstChild),jt=n,Me=!0,pr=null,Nn=!0,a=Hp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bs(),o===h){n=ji(t,n,a);break e}qt(t,n,o,a)}n=n.child}return n;case 26:return Xu(t,n),t===null?(a=u_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Me||(a=n.type,t=n.pendingProps,o=fc(be.current).createElement(a),o[_t]=n,o[Mt]=t,Ht(o,a,t),vt(o),n.stateNode=o):n.memoizedState=u_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return rs(n),t===null&&Me&&(o=n.stateNode=a_(n.type,n.pendingProps,be.current),jt=n,Nn=!0,h=et,Dr(n.type)?(Ed=h,et=Vn(o.firstChild)):et=h),qt(t,n,n.pendingProps.children,a),Xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Me&&((h=o=et)&&(o=qS(o,n.type,n.pendingProps,Nn),o!==null?(n.stateNode=o,jt=n,et=Vn(o.firstChild),Nn=!1,h=!0):h=!1),h||gr(n)),rs(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,pd(h,f)?o=null:g!==null&&pd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(t,n,iS,null,null,a),ul._currentValue=h),Xu(t,n),qt(t,n,o,a),n.child;case 6:return t===null&&Me&&((t=a=et)&&(a=HS(a,n.pendingProps,Nn),a!==null?(n.stateNode=a,jt=n,et=null,t=!0):t=!1),t||gr(n)),null;case 13:return Xg(t,n,a);case 4:return Ct(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Ds(n,null,o,a):qt(t,n,o,a),n.child;case 11:return jg(t,n,n.type,n.pendingProps,a);case 7:return qt(t,n,n.pendingProps,a),n.child;case 8:return qt(t,n,n.pendingProps.children,a),n.child;case 12:return qt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,yr(n,n.type,o.value),qt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Rs(n),h=Bt(h),o=o(h),n.flags|=1,qt(t,n,o,a),n.child;case 14:return Bg(t,n,n.type,n.pendingProps,a);case 15:return qg(t,n,n.type,n.pendingProps,a);case 19:return Zg(t,n,a);case 31:return hS(t,n,a);case 22:return Hg(t,n,a,n.pendingProps);case 24:return Rs(n),o=Bt(Tt),t===null?(h=rf(),h===null&&(h=$e,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},af(n),yr(n,Tt,h)):((t.lanes&a)!==0&&(of(t,n),Ho(n,null,null,a),qo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),yr(n,Tt,o)):(o=f.cache,yr(n,Tt,o),o!==h.cache&&ef(n,[Tt],a,!0))),qt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Bi(t){t.flags|=4}function qf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(wy())t.flags|=8192;else throw xs=Mu,sf}else t.flags&=-16777217}function $g(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m_(n))if(wy())t.flags|=8192;else throw xs=Mu,sf}function Zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?iu():536870912,t.lanes|=n,Ca|=n)}function Xo(t,n){if(!Me)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function tt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function dS(t,n,a){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(Tt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(pa(n)?Bi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),tt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Bi(n),f!==null?(tt(n),$g(n,f)):(tt(n),qf(n,h,null,o,a))):f?f!==t.memoizedState?(Bi(n),tt(n),$g(n,f)):(tt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Bi(n),tt(n),qf(n,h,t,o,a)),null;case 27:if(Qs(n),a=be.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return tt(n),null}t=re.current,pa(n)?Op(n):(t=a_(h,o,a),n.stateNode=t,Bi(n))}return tt(n),null;case 5:if(Qs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return tt(n),null}if(f=re.current,pa(n))Op(n);else{var g=fc(be.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[_t]=n,f[Mt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Ht(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Bi(n)}}return tt(n),qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=be.current,pa(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=jt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[_t]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Xy(t.nodeValue,a)),t||gr(n,!0)}else t=fc(t).createTextNode(o),t[_t]=n,n.stateNode=t}return tt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=pa(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[_t]=n}else bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),t=!1}else a=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return tt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_t]=n}else bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),h=!1}else h=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Zu(n,n.updateQueue),tt(n),null);case 4:return rt(),t===null&&cd(n.stateNode.containerInfo),tt(n),null;case 10:return Pi(n.type),tt(n),null;case 19:if(K(dt),o=n.memoizedState,o===null)return tt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Xo(o,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Lu(t),f!==null){for(n.flags|=128,Xo(o,!1),t=f.updateQueue,n.updateQueue=t,Zu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Ip(a,t),a=a.sibling;return ne(dt,dt.current&1|2),Me&&ki(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&$t()>nc&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304)}else{if(!h)if(t=Lu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Zu(n,t),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Me)return tt(n),null}else 2*$t()-o.renderingStartTime>nc&&a!==536870912&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$t(),t.sibling=null,a=dt.current,ne(dt,h?a&1|2:a&1),Me&&ki(n,o.treeForkCount),t):(tt(n),null);case 22:case 23:return yn(n),hf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),a=n.updateQueue,a!==null&&Zu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&K(Is),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Pi(Tt),tt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function mS(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Pi(Tt),rt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Qs(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(s(340));bs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));bs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(dt),null;case 4:return rt(),null;case 10:return Pi(n.type),null;case 22:case 23:return yn(n),hf(),t!==null&&K(Is),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Pi(Tt),null;case 25:return null;default:return null}}function ey(t,n){switch(Xh(n),n.tag){case 3:Pi(Tt),rt();break;case 26:case 27:case 5:Qs(n);break;case 4:rt();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:K(dt);break;case 10:Pi(n.type);break;case 22:case 23:yn(n),hf(),t!==null&&K(Is);break;case 24:Pi(Tt)}}function Jo(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Ke(n,n.return,E)}}function Ar(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=a,z=E;try{z()}catch(G){Ke(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Ke(n,n.return,G)}}function ty(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Fp(n,a)}catch(o){Ke(t,t.return,o)}}}function ny(t,n,a){a.props=Os(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ke(t,n,o)}}function Zo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ke(t,n,h)}}function _i(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ke(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ke(t,n,h)}else a.current=null}function iy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ke(t,t.return,h)}}function Hf(t,n,a){try{var o=t.stateNode;US(o,t.type,a,n),o[Mt]=n}catch(h){Ke(t,t.return,h)}}function ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Dr(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Dr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Dr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Ff(t,n,a),t=t.sibling;t!==null;)Ff(t,n,a),t=t.sibling}function Wu(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Dr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Wu(t,n,a),t=t.sibling;t!==null;)Wu(t,n,a),t=t.sibling}function sy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ht(n,o,a),n[_t]=t,n[Mt]=a}catch(f){Ke(t,t.return,f)}}var qi=!1,bt=!1,Yf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function pS(t,n){if(t=t.containerInfo,dd=vc,t=_p(t),Lh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,I=-1,z=0,G=0,Q=t,j=null;t:for(;;){for(var H;Q!==a||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||o!==0&&Q.nodeType!==3||(I=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(H=Q.firstChild)!==null;)j=Q,Q=H;for(;;){if(Q===t)break t;if(j===a&&++z===h&&(E=g),j===f&&++G===o&&(I=g),(H=Q.nextSibling)!==null)break;Q=j,j=Q.parentNode}Q=H}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:t,selectionRange:a},vc=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var se=Os(a.type,h);t=o.getSnapshotBeforeUpdate(se,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(fe){Ke(a,a.return,fe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function oy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(t,a),o&4&&Jo(5,a);break;case 1:if(Gi(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Ke(a,a.return,g)}else{var h=Os(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ke(a,a.return,g)}}o&64&&ty(a),o&512&&Zo(a,a.return);break;case 3:if(Gi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Fp(t,n)}catch(g){Ke(a,a.return,g)}}break;case 27:n===null&&o&4&&sy(a);case 26:case 5:Gi(t,a),n===null&&o&4&&iy(a),o&512&&Zo(a,a.return);break;case 12:Gi(t,a);break;case 31:Gi(t,a),o&4&&cy(t,a);break;case 13:Gi(t,a),o&4&&hy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=bS.bind(null,a),GS(t,a))));break;case 22:if(o=a.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||bt,h=qi;var f=bt;qi=o,(bt=n)&&!f?Fi(t,a,(a.subtreeFlags&8772)!==0):Gi(t,a),qi=h,bt=f}break;case 30:break;default:Gi(t,a)}}function ly(t){var n=t.alternate;n!==null&&(t.alternate=null,ly(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ws(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,sn=!1;function Hi(t,n,a){for(a=a.child;a!==null;)uy(t,n,a),a=a.sibling}function uy(t,n,a){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:bt||_i(a,n),Hi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||_i(a,n);var o=at,h=sn;Dr(a.type)&&(at=a.stateNode,sn=!1),Hi(t,n,a),al(a.stateNode),at=o,sn=h;break;case 5:bt||_i(a,n);case 6:if(o=at,h=sn,at=null,Hi(t,n,a),at=o,sn=h,at!==null)if(sn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(f){Ke(a,n,f)}else try{at.removeChild(a.stateNode)}catch(f){Ke(a,n,f)}break;case 18:at!==null&&(sn?(t=at,t_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ua(t)):t_(at,a.stateNode));break;case 4:o=at,h=sn,at=a.stateNode.containerInfo,sn=!0,Hi(t,n,a),at=o,sn=h;break;case 0:case 11:case 14:case 15:Ar(2,a,n),bt||Ar(4,a,n),Hi(t,n,a);break;case 1:bt||(_i(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ny(a,n,o)),Hi(t,n,a);break;case 21:Hi(t,n,a);break;case 22:bt=(o=bt)||a.memoizedState!==null,Hi(t,n,a),bt=o;break;default:Hi(t,n,a)}}function cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ua(t)}catch(a){Ke(n,n.return,a)}}}function hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ua(t)}catch(a){Ke(n,n.return,a)}}function gS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ay),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ay),n;default:throw Error(s(435,t.tag))}}function $u(t,n){var a=gS(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=wS.bind(null,t,o);o.then(h,h)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Dr(E.type)){at=E.stateNode,sn=!1;break e}break;case 5:at=E.stateNode,sn=!1;break e;case 3:case 4:at=E.stateNode.containerInfo,sn=!0;break e}E=E.return}if(at===null)throw Error(s(160));uy(f,g,h),at=null,sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,t),n=n.sibling}var Qn=null;function fy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),on(t),o&4&&(Ar(3,t,t.return),Jo(3,t),Ar(5,t,t.return));break;case 1:an(n,t),on(t),o&512&&(bt||a===null||_i(a,a.return)),o&64&&qi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Qn;if(an(n,t),on(t),o&512&&(bt||a===null||_i(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[_t]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ht(f,o,a),f[_t]=t,vt(f),o=f;break e;case"link":var g=f_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),Ht(f,o,a),h.head.appendChild(f);break;case"meta":if(g=f_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(o),Ht(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[_t]=t,vt(f),o=f}t.stateNode=o}else d_(h,t.type,t.stateNode);else t.stateNode=h_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?d_(h,t.type,t.stateNode):h_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),on(t),o&512&&(bt||a===null||_i(a,a.return)),a!==null&&o&4&&Hf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),on(t),o&512&&(bt||a===null||_i(a,a.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(se){Ke(t,t.return,se)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Hf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(an(n,t),on(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(se){Ke(t,t.return,se)}}break;case 3:if(pc=null,h=Qn,Qn=dc(n.containerInfo),an(n,t),Qn=h,on(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(se){Ke(t,t.return,se)}Yf&&(Yf=!1,dy(t));break;case 4:o=Qn,Qn=dc(t.stateNode.containerInfo),an(n,t),on(t),Qn=o;break;case 12:an(n,t),on(t);break;case 31:an(n,t),on(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$u(t,o)));break;case 13:an(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tc=$t()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$u(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=qi,G=bt;if(qi=z||h,bt=G||I,an(n,t),bt=G,qi=z,on(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||qi||bt||Vs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Q=I.memoizedProps.style,j=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(se){Ke(I,I.return,se)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(se){Ke(I,I.return,se)}}}else if(n.tag===18){if(a===null){I=n;try{var H=I.stateNode;h?n_(H,!0):n_(I.stateNode,!1)}catch(se){Ke(I,I.return,se)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,$u(t,a))));break;case 19:an(n,t),on(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,$u(t,o)));break;case 30:break;case 21:break;default:an(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(ry(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Gf(t);Wu(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(rn(g,""),a.flags&=-33);var E=Gf(t);Wu(t,E,g);break;case 3:case 4:var I=a.stateNode.containerInfo,z=Gf(t);Ff(t,z,I);break;default:throw Error(s(161))}}catch(G){Ke(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Gi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(t,n.alternate,n),n=n.sibling}function Vs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ar(4,n,n.return),Vs(n);break;case 1:_i(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ny(n,n.return,a),Vs(n);break;case 27:al(n.stateNode);case 26:case 5:_i(n,n.return),Vs(n);break;case 22:n.memoizedState===null&&Vs(n);break;case 30:Vs(n);break;default:Vs(n)}t=t.sibling}}function Fi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,a),Jo(4,f);break;case 1:if(Fi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ke(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Gp(I[h],E)}catch(z){Ke(o,o.return,z)}}a&&g&64&&ty(f),Zo(f,f.return);break;case 27:sy(f);case 26:case 5:Fi(h,f,a),a&&o===null&&g&4&&iy(f),Zo(f,f.return);break;case 12:Fi(h,f,a);break;case 31:Fi(h,f,a),a&&g&4&&cy(h,f);break;case 13:Fi(h,f,a),a&&g&4&&hy(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,a),Zo(f,f.return);break;case 30:break;default:Fi(h,f,a)}n=n.sibling}}function Qf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Po(a))}function Kf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Po(t))}function Kn(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(t,n,a,o),n=n.sibling}function my(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(t,n,a,o),h&2048&&Jo(9,n);break;case 1:Kn(t,n,a,o);break;case 3:Kn(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Po(t)));break;case 12:if(h&2048){Kn(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ke(n,n.return,I)}}else Kn(t,n,a,o);break;case 31:Kn(t,n,a,o);break;case 13:Kn(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(t,n,a,o):Wo(t,n):f._visibility&2?Kn(t,n,a,o):(f._visibility|=2,wa(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(g,n);break;case 24:Kn(t,n,a,o),h&2048&&Kf(n.alternate,n);break;default:Kn(t,n,a,o)}}function wa(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,I=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:wa(f,g,E,I,h),Jo(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?wa(f,g,E,I,h):Wo(f,g):(G._visibility|=2,wa(f,g,E,I,h)),h&&z&2048&&Qf(g.alternate,g);break;case 24:wa(f,g,E,I,h),h&&z&2048&&Kf(g.alternate,g);break;default:wa(f,g,E,I,h)}n=n.sibling}}function Wo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:Wo(a,o),h&2048&&Qf(o.alternate,o);break;case 24:Wo(a,o),h&2048&&Kf(o.alternate,o);break;default:Wo(a,o)}n=n.sibling}}var $o=8192;function Ra(t,n,a){if(t.subtreeFlags&$o)for(t=t.child;t!==null;)py(t,n,a),t=t.sibling}function py(t,n,a){switch(t.tag){case 26:Ra(t,n,a),t.flags&$o&&t.memoizedState!==null&&nA(a,Qn,t.memoizedState,t.memoizedProps);break;case 5:Ra(t,n,a);break;case 3:case 4:var o=Qn;Qn=dc(t.stateNode.containerInfo),Ra(t,n,a),Qn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=$o,$o=16777216,Ra(t,n,a),$o=o):Ra(t,n,a));break;default:Ra(t,n,a)}}function gy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function el(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ut=o,_y(o,t)}gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 0:case 11:case 15:el(t),t.flags&2048&&Ar(9,t,t.return);break;case 3:el(t);break;case 12:el(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ec(t)):el(t);break;default:el(t)}}function ec(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ut=o,_y(o,t)}gy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ar(8,n,n.return),ec(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ec(n));break;default:ec(n)}t=t.sibling}}function _y(t,n){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ar(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ut=o;else e:for(a=t;Ut!==null;){o=Ut;var h=o.sibling,f=o.return;if(ly(o),o===a){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var yS={getCacheForType:function(t){var n=Bt(Tt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Bt(Tt).controller.signal}},_S=typeof WeakMap=="function"?WeakMap:Map,Be=0,$e=null,Re=null,xe=0,Qe=0,_n=null,br=!1,Ia=!1,Xf=!1,Yi=0,ct=0,wr=0,Ms=0,Jf=0,vn=0,Ca=0,tl=null,ln=null,Zf=!1,tc=0,vy=0,nc=1/0,ic=null,Rr=null,Dt=0,Ir=null,xa=null,Qi=0,Wf=0,$f=null,Ey=null,nl=0,ed=null;function En(){return(Be&2)!==0&&xe!==0?xe&-xe:F.T!==null?ad():ru()}function Ty(){if(vn===0)if((xe&536870912)===0||Me){var t=os;os<<=1,(os&3932160)===0&&(os=262144),vn=t}else vn=536870912;return t=gn.current,t!==null&&(t.flags|=32),vn}function un(t,n,a){(t===$e&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Da(t,0),Cr(t,xe,vn,!1)),ls(t,a),((Be&2)===0||t!==$e)&&(t===$e&&((Be&2)===0&&(Ms|=a),ct===4&&Cr(t,xe,vn,!1)),vi(t))}function Sy(t,n,a){if((Be&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Ln(t,n),h=o?TS(t,n):nd(t,n,!0),f=o;do{if(h===0){Ia&&!o&&Cr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!vS(a)){h=nd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=tl;var I=E.current.memoizedState.isDehydrated;if(I&&(Da(E,g).flags|=256),g=nd(E,g,!1),g!==2){if(Xf&&!I){E.errorRecoveryDisabledLanes|=f,Ms|=f,h=4;break e}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Da(t,0),Cr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Cr(o,n,vn,!br);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=tc+300-$t(),10<h)){if(Cr(o,n,vn,!br),ti(o,0,!0)!==0)break e;Qi=n,o.timeoutHandle=$y(Ay.bind(null,o,a,ln,ic,Zf,n,vn,Ms,Ca,br,f,"Throttled",-0,0),h);break e}Ay(o,a,ln,ic,Zf,n,vn,Ms,Ca,br,f,null,-0,0)}}break}while(!0);vi(t)}function Ay(t,n,a,o,h,f,g,E,I,z,G,Q,j,H){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},py(n,f,Q);var se=(f&62914560)===f?tc-$t():(f&4194048)===f?vy-$t():0;if(se=iA(Q,se),se!==null){Qi=f,t.cancelPendingCommit=se(Ny.bind(null,t,n,f,a,o,h,g,E,I,G,Q,null,j,H)),Cr(t,f,g,!z);return}}Ny(t,n,f,a,o,h,g,E,I)}function vS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cr(t,n,a,o){n&=~Jf,n&=~Ms,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-ht(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&us(t,a,n)}function rc(){return(Be&6)===0?(il(0),!1):!0}function td(){if(Re!==null){if(Qe===0)var t=Re.return;else t=Re,Ui=ws=null,yf(t),Ea=null,zo=0,t=Re;for(;t!==null;)ey(t.alternate,t),t=t.return;Re=null}}function Da(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,zS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qi=0,td(),$e=t,Re=a=Mi(t.current,null),xe=n,Qe=0,_n=null,br=!1,Ia=Ln(t,n),Xf=!1,Ca=vn=Jf=Ms=wr=ct=0,ln=tl=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ht(o),f=1<<h;n|=t[h],o&=~f}return Yi=n,wu(),a}function by(t,n){Se=null,F.H=Qo,n===va||n===Vu?(n=jp(),Qe=3):n===sf?(n=jp(),Qe=4):Qe=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Re===null&&(ct=1,Qu(t,Cn(n,t.current)))}function wy(){var t=gn.current;return t===null?!0:(xe&4194048)===xe?On===null:(xe&62914560)===xe||(xe&536870912)!==0?t===On:!1}function Ry(){var t=F.H;return F.H=Qo,t===null?Qo:t}function Iy(){var t=F.A;return F.A=yS,t}function sc(){ct=4,br||(xe&4194048)!==xe&&gn.current!==null||(Ia=!0),(wr&134217727)===0&&(Ms&134217727)===0||$e===null||Cr($e,xe,vn,!1)}function nd(t,n,a){var o=Be;Be|=2;var h=Ry(),f=Iy();($e!==t||xe!==n)&&(ic=null,Da(t,n)),n=!1;var g=ct;e:do try{if(Qe!==0&&Re!==null){var E=Re,I=_n;switch(Qe){case 8:td(),g=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var z=Qe;if(Qe=0,_n=null,Na(t,E,I,z),a&&Ia){g=0;break e}break;default:z=Qe,Qe=0,_n=null,Na(t,E,I,z)}}ES(),g=ct;break}catch(G){by(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ui=ws=null,Be=o,F.H=h,F.A=f,Re===null&&($e=null,xe=0,wu()),g}function ES(){for(;Re!==null;)Cy(Re)}function TS(t,n){var a=Be;Be|=2;var o=Ry(),h=Iy();$e!==t||xe!==n?(ic=null,nc=$t()+500,Da(t,n)):Ia=Ln(t,n);e:do try{if(Qe!==0&&Re!==null){n=Re;var f=_n;t:switch(Qe){case 1:Qe=0,_n=null,Na(t,n,f,1);break;case 2:case 9:if(Lp(f)){Qe=0,_n=null,xy(n);break}n=function(){Qe!==2&&Qe!==9||$e!==t||(Qe=7),vi(t)},f.then(n,n);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Lp(f)?(Qe=0,_n=null,xy(n)):(Qe=0,_n=null,Na(t,n,f,7));break;case 5:var g=null;switch(Re.tag){case 26:g=Re.memoizedState;case 5:case 27:var E=Re;if(g?m_(g):E.stateNode.complete){Qe=0,_n=null;var I=E.sibling;if(I!==null)Re=I;else{var z=E.return;z!==null?(Re=z,ac(z)):Re=null}break t}}Qe=0,_n=null,Na(t,n,f,5);break;case 6:Qe=0,_n=null,Na(t,n,f,6);break;case 8:td(),ct=6;break e;default:throw Error(s(462))}}SS();break}catch(G){by(t,G)}while(!0);return Ui=ws=null,F.H=o,F.A=h,Be=a,Re!==null?0:($e=null,xe=0,wu(),ct)}function SS(){for(;Re!==null&&!Nh();)Cy(Re)}function Cy(t){var n=Wg(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,n===null?ac(t):Re=n}function xy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Yg(a,n,n.pendingProps,n.type,void 0,xe);break;case 11:n=Yg(a,n,n.pendingProps,n.type.render,n.ref,xe);break;case 5:yf(n);default:ey(a,n),n=Re=Ip(n,Yi),n=Wg(a,n,Yi)}t.memoizedProps=t.pendingProps,n===null?ac(t):Re=n}function Na(t,n,a,o){Ui=ws=null,yf(n),Ea=null,zo=0;var h=n.return;try{if(cS(t,h,n,a,xe)){ct=1,Qu(t,Cn(a,t.current)),Re=null;return}}catch(f){if(h!==null)throw Re=h,f;ct=1,Qu(t,Cn(a,t.current)),Re=null;return}n.flags&32768?(Me||o===1?t=!0:Ia||(xe&536870912)!==0?t=!1:(br=t=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dy(n,t)):ac(n)}function ac(t){var n=t;do{if((n.flags&32768)!==0){Dy(n,br);return}t=n.return;var a=dS(n.alternate,n,Yi);if(a!==null){Re=a;return}if(n=n.sibling,n!==null){Re=n;return}Re=n=t}while(n!==null);ct===0&&(ct=5)}function Dy(t,n){do{var a=mS(t.alternate,t);if(a!==null){a.flags&=32767,Re=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Re=t;return}Re=t=a}while(t!==null);ct=6,Re=null}function Ny(t,n,a,o,h,f,g,E,I){t.cancelPendingCommit=null;do oc();while(Dt!==0);if((Be&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Hh,Mh(t,a,f,g,E,I),t===$e&&(Re=$e=null,xe=0),xa=n,Ir=t,Qi=a,Wf=f,$f=h,Ey=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,RS(rr,function(){return Uy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=te.p,te.p=2,g=Be,Be|=4;try{pS(t,n,a)}finally{Be=g,te.p=h,F.T=o}}Dt=1,Oy(),Vy(),My()}}function Oy(){if(Dt===1){Dt=0;var t=Ir,n=xa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=Be;Be|=4;try{fy(n,t);var f=md,g=_p(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&yp(E.ownerDocument.documentElement,E)){if(I!==null&&Lh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,j=Q&&Q.defaultView||window;if(j.getSelection){var H=j.getSelection(),se=E.textContent.length,fe=Math.min(I.start,se),We=I.end===void 0?fe:Math.min(I.end,se);!H.extend&&fe>We&&(g=We,We=fe,fe=g);var k=gp(E,fe),N=gp(E,We);if(k&&N&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var L=Q.createRange();L.setStart(k.node,k.offset),H.removeAllRanges(),fe>We?(H.addRange(L),H.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),H.addRange(L))}}}}for(Q=[],H=E;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var Y=Q[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}vc=!!dd,md=dd=null}finally{Be=h,te.p=o,F.T=a}}t.current=n,Dt=2}}function Vy(){if(Dt===2){Dt=0;var t=Ir,n=xa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=te.p;te.p=2;var h=Be;Be|=4;try{oy(t,n.alternate,n)}finally{Be=h,te.p=o,F.T=a}}Dt=3}}function My(){if(Dt===4||Dt===3){Dt=0,Zl();var t=Ir,n=xa,a=Qi,o=Ey;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,xa=Ir=null,ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Rr=null),Di(a),n=n.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=te.p,te.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,te.p=h}}(Qi&3)!==0&&oc(),vi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ed?nl++:(nl=0,ed=t):nl=0,il(0)}}function ky(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Po(n)))}function oc(){return Oy(),Vy(),My(),Uy()}function Uy(){if(Dt!==5)return!1;var t=Ir,n=Wf;Wf=0;var a=Di(Qi),o=F.T,h=te.p;try{te.p=32>a?32:a,F.T=null,a=$f,$f=null;var f=Ir,g=Qi;if(Dt=0,xa=Ir=null,Qi=0,(Be&6)!==0)throw Error(s(331));var E=Be;if(Be|=4,yy(f.current),my(f,f.current,g,a),Be=E,il(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{te.p=h,F.T=o,ky(t,n)}}function Py(t,n,a){n=Cn(a,n),n=Of(t.stateNode,n,2),t=Er(t,n,2),t!==null&&(ls(t,2),vi(t))}function Ke(t,n,a){if(t.tag===3)Py(t,t,a);else for(;n!==null;){if(n.tag===3){Py(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){t=Cn(a,t),a=Lg(2),o=Er(n,a,2),o!==null&&(zg(a,o,n,t),ls(o,2),vi(o));break}}n=n.return}}function id(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new _S;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Xf=!0,h.add(a),t=AS.bind(null,t,n,a),n.then(t,t))}function AS(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$e===t&&(xe&a)===a&&(ct===4||ct===3&&(xe&62914560)===xe&&300>$t()-tc?(Be&2)===0&&Da(t,0):Jf|=a,Ca===xe&&(Ca=0)),vi(t)}function Ly(t,n){n===0&&(n=iu()),t=Ss(t,n),t!==null&&(ls(t,n),vi(t))}function bS(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ly(t,a)}function wS(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Ly(t,a)}function RS(t,n){return xt(t,n)}var lc=null,Oa=null,rd=!1,uc=!1,sd=!1,xr=0;function vi(t){t!==Oa&&t.next===null&&(Oa===null?lc=Oa=t:Oa=Oa.next=t),uc=!0,rd||(rd=!0,CS())}function il(t,n){if(!sd&&uc){sd=!0;do for(var a=!1,o=lc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ht(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,qy(o,f))}else f=xe,f=ti(o,o===$e?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(a=!0,qy(o,f));o=o.next}while(a);sd=!1}}function IS(){zy()}function zy(){uc=rd=!1;var t=0;xr!==0&&LS()&&(t=xr);for(var n=$t(),a=null,o=lc;o!==null;){var h=o.next,f=jy(o,n);f===0?(o.next=null,a===null?lc=h:a.next=h,h===null&&(Oa=a)):(a=o,(t!==0||(f&3)!==0)&&(uc=!0)),o=h}Dt!==0&&Dt!==5||il(t),xr!==0&&(xr=0)}function jy(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ht(f),E=1<<g,I=h[g];I===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Vh(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=$e,a=xe,a=ti(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ir(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ln(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&ir(o),Di(a)){case 2:case 8:a=fo;break;case 32:a=rr;break;case 268435456:a=Wl;break;default:a=rr}return o=By.bind(null,t),a=xt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&ir(o),t.callbackPriority=2,t.callbackNode=null,2}function By(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(oc()&&t.callbackNode!==a)return null;var o=xe;return o=ti(t,t===$e?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Sy(t,o,n),jy(t,$t()),t.callbackNode!=null&&t.callbackNode===a?By.bind(null,t):null)}function qy(t,n){if(oc())return null;Sy(t,n,!0)}function CS(){jS(function(){(Be&6)!==0?xt(ho,IS):zy()})}function ad(){if(xr===0){var t=ya;t===0&&(t=$n,$n<<=1,($n&261888)===0&&($n=256)),xr=t}return xr}function Hy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:na(""+t)}function Gy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function xS(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=Hy((h[Mt]||null).action),g=o.submitter;g&&(n=(n=g[Mt]||null)?Hy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xr!==0){var I=g?Gy(h,g):new FormData(h);Rf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Gy(h,g):new FormData(h),Rf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],DS=ld.toLowerCase(),NS=ld[0].toUpperCase()+ld.slice(1);Yn(DS,"on"+NS)}Yn(Tp,"onAnimationEnd"),Yn(Sp,"onAnimationIteration"),Yn(Ap,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Q0,"onTransitionRun"),Yn(K0,"onTransitionStart"),Yn(X0,"onTransitionCancel"),Yn(bp,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function Fy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){bu(G)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){bu(G)}h.currentTarget=null,f=I}}}}function Ie(t,n){var a=n[Zs];a===void 0&&(a=n[Zs]=new Set);var o=t+"__bubble";a.has(o)||(Yy(n,t,2,!1),a.add(o))}function ud(t,n,a){var o=0;n&&(o|=4),Yy(a,t,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[cc]){t[cc]=!0,go.forEach(function(a){a!=="selectionchange"&&(OS.has(a)||ud(a,!1,t),ud(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[cc]||(n[cc]=!0,ud("selectionchange",!1,n))}}function Yy(t,n,a,o){switch(T_(n)){case 2:var h=aA;break;case 8:h=oA;break;default:h=wd}a=h.bind(null,n,a,t),h=void 0,!ms||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function hd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue e}E=E.parentNode}}o=o.return}cr(function(){var z=f,G=bn(a),Q=[];e:{var j=wp.get(t);if(j!==void 0){var H=fi,se=t;switch(t){case"keypress":if(gs(a)===0)break e;case"keydown":case"keyup":H=Tu;break;case"focusin":se="focus",H=_s;break;case"focusout":se="blur",H=_s;break;case"beforeblur":case"afterblur":H=_s;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Tp:case Sp:case Ap:H=mu;break;case bp:H=T;break;case"scroll":case"scrollend":H=Co;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Vi;break;case"toggle":case"beforetoggle":H=Te}var fe=(n&4)!==0,We=!fe&&(t==="scroll"||t==="scrollend"),k=fe?j!==null?j+"Capture":null:j;fe=[];for(var N=z,L;N!==null;){var Y=N;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||k===null||(Y=qn(N,k),Y!=null&&fe.push(sl(N,Y,L))),We)break;N=N.return}0<fe.length&&(j=new H(j,se,null,a,G),Q.push({event:j,listeners:fe}))}}if((n&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",j&&a!==wo&&(se=a.relatedTarget||a.fromElement)&&(si(se)||se[ii]))break e;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(se=a.relatedTarget||a.toElement,H=z,se=se?si(se):null,se!==null&&(We=c(se),fe=se.tag,se!==We||fe!==5&&fe!==27&&fe!==6)&&(se=null)):(H=null,se=z),H!==se)){if(fe=xo,Y="onMouseLeave",k="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(fe=Vi,Y="onPointerLeave",k="onPointerEnter",N="pointer"),We=H==null?j:fn(H),L=se==null?j:fn(se),j=new fe(Y,N+"leave",H,a,G),j.target=We,j.relatedTarget=L,Y=null,si(G)===z&&(fe=new fe(k,N+"enter",se,a,G),fe.target=L,fe.relatedTarget=We,Y=fe),We=Y,H&&se)t:{for(fe=VS,k=H,N=se,L=0,Y=k;Y;Y=fe(Y))L++;Y=0;for(var le=N;le;le=fe(le))Y++;for(;0<L-Y;)k=fe(k),L--;for(;0<Y-L;)N=fe(N),Y--;for(;L--;){if(k===N||N!==null&&k===N.alternate){fe=k;break t}k=fe(k),N=fe(N)}fe=null}else fe=null;H!==null&&Qy(Q,j,H,fe,!1),se!==null&&We!==null&&Qy(Q,We,se,fe,!0)}}e:{if(j=z?fn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Le=cp;else if(lp(j))if(hp)Le=G0;else{Le=q0;var ae=B0}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ta(z.elementType)&&(Le=cp):Le=H0;if(Le&&(Le=Le(t,z))){up(Q,Le,a,G);break e}ae&&ae(t,j,z),t==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&So(j,"number",j.value)}switch(ae=z?fn(z):window,t){case"focusin":(lp(ae)||ae.contentEditable==="true")&&(ua=ae,zh=z,Mo=null);break;case"focusout":Mo=zh=ua=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,vp(Q,a,G);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":vp(Q,a,G)}var we;if(je)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else la?vs(t,a)&&(De="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(pi&&a.locale!=="ko"&&(la||De!=="onCompositionStart"?De==="onCompositionEnd"&&la&&(we=Io()):(hi=G,Ro="value"in hi?hi.value:hi.textContent,la=!0)),ae=hc(z,De),0<ae.length&&(De=new mi(De,t,null,a,G),Q.push({event:De,listeners:ae}),we?De.data=we:(we=oa(a),we!==null&&(De.data=we)))),(we=Rn?P0(t,a):L0(t,a))&&(De=hc(z,"onBeforeInput"),0<De.length&&(ae=new mi("onBeforeInput","beforeinput",null,a,G),Q.push({event:ae,listeners:De}),ae.data=we)),xS(Q,t,z,a,G)}Fy(Q,n)})}function sl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function hc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(t,a),h!=null&&o.unshift(sl(t,h,f)),h=qn(t,n),h!=null&&o.push(sl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function VS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qy(t,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=qn(a,f),z!=null&&g.unshift(sl(a,z,I))):h||(z=qn(a,f),z!=null&&g.push(sl(a,z,I)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var MS=/\r\n?/g,kS=/\u0000|\uFFFD/g;function Ky(t){return(typeof t=="string"?t:""+t).replace(MS,`
`).replace(kS,"")}function Xy(t,n){return n=Ky(n),Ky(t)===n}function Ze(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(t,""+o);break;case"className":dn(t,"class",o);break;case"tabIndex":dn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,a,o);break;case"style":bo(t,o,f);break;case"data":if(n!=="object"){dn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=na(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Ze(t,n,"name",h.name,h,null),Ze(t,n,"formEncType",h.formEncType,h,null),Ze(t,n,"formMethod",h.formMethod,h,null),Ze(t,n,"formTarget",h.formTarget,h,null)):(Ze(t,n,"encType",h.encType,h,null),Ze(t,n,"method",h.method,h,null),Ze(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=na(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Bn);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=na(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),$s(t,"popover",o);break;case"xlinkActuate":Et(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Et(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Et(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Et(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Et(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Et(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Et(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Et(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Et(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$s(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hu.get(a)||a,$s(t,a,o))}}function fd(t,n,a,o,h,f){switch(a){case"style":bo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?rn(t,o):(typeof o=="number"||typeof o=="bigint")&&rn(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Mt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):$s(t,a,o)}}}function Ht(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ze(t,n,f,g,a,null)}}h&&Ze(t,n,"srcSet",a.srcSet,a,null),o&&Ze(t,n,"src",a.src,a,null);return;case"input":Ie("invalid",t);var E=f=g=h=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Ze(t,n,o,G,a,null)}}lu(t,f,E,I,z,g,h,!1);return;case"select":Ie("invalid",t),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Ze(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!o,n!=null?ar(t,!!o,n,!1):a!=null&&ar(t,!!o,a,!0);return;case"textarea":Ie("invalid",t),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ze(t,n,g,E,a,null)}or(t,o,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(t,n,I,o,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<rl.length;o++)Ie(rl[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ze(t,n,z,o,a,null)}return;default:if(ta(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&fd(t,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Ze(t,n,E,o,a,null))}function US(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,G=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Q;default:o.hasOwnProperty(H)||Ze(t,n,H,null,o,Q)}}for(var j in o){var H=o[j];if(Q=a[j],o.hasOwnProperty(j)&&(H!=null||Q!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==Q&&Ze(t,n,j,H,o,Q)}}ea(t,g,E,I,z,G,f,h);return;case"select":H=g=E=j=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||Ze(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Ze(t,n,h,f,o,I)}n=E,a=g,o=H,j!=null?ar(t,!!a,j,!1):!!o!=!!a&&(n!=null?ar(t,!!a,n,!0):ar(t,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ze(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Ze(t,n,g,h,o,f)}uu(t,j,H);return;case"option":for(var se in a)if(j=a[se],a.hasOwnProperty(se)&&j!=null&&!o.hasOwnProperty(se))switch(se){case"selected":t.selected=!1;break;default:Ze(t,n,se,null,o,j)}for(I in o)if(j=o[I],H=a[I],o.hasOwnProperty(I)&&j!==H&&(j!=null||H!=null))switch(I){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ze(t,n,I,j,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)j=a[fe],a.hasOwnProperty(fe)&&j!=null&&!o.hasOwnProperty(fe)&&Ze(t,n,fe,null,o,j);for(z in o)if(j=o[z],H=a[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Ze(t,n,z,j,o,H)}return;default:if(ta(n)){for(var We in a)j=a[We],a.hasOwnProperty(We)&&j!==void 0&&!o.hasOwnProperty(We)&&fd(t,n,We,void 0,o,j);for(G in o)j=o[G],H=a[G],!o.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||fd(t,n,G,j,o,H);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Ze(t,n,k,null,o,j);for(Q in o)j=o[Q],H=a[Q],!o.hasOwnProperty(Q)||j===H||j==null&&H==null||Ze(t,n,Q,j,o,H)}function Jy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Jy(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],z=I.startTime;if(z>E)break;var G=I.transferSize,Q=I.initiatorType;G&&Jy(Q)&&(I=I.responseEnd,g+=G*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function fc(t){return t.nodeType===9?t:t.ownerDocument}function Zy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function LS(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(t){return e_.resolve(null).then(t).catch(BS)}:$y;function BS(t){setTimeout(function(){throw t})}function Dr(t){return t==="head"}function t_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Ua(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,al(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&al(t.ownerDocument.body);a=h}while(a);Ua(n)}function n_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function yd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yd(a),Ws(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function qS(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function HS(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function i_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function GS(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ed=null;function r_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function s_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function a_(t,n,a){switch(n=fc(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function al(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ws(t)}var Mn=new Map,o_=new Set;function dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=te.d;te.d={f:FS,r:YS,D:QS,C:KS,L:XS,m:JS,X:WS,S:ZS,M:$S};function FS(){var t=Ki.f(),n=rc();return t||n}function YS(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?bg(n):Ki.r(t)}var Va=typeof document>"u"?null:document;function l_(t,n,a){var o=Va;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),o_.has(h)||(o_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ht(n,"link",t),vt(n),o.head.appendChild(n)))}}function QS(t){Ki.D(t),l_("dns-prefetch",t,null)}function KS(t,n){Ki.C(t,n),l_("preconnect",t,n)}function XS(t,n,a){Ki.L(t,n,a);var o=Va;if(o&&t&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(t)+'"]';var f=h;switch(n){case"style":f=Ma(t);break;case"script":f=ka(t)}Mn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Mn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(ol(f))||n==="script"&&o.querySelector(ll(f))||(n=o.createElement("link"),Ht(n,"link",t),vt(n),o.head.appendChild(n)))}}function JS(t,n){Ki.m(t,n);var a=Va;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(t)}if(!Mn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Mn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ll(f)))return}o=a.createElement("link"),Ht(o,"link",t),vt(o),a.head.appendChild(o)}}}function ZS(t,n,a){Ki.S(t,n,a);var o=Va;if(o&&t){var h=ai(o).hoistableStyles,f=Ma(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ol(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Mn.get(f))&&Td(t,a);var I=g=o.createElement("link");vt(I),Ht(I,"link",t),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function WS(t,n){Ki.X(t,n);var a=Va;if(a&&t){var o=ai(a).hoistableScripts,h=ka(t),f=o.get(h);f||(f=a.querySelector(ll(h)),f||(t=A({src:t,async:!0},n),(n=Mn.get(h))&&Sd(t,n),f=a.createElement("script"),vt(f),Ht(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function $S(t,n){Ki.M(t,n);var a=Va;if(a&&t){var o=ai(a).hoistableScripts,h=ka(t),f=o.get(h);f||(f=a.querySelector(ll(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Mn.get(h))&&Sd(t,n),f=a.createElement("script"),vt(f),Ht(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function u_(t,n,a,o){var h=(h=be.current)?dc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ma(a.href),a=ai(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ma(a.href);var f=ai(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(ol(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),f||eA(h,t,a,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(a),a=ai(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ma(t){return'href="'+nn(t)+'"'}function ol(t){return'link[rel="stylesheet"]['+t+"]"}function c_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function eA(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ht(n,"link",a),vt(n),t.head.appendChild(n))}function ka(t){return'[src="'+nn(t)+'"]'}function ll(t){return"script[async]"+t}function h_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+nn(a.href)+'"]');if(o)return n.instance=o,vt(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),vt(o),Ht(o,"style",h),mc(o,a.precedence,t),n.instance=o;case"stylesheet":h=Ma(a.href);var f=t.querySelector(ol(h));if(f)return n.state.loading|=4,n.instance=f,vt(f),f;o=c_(a),(h=Mn.get(h))&&Td(o,h),f=(t.ownerDocument||t).createElement("link"),vt(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Ht(f,"link",o),n.state.loading|=4,mc(f,a.precedence,t),n.instance=f;case"script":return f=ka(a.src),(h=t.querySelector(ll(f)))?(n.instance=h,vt(h),h):(o=a,(h=Mn.get(f))&&(o=A({},a),Sd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),vt(h),Ht(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,a.precedence,t));return n.instance}function mc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var pc=null;function f_(t,n,a){if(pc===null){var o=new Map,h=pc=new Map;h.set(a,o)}else h=pc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ri]||f[_t]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function d_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function tA(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function nA(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ma(o.href),f=n.querySelector(ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=gc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,vt(f);return}f=n.ownerDocument||n,o=c_(o),(h=Mn.get(h))&&Td(o,h),f=f.createElement("link"),vt(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Ht(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=gc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ad=0;function iA(t,n){return t.stylesheets&&t.count===0&&_c(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&_c(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ad===0&&(Ad=62500*PS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_c(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ad?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yc=null;function _c(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yc=new Map,n.forEach(rA,t),yc=null,gc.call(t))}function rA(t,n){if(!(n.state.loading&4)){var a=yc.get(t);if(a)var o=a.get(null);else{a=new Map,yc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ul={$$typeof:_e,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function sA(t,n,a,o,h,f,g,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function p_(t,n,a,o,h,f,g,E,I,z,G,Q){return t=new sA(t,n,a,g,I,z,G,Q,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},af(f),t}function g_(t){return t?(t=fa,t):fa}function y_(t,n,a,o,h,f){h=g_(h),o.context===null?o.context=h:o.pendingContext=h,o=vr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Er(t,o,n),a!==null&&(un(a,t,n),Bo(a,t,n))}function __(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function bd(t,n){__(t,n),(t=t.alternate)&&__(t,n)}function v_(t){if(t.tag===13||t.tag===31){var n=Ss(t,67108864);n!==null&&un(n,t,67108864),bd(t,67108864)}}function E_(t){if(t.tag===13||t.tag===31){var n=En();n=cs(n);var a=Ss(t,n);a!==null&&un(a,t,n),bd(t,n)}}var vc=!0;function aA(t,n,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=2,wd(t,n,a,o)}finally{te.p=f,F.T=h}}function oA(t,n,a,o){var h=F.T;F.T=null;var f=te.p;try{te.p=8,wd(t,n,a,o)}finally{te.p=f,F.T=h}}function wd(t,n,a,o){if(vc){var h=Rd(o);if(h===null)hd(t,n,o,Ec,a),S_(t,o);else if(uA(h,t,n,a,o))o.stopPropagation();else if(S_(t,o),n&4&&-1<lA.indexOf(t)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ei(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-ht(g);E.entanglements[1]|=I,g&=~I}vi(f),(Be&6)===0&&(nc=$t()+500,il(0))}}break;case 31:case 13:E=Ss(f,2),E!==null&&un(E,f,2),rc(),bd(f,2)}if(f=Rd(o),f===null&&hd(t,n,o,Ec,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(t,n,o,null,a)}}function Rd(t){return t=bn(t),Id(t)}var Ec=null;function Id(t){if(Ec=null,t=si(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ec=t,null}function T_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(as()){case ho:return 2;case fo:return 8;case rr:case Oh:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Cd=!1,Nr=null,Or=null,Vr=null,cl=new Map,hl=new Map,Mr=[],lA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(t,n){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&v_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function uA(t,n,a,o,h){switch(n){case"focusin":return Nr=fl(Nr,t,n,a,o,h),!0;case"dragenter":return Or=fl(Or,t,n,a,o,h),!0;case"mouseover":return Vr=fl(Vr,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,t,n,a,o,h)),!0}return!1}function A_(t){var n=si(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){E_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,zn(t.priority,function(){E_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Rd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);wo=o,a.target.dispatchEvent(o),wo=null}else return n=An(a),n!==null&&v_(n),t.blockedOn=a,!1;n.shift()}return!0}function b_(t,n,a){Tc(t)&&a.delete(n)}function cA(){Cd=!1,Nr!==null&&Tc(Nr)&&(Nr=null),Or!==null&&Tc(Or)&&(Or=null),Vr!==null&&Tc(Vr)&&(Vr=null),cl.forEach(b_),hl.forEach(b_)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cA)))}var Ac=null;function w_(t){Ac!==t&&(Ac=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===t&&(Ac=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Id(o||a)===null)continue;break}var f=An(a);f!==null&&(t.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ua(t){function n(I){return Sc(I,t)}Nr!==null&&Sc(Nr,t),Or!==null&&Sc(Or,t),Vr!==null&&Sc(Vr,t),cl.forEach(n),hl.forEach(n);for(var a=0;a<Mr.length;a++){var o=Mr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)A_(a),a.blockedOn===null&&Mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Mt]||null;if(typeof f=="function")g||w_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Mt]||null)E=g.formAction;else if(Id(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),w_(a)}}}function R_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(t){this._internalRoot=t}bc.prototype.render=xd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=En();y_(a,o,t,n,null,null)},bc.prototype.unmount=xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;y_(t.current,2,null,t,null,null),rc(),n[ii]=null}};function bc(t){this._internalRoot=t}bc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ru();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Mr.length&&n!==0&&n<Mr[a].priority;a++);Mr.splice(a,0,t),a===0&&A_(t)}};var I_=e.version;if(I_!=="19.2.3")throw Error(s(527,I_,"19.2.3"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var hA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Pn=wc.inject(hA),Lt=wc}catch{}}return ml.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=Mg,f=kg,g=Ug;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=p_(t,1,!1,null,null,a,o,null,h,f,g,R_),t[ii]=n.current,cd(t),new xd(n)},ml.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=Mg,g=kg,E=Ug,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=p_(t,1,!0,n,a??null,o,h,I,f,g,E,R_),n.context=g_(null),a=n.current,o=En(),o=cs(o),h=vr(o),h.callback=null,Er(a,h,o),a=o,n.current.lanes=a,ls(n,a),vi(n),t[ii]=n.current,cd(t),new bc(n)},ml.version="19.2.3",ml}var P_;function SA(){if(P_)return Od.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=TA(),Od.exports}var AA=SA();const bA=hE(AA),wA=()=>{};var L_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},RA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},dE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,S=c>>2,A=(c&3)<<4|p>>4;let w=(p&15)<<2|_>>6,B=_&63;y||(B=64,d||(w=64)),s.push(i[S],i[A],i[w],i[B])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(fE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):RA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new IA;const w=c<<2|p>>4;if(s.push(w),_!==64){const B=p<<4&240|_>>2;if(s.push(B),A!==64){const J=_<<6&192|A;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class IA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CA=function(r){const e=fE(r);return dE.encodeByteArray(e,!0)},Fc=function(r){return CA(r).replace(/\./g,"")},mE=function(r){try{return dE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=()=>xA().__FIREBASE_DEFAULTS__,NA=()=>{if(typeof process>"u"||typeof L_>"u")return;const r=L_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},OA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&mE(r[1]);return e&&JSON.parse(e)},hh=()=>{try{return wA()||DA()||NA()||OA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},pE=r=>{var e,i;return(i=(e=hh())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},VA=r=>{const e=pE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},gE=()=>{var r;return(r=hh())==null?void 0:r.config},yE=r=>{var e;return(e=hh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _E(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Sl={};function UA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Sl))Sl[e]?r.emulator.push(e):r.prod.push(e);return r}function PA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let z_=!1;function vE(r,e){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||Sl[r]===e||Sl[r]||z_)return;Sl[r]=e;function i(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=UA().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function y(w,B){w.setAttribute("width","24"),w.setAttribute("id",B),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function _(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{z_=!0,d()},w}function S(w,B){w.setAttribute("id",B),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=PA(s),B=i("text"),J=document.getElementById(B)||document.createElement("span"),W=i("learnmore"),$=document.getElementById(W)||document.createElement("a"),ue=i("preprendIcon"),pe=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const _e=w.element;p(_e),S($,W);const Ge=_();y(pe,ue),_e.append(pe,J,$,Ge),document.body.appendChild(_e)}c?(J.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function zA(){var e;const r=(e=hh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HA(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function GA(){return!zA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FA(){try{return typeof indexedDB=="object"}catch{return!1}}function YA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;e(((c=l.error)==null?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="FirebaseError";class nr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=QA,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?KA(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new nr(l,p,s)}}function KA(r,e){return r.replace(XA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const XA=/\{\$([^}]+)}/g;function JA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Qr(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=e[l];if(j_(c)&&j_(d)){if(!Qr(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function j_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function gl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function yl(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function ZA(r,e){const i=new WA(r,e);return i.subscribe.bind(i)}class WA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");$A(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $A(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(r){return r&&r._delegate?r._delegate:r}class Ls{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new MA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nb(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tb(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tb(r){return r===ks?void 0:r}function nb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new eb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ne||(Ne={}));const rb={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},sb=Ne.INFO,ab={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},ob=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=ab[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=sb,this._logHandler=ob,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const lb=(r,e)=>e.some(i=>r instanceof i);let B_,q_;function ub(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cb(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EE=new WeakMap,Kd=new WeakMap,TE=new WeakMap,Pd=new WeakMap,Tm=new WeakMap;function hb(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(qr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&EE.set(i,r)}).catch(()=>{}),Tm.set(e,r),e}function fb(r){if(Kd.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Kd.set(r,e)}let Xd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Kd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||TE.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function db(r){Xd=r(Xd)}function mb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Ld(this),e,...i);return TE.set(s,e.sort?e.sort():[e]),qr(s)}:cb().includes(r)?function(...e){return r.apply(Ld(this),e),qr(EE.get(this))}:function(...e){return qr(r.apply(Ld(this),e))}}function pb(r){return typeof r=="function"?mb(r):(r instanceof IDBTransaction&&fb(r),lb(r,ub())?new Proxy(r,Xd):r)}function qr(r){if(r instanceof IDBRequest)return hb(r);if(Pd.has(r))return Pd.get(r);const e=pb(r);return e!==r&&(Pd.set(r,e),Tm.set(e,r)),e}const Ld=r=>Tm.get(r);function gb(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),p=qr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(qr(d.result),y.oldVersion,y.newVersion,qr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const yb=["get","getKey","getAll","getAllKeys","count"],_b=["put","add","delete","clear"],zd=new Map;function H_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=_b.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||yb.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return zd.set(e,c),c}db(r=>({...r,get:(e,i,s)=>H_(e,i)||r.get(e,i,s),has:(e,i)=>!!H_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Eb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Eb(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jd="@firebase/app",G_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Em("@firebase/app"),Tb="@firebase/app-compat",Sb="@firebase/analytics-compat",Ab="@firebase/analytics",bb="@firebase/app-check-compat",wb="@firebase/app-check",Rb="@firebase/auth",Ib="@firebase/auth-compat",Cb="@firebase/database",xb="@firebase/data-connect",Db="@firebase/database-compat",Nb="@firebase/functions",Ob="@firebase/functions-compat",Vb="@firebase/installations",Mb="@firebase/installations-compat",kb="@firebase/messaging",Ub="@firebase/messaging-compat",Pb="@firebase/performance",Lb="@firebase/performance-compat",zb="@firebase/remote-config",jb="@firebase/remote-config-compat",Bb="@firebase/storage",qb="@firebase/storage-compat",Hb="@firebase/firestore",Gb="@firebase/ai",Fb="@firebase/firestore-compat",Yb="firebase",Qb="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",Kb={[Jd]:"fire-core",[Tb]:"fire-core-compat",[Ab]:"fire-analytics",[Sb]:"fire-analytics-compat",[wb]:"fire-app-check",[bb]:"fire-app-check-compat",[Rb]:"fire-auth",[Ib]:"fire-auth-compat",[Cb]:"fire-rtdb",[xb]:"fire-data-connect",[Db]:"fire-rtdb-compat",[Nb]:"fire-fn",[Ob]:"fire-fn-compat",[Vb]:"fire-iid",[Mb]:"fire-iid-compat",[kb]:"fire-fcm",[Ub]:"fire-fcm-compat",[Pb]:"fire-perf",[Lb]:"fire-perf-compat",[zb]:"fire-rc",[jb]:"fire-rc-compat",[Bb]:"fire-gcs",[qb]:"fire-gcs-compat",[Hb]:"fire-fst",[Fb]:"fire-fst-compat",[Gb]:"fire-vertex","fire-js":"fire-js",[Yb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,Xb=new Map,Wd=new Map;function F_(r,e){try{r.container.addComponent(e)}catch(i){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Qa(r){const e=r.name;if(Wd.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,r);for(const i of Yc.values())F_(i,r);for(const i of Xb.values())F_(i,r);return!0}function Sm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new zl("app","Firebase",Jb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=Qb;function SE(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Zd,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Hr.create("bad-app-name",{appName:String(l)});if(i||(i=gE()),!i)throw Hr.create("no-options");const c=Yc.get(l);if(c){if(Qr(i,c.options)&&Qr(s,c.config))return c;throw Hr.create("duplicate-app",{appName:l})}const d=new ib(l);for(const y of Wd.values())d.addComponent(y);const p=new Zb(i,s,d);return Yc.set(l,p),p}function AE(r=Zd){const e=Yc.get(r);if(!e&&r===Zd&&gE())return SE();if(!e)throw Hr.create("no-app",{appName:r});return e}function Gr(r,e,i){let s=Kb[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Qa(new Ls(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="firebase-heartbeat-database",$b=1,xl="firebase-heartbeat-store";let jd=null;function bE(){return jd||(jd=gb(Wb,$b,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Hr.create("idb-open",{originalErrorMessage:r.message})})),jd}async function e1(r){try{const i=(await bE()).transaction(xl),s=await i.objectStore(xl).get(wE(r));return await i.done,s}catch(e){if(e instanceof nr)Wi.warn(e.message);else{const i=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(i.message)}}}async function Y_(r,e){try{const s=(await bE()).transaction(xl,"readwrite");await s.objectStore(xl).put(e,wE(r)),await s.done}catch(i){if(i instanceof nr)Wi.warn(i.message);else{const s=Hr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Wi.warn(s.message)}}}function wE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=1024,n1=30;class i1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new s1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Q_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>n1){const d=a1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Wi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Q_(),{heartbeatsToSend:s,unsentEntries:l}=r1(this._heartbeatsCache.heartbeats),c=Fc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Wi.warn(i),""}}}function Q_(){return new Date().toISOString().substring(0,10)}function r1(r,e=t1){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),K_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),K_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class s1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FA()?YA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await e1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function K_(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function a1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(r){Qa(new Ls("platform-logger",e=>new vb(e),"PRIVATE")),Qa(new Ls("heartbeat",e=>new i1(e),"PRIVATE")),Gr(Jd,G_,r),Gr(Jd,G_,"esm2020"),Gr("fire-js","")}o1("");function RE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l1=RE,IE=new zl("auth","Firebase",RE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Em("@firebase/auth");function u1(r,...e){Qc.logLevel<=Ne.WARN&&Qc.warn(`Auth (${no}): ${r}`,...e)}function Mc(r,...e){Qc.logLevel<=Ne.ERROR&&Qc.error(`Auth (${no}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(r,...e){throw Am(r,...e)}function Si(r,...e){return Am(r,...e)}function CE(r,e,i){const s={...l1(),[e]:i};return new zl("auth","Firebase",s).create(e,{appName:r.name})}function Zi(r){return CE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return IE.create(r,...e)}function de(r,e,...i){if(!r)throw Am(e,...i)}function Xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Mc(e),new Error(e)}function $i(r,e){r||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function c1(){return X_()==="http:"||X_()==="https:"}function X_(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c1()||BA()||"connection"in navigator)?navigator.onLine:!0}function f1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,i){this.shortDelay=e,this.longDelay=i,$i(i>e,"Short delay should be less than long delay!"),this.isMobile=LA()||qA()}get(){return h1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(r,e){$i(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p1=new Bl(3e4,6e4);function es(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ts(r,e,i,s,l={}){return DE(r,l,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const p=jl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...c};return jA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&to(r.emulatorConfig.host)&&(_.credentials="include"),xE.fetch()(await NE(r,r.config.apiHost,i,p),_)})}async function DE(r,e,i){r._canInitEmulator=!1;const s={...d1,...e};try{const l=new y1(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Rc(r,"user-disabled",d);const S=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw CE(r,S,_);Zn(r,S)}}catch(l){if(l instanceof nr)throw l;Zn(r,"network-request-failed",{message:String(l)})}}async function ql(r,e,i,s,l={}){const c=await ts(r,e,i,s,l);return"mfaPendingCredential"in c&&Zn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function NE(r,e,i,s){const l=`${e}${i}?${s}`,c=r,d=c.config.emulator?bm(r.config,l):`${r.config.apiScheme}://${l}`;return m1.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function g1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Si(this.auth,"network-request-failed")),p1.get())})}}function Rc(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Si(r,e,s);return l.customData._tokenResponse=i,l}function J_(r){return r!==void 0&&r.enterprise!==void 0}class _1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return g1(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function v1(r,e){return ts(r,"GET","/v2/recaptchaConfig",es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(r,e){return ts(r,"POST","/v1/accounts:delete",e)}async function Kc(r,e){return ts(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T1(r,e=!1){const i=Wt(r),s=await i.getIdToken(e),l=wm(s);de(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:Al(Bd(l.auth_time)),issuedAtTime:Al(Bd(l.iat)),expirationTime:Al(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Bd(r){return Number(r)*1e3}function wm(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=mE(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Z_(r){const e=wm(r);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof nr&&S1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function S1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(r){var A;const e=r.auth,i=await r.getIdToken(),s=await Dl(r,Kc(e,{idToken:i}));de(s==null?void 0:s.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=(A=l.providerUserInfo)!=null&&A.length?OE(l.providerUserInfo):[],d=w1(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,S)}async function b1(r){const e=Wt(r);await Xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w1(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function OE(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(r,e){const i=await DE(r,{},async()=>{const s=jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await NE(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return r.emulatorConfig&&to(r.emulatorConfig.host)&&(y.credentials="include"),xE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function I1(r,e){return ts(r,"POST","/v2/accounts:revokeToken",es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){de(e.length!==0,"internal-error");const i=Z_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await R1(e,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new qa;return s&&(de(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(de(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(de(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(r,e){de(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new A1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new em(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return de(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return T1(this,e)}reload(){return b1(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await Dl(this,E1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:B,providerData:J,stsTokenManager:W}=i;de(A&&W,e,"internal-error");const $=qa.fromJSON(this.name,W);de(typeof A=="string",e,"internal-error"),Ur(s,e.name),Ur(l,e.name),de(typeof w=="boolean",e,"internal-error"),de(typeof B=="boolean",e,"internal-error"),Ur(c,e.name),Ur(d,e.name),Ur(p,e.name),Ur(y,e.name),Ur(_,e.name),Ur(S,e.name);const ue=new Xn({uid:A,auth:e,email:l,emailVerified:w,displayName:s,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:$,createdAt:_,lastLoginAt:S});return J&&Array.isArray(J)&&(ue.providerData=J.map(pe=>({...pe}))),y&&(ue._redirectEventId=y),ue}static async _fromIdTokenResponse(e,i,s=!1){const l=new qa;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Xc(c),c}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];de(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?OE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),p=new qa;p.updateFromIdToken(s);const y=new Xn({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=new Map;function Ji(r){$i(r instanceof Function,"Expected a class definition");let e=W_.get(r);return e?($i(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,W_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}VE.type="NONE";const $_=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(r,e,i){return`firebase:${r}:${e}:${i}`}class Ha{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=kc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Kc(this.auth,{idToken:e}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Ha(Ji($_),e,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Ji($_);const d=kc(s,e.config.apiKey,e.name);let p=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const w=await Kc(e,{idToken:S}).catch(()=>{});if(!w)break;A=await Xn._fromGetAccountInfoResponse(e,w,S)}else A=Xn._fromJSON(e,S);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ha(c,e,s):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ha(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ME(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zE(e))return"Blackberry";if(jE(e))return"Webos";if(kE(e))return"Safari";if((e.includes("chrome/")||UE(e))&&!e.includes("edge/"))return"Chrome";if(LE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ME(r=Zt()){return/firefox\//i.test(r)}function kE(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UE(r=Zt()){return/crios\//i.test(r)}function PE(r=Zt()){return/iemobile/i.test(r)}function LE(r=Zt()){return/android/i.test(r)}function zE(r=Zt()){return/blackberry/i.test(r)}function jE(r=Zt()){return/webos/i.test(r)}function Rm(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function C1(r=Zt()){var e;return Rm(r)&&!!((e=window.navigator)!=null&&e.standalone)}function x1(){return HA()&&document.documentMode===10}function BE(r=Zt()){return Rm(r)||LE(r)||jE(r)||zE(r)||/windows phone/i.test(r)||PE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r,e=[]){let i;switch(r){case"Browser":i=ev(Zt());break;case"Worker":i=`${ev(Zt())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${no}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1(r,e={}){return ts(r,"GET","/v2/passwordPolicy",es(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=6;class V1{constructor(e){var s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??O1,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tv(this),this.idTokenSubscription=new tv(this),this.beforeStateQueue=new D1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Ha.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Kc(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(kn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=s==null?void 0:s._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===p)&&(y!=null&&y.user)&&(s=y.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Xc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Zi(this));const i=e?Wt(e):null;return i&&de(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N1(this),i=new V1(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await I1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ji(e)||this._popupRedirectResolver;de(i,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var i;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&u1(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Gs(r){return Wt(r)}class tv{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZA(i=>this.observer=i)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k1(r){fh=r}function HE(r){return fh.loadJS(r)}function U1(){return fh.recaptchaEnterpriseScript}function P1(){return fh.gapiScript}function L1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class z1{constructor(){this.enterprise=new j1}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class j1{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const B1="recaptcha-enterprise",GE="NO_RECAPTCHA";class q1{constructor(e){this.type=B1,this.auth=Gs(e)}async verify(e="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{v1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new _1(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;J_(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(GE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new z1().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!i&&J_(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=U1();y.length!==0&&(y+=p),HE(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function nv(r,e,i,s=!1,l=!1){const c=new q1(r);let d;if(l)d=GE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function tm(r,e,i,s,l){var c;if((c=r._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await nv(r,e,i,i==="getOobCode");return s(r,d)}else return s(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await nv(r,e,i,i==="getOobCode");return s(r,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(r,e){const i=Sm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Qr(c,e??{}))return l;Zn(l,"already-initialized")}return i.initialize({options:e})}function G1(r,e){const i=(e==null?void 0:e.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Ji);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function F1(r,e,i){const s=Gs(r);de(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=FE(e),{host:d,port:p}=Y1(e),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){de(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),de(Qr(_,s.config.emulator)&&Qr(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,to(d)?(_E(`${c}//${d}${y}`),vE("Auth",!0)):Q1()}function FE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Y1(r){const e=FE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:iv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:iv(d)}}}function iv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Q1(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,i){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function K1(r,e){return ts(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(r,e){return ql(r,"POST","/v1/accounts:signInWithPassword",es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(r,e){return ql(r,"POST","/v1/accounts:signInWithEmailLink",es(r,e))}async function Z1(r,e){return ql(r,"POST","/v1/accounts:signInWithEmailLink",es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Im{constructor(e,i,s,l=null){super("password",s),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Nl(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new Nl(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(e,i,"signInWithPassword",X1);case"emailLink":return J1(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(e,s,"signUpPassword",K1);case"emailLink":return Z1(e,{idToken:i,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,e){return ql(r,"POST","/v1/accounts:signInWithIdp",es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="http://localhost";class zs extends Im{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new zs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ga(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Ga(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ga(e,i)}buildRequest(){const e={requestUri:W1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=jl(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ew(r){const e=gl(yl(r)).link,i=e?gl(yl(e)).deep_link_id:null,s=gl(yl(r)).deep_link_id;return(s?gl(yl(s)).link:null)||s||i||e||r}class Cm{constructor(e){const i=gl(yl(e)),s=i.apiKey??null,l=i.oobCode??null,c=$1(i.mode??null);de(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=ew(e);try{return new Cm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,i){return Nl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=Cm.parseLink(i);return de(s,"argument-error"),Nl._fromEmailAndCode(e,s.code,s.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends YE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Hl{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return zs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return Lr.credential(i,s)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Hl{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Hl{constructor(){super("twitter.com")}static credential(e,i){return zs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return jr.credential(i,s)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(r,e){return ql(r,"POST","/v1/accounts:signUp",es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const c=await Xn._fromIdTokenResponse(e,s,l),d=rv(s);return new js({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=rv(s);return new js({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function rv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends nr{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new Jc(e,i,s,l)}}function QE(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(r,c,e,s):c})}async function nw(r,e,i=!1){const s=await Dl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return js._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(r,e,i=!1){const{auth:s}=r;if(kn(s.app))return Promise.reject(Zi(s));const l="reauthenticate";try{const c=await Dl(r,QE(s,l,e,r),i);de(c.idToken,s,"internal-error");const d=wm(c.idToken);de(d,s,"internal-error");const{sub:p}=d;return de(r.uid===p,s,"user-mismatch"),js._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Zn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KE(r,e,i=!1){if(kn(r.app))return Promise.reject(Zi(r));const s="signIn",l=await QE(r,s,e),c=await js._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function rw(r,e){return KE(Gs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XE(r){const e=Gs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sw(r,e,i){if(kn(r.app))return Promise.reject(Zi(r));const s=Gs(r),d=await tm(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tw).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&XE(r),y}),p=await js._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function aw(r,e,i){return kn(r.app)?Promise.reject(Zi(r)):rw(Wt(r),io.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&XE(r),s})}function ow(r,e,i,s){return Wt(r).onIdTokenChanged(e,i,s)}function lw(r,e,i){return Wt(r).beforeAuthStateChanged(e,i)}function uw(r,e,i,s){return Wt(r).onAuthStateChanged(e,i,s)}function cw(r){return Wt(r).signOut()}const Zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=1e3,fw=10;class ZE extends JE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);x1()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,fw):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZE.type="LOCAL";const dw=ZE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends JE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}WE.type="SESSION";const $E=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new dh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await mw(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=xm("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(A){const w=A;if(w.data.eventId===_)switch(w.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(w.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function gw(r){Ai().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function yw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _w(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function vw(){return eT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="firebaseLocalStorageDb",Ew=1,Wc="firebaseLocalStorage",nT="fbase_key";class Gl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(r,e){return r.transaction([Wc],e?"readwrite":"readonly").objectStore(Wc)}function Tw(){const r=indexedDB.deleteDatabase(tT);return new Gl(r).toPromise()}function nm(){const r=indexedDB.open(tT,Ew);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Wc,{keyPath:nT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Wc)?e(s):(s.close(),await Tw(),e(await nm()))})})}async function sv(r,e,i){const s=mh(r,!0).put({[nT]:e,value:i});return new Gl(s).toPromise()}async function Sw(r,e){const i=mh(r,!1).get(e),s=await new Gl(i).toPromise();return s===void 0?null:s.value}function av(r,e){const i=mh(r,!0).delete(e);return new Gl(i).toPromise()}const Aw=800,bw=3;class iT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>bw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(vw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,s;if(this.activeServiceWorker=await yw(),!this.activeServiceWorker)return;this.sender=new pw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_w()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await sv(e,Zc,"1"),await av(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>sv(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>Sw(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>av(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=mh(l,!1).getAll();return new Gl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iT.type="LOCAL";const ww=iT;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(r,e){return e?Ji(e):(de(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends Im{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ga(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ga(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Iw(r){return KE(r.auth,new Dm(r),r.bypassAuthState)}function Cw(r){const{auth:e,user:i}=r;return de(i,e,"internal-error"),iw(i,new Dm(r),r.bypassAuthState)}async function xw(r){const{auth:e,user:i}=r;return de(i,e,"internal-error"),nw(i,new Dm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,i,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Iw;case"linkViaPopup":case"linkViaRedirect":return xw;case"reauthViaPopup":case"reauthViaRedirect":return Cw;default:Zn(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Bl(2e3,1e4);class Ba extends rT{constructor(e,i,s,l,c){super(e,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;if((s=(i=this.authWindow)==null?void 0:i.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Dw.get())};e()}}Ba.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="pendingRedirect",Uc=new Map;class Ow extends rT{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const s=await Vw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vw(r,e){const i=Uw(e),s=kw(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function Mw(r,e){Uc.set(r._key(),e)}function kw(r){return Ji(r._redirectPersistence)}function Uw(r){return kc(Nw,r.config.apiKey,r.name)}async function Pw(r,e,i=!1){if(kn(r.app))return Promise.reject(Zi(r));const s=Gs(r),l=Rw(s,e),d=await new Ow(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=600*1e3;class zw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var s;if(e.error&&!sT(e)){const l=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";i.onError(Si(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lw&&this.cachedEventUids.clear(),this.cachedEventUids.has(ov(e))}saveEventToCache(e){this.cachedEventUids.add(ov(e)),this.lastProcessedEventTime=Date.now()}}function ov(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(r,e={}){return ts(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hw=/^https?/;async function Gw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Bw(r);for(const i of e)try{if(Fw(i))return}catch{}Zn(r,"unauthorized-domain")}function Fw(r){const e=$d(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!Hw.test(i))return!1;if(qw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Bl(3e4,6e4);function lv(){const r=Ai().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Qw(r){return new Promise((e,i)=>{var l,c,d;function s(){lv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lv(),i(Si(r,"network-request-failed"))},timeout:Yw.get()})}if((c=(l=Ai().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=Ai().gapi)!=null&&d.load)s();else{const p=L1("iframefcb");return Ai()[p]=()=>{gapi.load?s():i(Si(r,"network-request-failed"))},HE(`${P1()}?onload=${p}`).catch(y=>i(y))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function Kw(r){return Pc=Pc||Qw(r),Pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new Bl(5e3,15e3),Jw="__/auth/iframe",Zw="emulator/auth/iframe",Ww={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$w=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eR(r){const e=r.config;de(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?bm(e,Zw):`https://${r.config.authDomain}/${Jw}`,s={apiKey:e.apiKey,appName:r.name,v:no},l=$w.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${jl(s).slice(1)}`}async function tR(r){const e=await Kw(r),i=Ai().gapi;return de(i,r,"internal-error"),e.open({where:document.body,url:eR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ww,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Si(r,"network-request-failed"),p=Ai().setTimeout(()=>{c(d)},Xw.get());function y(){Ai().clearTimeout(p),l(s)}s.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iR=500,rR=600,sR="_blank",aR="http://localhost";class uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oR(r,e,i,s=iR,l=rR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...nR,width:s.toString(),height:l.toString(),top:c,left:d},_=Zt().toLowerCase();i&&(p=UE(_)?sR:i),ME(_)&&(e=e||aR,y.scrollbars="yes");const S=Object.entries(y).reduce((w,[B,J])=>`${w}${B}=${J},`,"");if(C1(_)&&p!=="_self")return lR(e||"",p),new uv(null);const A=window.open(e||"",p,S);de(A,r,"popup-blocked");try{A.focus()}catch{}return new uv(A)}function lR(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="__/auth/handler",cR="emulator/auth/handler",hR=encodeURIComponent("fac");async function cv(r,e,i,s,l,c){de(r.config.authDomain,r,"auth-domain-config-required"),de(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:no,eventId:l};if(e instanceof YE){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",JA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(e instanceof Hl){const S=e.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const y=await r._getAppCheckToken(),_=y?`#${hR}=${encodeURIComponent(y)}`:"";return`${fR(r)}?${jl(p).slice(1)}${_}`}function fR({config:r}){return r.emulator?bm(r,cR):`https://${r.authDomain}/${uR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="webStorageSupport";class dR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$E,this._completeRedirectFn=Pw,this._overrideRedirectResult=Mw}async _openPopup(e,i,s,l){var d;$i((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await cv(e,i,s,$d(),l);return oR(e,c,xm())}async _openRedirect(e,i,s,l){await this._originValidation(e);const c=await cv(e,i,s,$d(),l);return gw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):($i(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await tR(e),s=new zw(e);return i.register("authEvent",l=>(de(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(qd,{type:qd},l=>{var d;const c=(d=l==null?void 0:l[0])==null?void 0:d[qd];c!==void 0&&i(!!c),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Gw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return BE()||kE()||Rm()}}const mR=dR;var hv="@firebase/auth",fv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yR(r){Qa(new Ls("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;de(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qE(r)},_=new M1(s,l,c,y);return G1(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Qa(new Ls("auth-internal",e=>{const i=Gs(e.getProvider("auth").getImmediate());return(s=>new pR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(hv,fv,gR(r)),Gr(hv,fv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=300,vR=yE("authIdTokenMaxAge")||_R;let dv=null;const ER=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>vR)return;const l=i==null?void 0:i.token;dv!==l&&(dv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function TR(r=AE()){const e=Sm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=H1(r,{popupRedirectResolver:mR,persistence:[ww,dw,$E]}),s=yE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=ER(c.toString());lw(i,d,()=>d(i.currentUser)),ow(i,p=>d(p))}}const l=pE("auth");return l&&F1(i,`http://${l}`),i}function SR(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}k1({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Si("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",SR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yR("Browser");var AR="firebase",bR="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(AR,bR,"app");var mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fr,aT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function x(){}x.prototype=b.prototype,C.F=b.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(M,O,U){for(var R=Array(arguments.length-2),it=2;it<arguments.length;it++)R[it-2]=arguments[it];return b.prototype[O].apply(M,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,x){x||(x=0);const M=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)M[O]=b.charCodeAt(x++)|b.charCodeAt(x++)<<8|b.charCodeAt(x++)<<16|b.charCodeAt(x++)<<24;else for(O=0;O<16;++O)M[O]=b[x++]|b[x++]<<8|b[x++]<<16|b[x++]<<24;b=C.g[0],x=C.g[1],O=C.g[2];let U=C.g[3],R;R=b+(U^x&(O^U))+M[0]+3614090360&4294967295,b=x+(R<<7&4294967295|R>>>25),R=U+(O^b&(x^O))+M[1]+3905402710&4294967295,U=b+(R<<12&4294967295|R>>>20),R=O+(x^U&(b^x))+M[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=x+(b^O&(U^b))+M[3]+3250441966&4294967295,x=O+(R<<22&4294967295|R>>>10),R=b+(U^x&(O^U))+M[4]+4118548399&4294967295,b=x+(R<<7&4294967295|R>>>25),R=U+(O^b&(x^O))+M[5]+1200080426&4294967295,U=b+(R<<12&4294967295|R>>>20),R=O+(x^U&(b^x))+M[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=x+(b^O&(U^b))+M[7]+4249261313&4294967295,x=O+(R<<22&4294967295|R>>>10),R=b+(U^x&(O^U))+M[8]+1770035416&4294967295,b=x+(R<<7&4294967295|R>>>25),R=U+(O^b&(x^O))+M[9]+2336552879&4294967295,U=b+(R<<12&4294967295|R>>>20),R=O+(x^U&(b^x))+M[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=x+(b^O&(U^b))+M[11]+2304563134&4294967295,x=O+(R<<22&4294967295|R>>>10),R=b+(U^x&(O^U))+M[12]+1804603682&4294967295,b=x+(R<<7&4294967295|R>>>25),R=U+(O^b&(x^O))+M[13]+4254626195&4294967295,U=b+(R<<12&4294967295|R>>>20),R=O+(x^U&(b^x))+M[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=x+(b^O&(U^b))+M[15]+1236535329&4294967295,x=O+(R<<22&4294967295|R>>>10),R=b+(O^U&(x^O))+M[1]+4129170786&4294967295,b=x+(R<<5&4294967295|R>>>27),R=U+(x^O&(b^x))+M[6]+3225465664&4294967295,U=b+(R<<9&4294967295|R>>>23),R=O+(b^x&(U^b))+M[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=x+(U^b&(O^U))+M[0]+3921069994&4294967295,x=O+(R<<20&4294967295|R>>>12),R=b+(O^U&(x^O))+M[5]+3593408605&4294967295,b=x+(R<<5&4294967295|R>>>27),R=U+(x^O&(b^x))+M[10]+38016083&4294967295,U=b+(R<<9&4294967295|R>>>23),R=O+(b^x&(U^b))+M[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=x+(U^b&(O^U))+M[4]+3889429448&4294967295,x=O+(R<<20&4294967295|R>>>12),R=b+(O^U&(x^O))+M[9]+568446438&4294967295,b=x+(R<<5&4294967295|R>>>27),R=U+(x^O&(b^x))+M[14]+3275163606&4294967295,U=b+(R<<9&4294967295|R>>>23),R=O+(b^x&(U^b))+M[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=x+(U^b&(O^U))+M[8]+1163531501&4294967295,x=O+(R<<20&4294967295|R>>>12),R=b+(O^U&(x^O))+M[13]+2850285829&4294967295,b=x+(R<<5&4294967295|R>>>27),R=U+(x^O&(b^x))+M[2]+4243563512&4294967295,U=b+(R<<9&4294967295|R>>>23),R=O+(b^x&(U^b))+M[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=x+(U^b&(O^U))+M[12]+2368359562&4294967295,x=O+(R<<20&4294967295|R>>>12),R=b+(x^O^U)+M[5]+4294588738&4294967295,b=x+(R<<4&4294967295|R>>>28),R=U+(b^x^O)+M[8]+2272392833&4294967295,U=b+(R<<11&4294967295|R>>>21),R=O+(U^b^x)+M[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=x+(O^U^b)+M[14]+4259657740&4294967295,x=O+(R<<23&4294967295|R>>>9),R=b+(x^O^U)+M[1]+2763975236&4294967295,b=x+(R<<4&4294967295|R>>>28),R=U+(b^x^O)+M[4]+1272893353&4294967295,U=b+(R<<11&4294967295|R>>>21),R=O+(U^b^x)+M[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=x+(O^U^b)+M[10]+3200236656&4294967295,x=O+(R<<23&4294967295|R>>>9),R=b+(x^O^U)+M[13]+681279174&4294967295,b=x+(R<<4&4294967295|R>>>28),R=U+(b^x^O)+M[0]+3936430074&4294967295,U=b+(R<<11&4294967295|R>>>21),R=O+(U^b^x)+M[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=x+(O^U^b)+M[6]+76029189&4294967295,x=O+(R<<23&4294967295|R>>>9),R=b+(x^O^U)+M[9]+3654602809&4294967295,b=x+(R<<4&4294967295|R>>>28),R=U+(b^x^O)+M[12]+3873151461&4294967295,U=b+(R<<11&4294967295|R>>>21),R=O+(U^b^x)+M[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=x+(O^U^b)+M[2]+3299628645&4294967295,x=O+(R<<23&4294967295|R>>>9),R=b+(O^(x|~U))+M[0]+4096336452&4294967295,b=x+(R<<6&4294967295|R>>>26),R=U+(x^(b|~O))+M[7]+1126891415&4294967295,U=b+(R<<10&4294967295|R>>>22),R=O+(b^(U|~x))+M[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=x+(U^(O|~b))+M[5]+4237533241&4294967295,x=O+(R<<21&4294967295|R>>>11),R=b+(O^(x|~U))+M[12]+1700485571&4294967295,b=x+(R<<6&4294967295|R>>>26),R=U+(x^(b|~O))+M[3]+2399980690&4294967295,U=b+(R<<10&4294967295|R>>>22),R=O+(b^(U|~x))+M[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=x+(U^(O|~b))+M[1]+2240044497&4294967295,x=O+(R<<21&4294967295|R>>>11),R=b+(O^(x|~U))+M[8]+1873313359&4294967295,b=x+(R<<6&4294967295|R>>>26),R=U+(x^(b|~O))+M[15]+4264355552&4294967295,U=b+(R<<10&4294967295|R>>>22),R=O+(b^(U|~x))+M[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=x+(U^(O|~b))+M[13]+1309151649&4294967295,x=O+(R<<21&4294967295|R>>>11),R=b+(O^(x|~U))+M[4]+4149444226&4294967295,b=x+(R<<6&4294967295|R>>>26),R=U+(x^(b|~O))+M[11]+3174756917&4294967295,U=b+(R<<10&4294967295|R>>>22),R=O+(b^(U|~x))+M[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=x+(U^(O|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const x=b-this.blockSize,M=this.C;let O=this.h,U=0;for(;U<b;){if(O==0)for(;U<=x;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<b;)if(M[O++]=C.charCodeAt(U++),O==this.blockSize){l(this,M),O=0;break}}else for(;U<b;)if(M[O++]=C[U++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)C[b++]=this.g[x]>>>M&255;return C};function c(C,b){var x=p;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=b(C)}function d(C,b){this.h=b;const x=[];let M=!0;for(let O=C.length-1;O>=0;O--){const U=C[O]|0;M&&U==b||(x[O]=U,M=!1)}this.g=x}var p={};function y(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return $(_(-C));const b=[];let x=1;for(let M=0;C>=x;M++)b[M]=C/x|0,x*=4294967296;return new d(b,0)}function S(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return $(S(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(b,8));let M=A;for(let U=0;U<C.length;U+=8){var O=Math.min(8,C.length-U);const R=parseInt(C.substring(U,U+O),b);O<8?(O=_(Math.pow(b,O)),M=M.j(O).add(_(R))):(M=M.j(x),M=M.add(_(R)))}return M}var A=y(0),w=y(1),B=y(16777216);r=d.prototype,r.m=function(){if(W(this))return-$(this).m();let C=0,b=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(W(this))return"-"+$(this).toString(C);const b=_(Math.pow(C,6));var x=this;let M="";for(;;){const O=Ge(x,b).g;x=ue(x,O.j(b));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=O,J(x))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function W(C){return C.h==-1}r.l=function(C){return C=ue(this,C),W(C)?-1:J(C)?0:1};function $(C){const b=C.g.length,x=[];for(let M=0;M<b;M++)x[M]=~C.g[M];return new d(x,~C.h).add(w)}r.abs=function(){return W(this)?$(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),x=[];let M=0;for(let O=0;O<=b;O++){let U=M+(this.i(O)&65535)+(C.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);M=R>>>16,U&=65535,R&=65535,x[O]=R<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function ue(C,b){return C.add($(b))}r.j=function(C){if(J(this)||J(C))return A;if(W(this))return W(C)?$(this).j($(C)):$($(this).j(C));if(W(C))return $(this.j($(C)));if(this.l(B)<0&&C.l(B)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,x=[];for(var M=0;M<2*b;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<C.g.length;O++){const U=this.i(M)>>>16,R=this.i(M)&65535,it=C.i(O)>>>16,It=C.i(O)&65535;x[2*M+2*O]+=R*It,pe(x,2*M+2*O),x[2*M+2*O+1]+=U*It,pe(x,2*M+2*O+1),x[2*M+2*O+1]+=R*it,pe(x,2*M+2*O+1),x[2*M+2*O+2]+=U*it,pe(x,2*M+2*O+2)}for(C=0;C<b;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=b;C<2*b;C++)x[C]=0;return new d(x,0)};function pe(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function _e(C,b){this.g=C,this.h=b}function Ge(C,b){if(J(b))throw Error("division by zero");if(J(C))return new _e(A,A);if(W(C))return b=Ge($(C),b),new _e($(b.g),$(b.h));if(W(b))return b=Ge(C,$(b)),new _e($(b.g),b.h);if(C.g.length>30){if(W(C)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var x=w,M=b;M.l(C)<=0;)x=Ce(x),M=Ce(M);var O=Ae(x,1),U=Ae(M,1);for(M=Ae(M,2),x=Ae(x,2);!J(M);){var R=U.add(M);R.l(C)<=0&&(O=O.add(x),U=R),M=Ae(M,1),x=Ae(x,1)}return b=ue(C,O.j(b)),new _e(O,b)}for(O=A;C.l(b)>=0;){for(x=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(x),R=U.j(b);W(R)||R.l(C)>0;)x-=M,U=_(x),R=U.j(b);J(U)&&(U=w),O=O.add(U),C=ue(C,R)}return new _e(O,C)}r.B=function(C){return Ge(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),x=[];for(let M=0;M<b;M++)x[M]=this.i(M)&C.i(M);return new d(x,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),x=[];for(let M=0;M<b;M++)x[M]=this.i(M)|C.i(M);return new d(x,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),x=[];for(let M=0;M<b;M++)x[M]=this.i(M)^C.i(M);return new d(x,this.h^C.h)};function Ce(C){const b=C.g.length+1,x=[];for(let M=0;M<b;M++)x[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(x,C.h)}function Ae(C,b){const x=b>>5;b%=32;const M=C.g.length-x,O=[];for(let U=0;U<M;U++)O[U]=b>0?C.i(U+x)>>>b|C.i(U+x+1)<<32-b:C.i(U+x);return new d(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,aT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Fr=d}).apply(typeof mv<"u"?mv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oT,_l,lT,Lc,im,uT,cT,hT;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)e:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break e;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var ee=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)ee[Te-2]=arguments[Te];return m.prototype[P].apply(T,ee)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let ee=0;ee<q;ee++)u[v+ee]=P[ee]}else u.push(P)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ue(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,v){const T=_e.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var _e=new W(()=>new Ge,u=>u.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Ae=!1,C=new pe,b=()=>{const u=Promise.resolve(void 0);Ce=()=>{u.then(x)}};function x(){for(var u;u=ue();){try{u.h.call(u.g)}catch(v){$(v)}var m=_e;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ae=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function it(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(it,O),it.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),F=0;function te(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++F,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Fe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ee=be(u,m,T,P);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new te(m,this.src,q,!!T,P),m.fa=v,u.push(m)),m};function ge(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(ce(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function be(u,m,v,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Ct={};function rt(u,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)rt(u,m[q],v,T,P);return null}return v=co(v),u&&u[It]?u.J(m,v,p(T)?!!T.capture:!1,P):rs(u,m,v,!1,T,P)}function rs(u,m,v,T,P,q){if(!m)throw Error("Invalid event type");const ee=p(P)?!!P.capture:!!P;let Te=ss(u);if(Te||(u[ke]=Te=new re(u)),v=Te.add(m,v,T,ee,q),v.proxy)return v;if(T=Qs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(P=ee),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qs(){function u(v){return m.call(u.src,u.listener,v)}const m=lo;return u}function Ks(u,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ks(u,m[q],v,T,P);else T=p(T)?!!T.capture:!!T,v=co(v),u&&u[It]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=be(m,v,T,P),v>-1&&(ce(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ss(u))&&(m=u.g[m.toString()],u=-1,m&&(u=be(m,v,T,P)),(v=u>-1?m[u]:null)&&Xs(v))}function Xs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[It])ge(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Wn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ss(m))?(ge(v,u),v.h==0&&(v.src=null,m[ke]=null)):ce(u)}}}function Wn(u){return u in Ct?Ct[u]:Ct[u]="on"+u}function lo(u,m){if(u.da)u=!0;else{m=new it(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Xs(u),u=v.call(T,m)}return u}function ss(u){return u=u[ke],u instanceof re?u:null}var uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function co(u){return typeof u=="function"?u:(u[uo]||(u[uo]=function(m){return u.handleEvent(m)}),u[uo])}function gt(){M.call(this),this.i=new re(this),this.M=this,this.G=null}A(gt,M),gt.prototype[It]=!0,gt.prototype.removeEventListener=function(u,m,v,T){Ks(this,u,m,v,T)};function xt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var P=m;m=new O(T,u),ne(m,P)}P=!0;let q,ee;if(v)for(ee=v.length-1;ee>=0;ee--)q=m.g=v[ee],P=ir(q,T,!0,m)&&P;if(q=m.g=u,P=ir(q,T,!0,m)&&P,P=ir(q,T,!1,m)&&P,v)for(ee=0;ee<v.length;ee++)q=m.g=v[ee],P=ir(q,T,!1,m)&&P}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ce(v[T]);delete u.g[m],u.h--}}this.G=null},gt.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},gt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ir(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const ee=m[q];if(ee&&!ee.da&&ee.capture==v){const Te=ee.listener,ft=ee.ha||ee.src;ee.fa&&ge(u.i,ee),P=Te.call(ft,T)!==!1&&P}}return P&&!T.defaultPrevented}function Nh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=Nh(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $t extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(u){M.call(this),this.h=u,this.g={}}A(as,M);var ho=[];function fo(u){Pe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Xs(m)},u),u.g={}}as.prototype.N=function(){as.Z.N.call(this),fo(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=d.JSON.stringify,Oh=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function $l(){}function eu(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Lt(){O.call(this,"d")}A(Lt,O);function Sn(){O.call(this,"c")}A(Sn,O);var ht={},tu=null;function Js(){return tu=tu||new gt}ht.Ia="serverreachability";function nu(u){O.call(this,ht.Ia,u)}A(nu,O);function $n(u){const m=Js();xt(m,new nu(m))}ht.STAT_EVENT="statevent";function os(u,m){O.call(this,ht.STAT_EVENT,u),this.stat=m}A(os,O);function yt(u){const m=Js();xt(m,new os(m,u))}ht.Ja="timingevent";function ei(u,m){O.call(this,ht.Ja,u),this.size=m}A(ei,O);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Vh(u,m,v,T,P,q){u.info(function(){if(u.g)if(q){var ee="",Te=q.split("&");for(let je=0;je<Te.length;je++){var ft=Te[je].split("=");if(ft.length>1){const st=ft[0];ft=ft[1];const Rn=st.split("_");ee=Rn.length>=2&&Rn[1]=="type"?ee+(st+"="+ft+"&"):ee+(st+"=redacted&")}}}else ee=null;else ee=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+ee})}function iu(u,m,v,T,P,q,ee){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+ee})}function ni(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,v)+(T?" "+T:"")})}function ls(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ee=1;ee<T.length;ee++)T[ee]=""}}}}return rr(q)}catch{return m}}var us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function cs(){}A(cs,$l),cs.prototype.g=function(){return new XMLHttpRequest},po=new cs;function Di(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function zn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new as(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var _t={},Mt={};function ii(u,m,v){u.M=1,u.A=hs(Et(m)),u.u=v,u.R=!0,Zs(u,null)}function Zs(u,m){u.F=Date.now(),ri(u),u.B=Et(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ta(v.i,"t",T),u.C=0,v=u.j.L,u.h=new jn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $t(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(ho[0]=P.toString()),P=ho);for(let q=0;q<P.length;q++){const ee=rt(v,P[q],T||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Vh(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)e:{const Te=Hn(this.g),ft=this.g.ya(),je=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Te!=4||ft==7||(ft==8||je<=0?$n(3):$n(2)),si(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,Te,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break t}}q=null}if(u=q)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,yt(12),fn(this),An(this);break e}}if(this.R){u=!0;let st;for(;!this.K&&this.C<v.length;)if(st=au(this,v),st==Mt){Te==4&&(this.m=4,yt(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(st==_t){this.m=4,yt(15),ni(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,st,null),ai(this,st);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||v.length!=0||this.h.h||(this.m=1,yt(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Do(ee),ee.P=!0,yt(11))}}else ni(this.i,this.l,v,null),ai(this,v);Te==4&&fn(this),this.o&&!this.K&&(Te==4?pu(this.j,this):(this.o=!1,ri(this)))}else Oi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),fn(this),An(this)}}}catch{}finally{}};function kh(u){if(!su(u))return u.g.la();const m=zt(u.g);if(m==="")return"";let v="";const T=m.length,P=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),An(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Mt:(v=Number(m.substring(v,T)),isNaN(v)?_t:(T+=1,T+v>m.length?Mt:(m=m.slice(T,T+v),u.C=T+v,m)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function ri(u){u.T=Date.now()+u.H,Ws(u,u.H)}function Ws(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(_(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ls(this.i,this.B),this.M!=2&&($n(),yt(17)),fn(this),this.m=2,An(this)):Ws(this,this.T-u)};function An(u){u.j.I==0||u.K||pu(u.j,u)}function fn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||li(v.h,u))){if(!u.L&&li(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)aa(v),fr(v);else break e;_s(v),yt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ti(_(v.Va,v),6e3));oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else mi(v,11)}else if((u.L||v.g==u)&&aa(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let je=P[m];const st=je[0];if(!(st<=v.K))if(v.K=st,je=je[1],v.I==2)if(je[0]=="c"){v.M=je[1],v.ba=je[2];const Rn=je[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const pi=je[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Gn=je[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Fn=u.g;if(Fn){const vs=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var q=T.h;q.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(_o(q,q.h),q.h=null))}if(T.G){const oa=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(T.wa=oa,Ye(T.J,T.G,oa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var ee=u;if(T.na=_u(T,T.L?T.ba:null,T.W),ee.L){vo(T.h,ee);var Te=ee,ft=T.O;ft&&(Te.H=ft),Te.D&&(si(Te),ri(Te)),T.g=ee}else du(T);v.i.length>0&&di(v)}else je[0]!="stop"&&je[0]!="close"||mi(v,7);else v.I==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?mi(v,7):Co(v):je[0]!="noop"&&v.l&&v.l.qa(je),v.A=0)}}$n(4)}catch{}}var vt=class{constructor(u,m){this.g=u,this.map=m}};function go(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _o(u,m){u.g?u.g.add(m):u.h=m}function vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}go.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $s(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,q=null;T>=0?(P=u[v].substring(0,T),q=u[v].substring(T+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,kt(this,u.j),this.o=u.o,this.g=u.g,sr(this,u.u),this.h=u.h,To(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,kt(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),sr(this,m[4]),this.h=ui(m[5]||"",!0),To(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new or(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fs(m,ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fs(m,ea,!0),"@"),u.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(fs(v,v.charAt(0)=="/"?So:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",fs(v,uu)),u.join("")},dn.prototype.resolve=function(u){const m=Et(this);let v=!!u.j;v?kt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)sr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let ee=0;ee<P.length;){const Te=P[ee++];Te=="."?T&&ee==P.length&&q.push(""):Te==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&ee==P.length&&q.push("")):(q.push(Te),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?To(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Et(u){return new dn(u)}function kt(u,m,v){u.j=v?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function sr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function To(u,m,v){m instanceof or?(u.i=m,na(u.i,u.l)):(v||(m=fs(m,ar)),u.i=new or(m,u.l))}function Ye(u,m,v){u.i.set(m,v)}function hs(u){return Ye(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,lu=/[#\?:]/g,So=/[#\?]/g,ar=/[#\?@]/g,uu=/#/g;function or(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&$s(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=or.prototype,r.add=function(u,m){rn(this),this.i=null,u=lr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){rn(u),m=lr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ao(u,m){return rn(u),m=lr(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function bo(u,m){rn(u);let v=[];if(typeof m=="string")Ao(u,m)&&(v=v.concat(u.g.get(lr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return rn(this),this.i=null,u=lr(this,u),Ao(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=bo(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(lr(u,m),B(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Di(v);v=bo(this,v);for(let q=0;q<v.length;q++){let ee=P;v[q]!==""&&(ee+="="+Di(v[q])),u.push(ee)}}return this.i=u.join("&")};function hu(u){const m=new or;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function lr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(cu(this,T),ta(this,P,v))},u)),u.j=m}function Bn(u,m){const v=new Ln;if(d.Image){const T=new Image;T.onload=S(bn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(bn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(bn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(bn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function wo(u,m){const v=new Ln,T=new AbortController,P=setTimeout(()=>{T.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function ur(){this.g=new Wl}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}A(ci,$l),ci.prototype.g=function(){return new ds(this.i,this.h)};function ds(u,m){gt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(ds,gt),r=ds.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cr(this):qn(this),this.readyState==3&&ia(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,cr(this))},r.Na=function(u){this.g&&(this.response=u,cr(this))},r.ga=function(){this.g&&cr(this)};function cr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Pe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ms(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=wn(v),typeof u=="string"?v!=null&&Di(v):Ye(u,m,v))}function Xe(u){gt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xe,gt);var hi=/^https?$/i,Ro=["POST","PUT"];r=Xe.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=w(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){ps(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of v)this.g.setRequestHeader(q,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){ps(this,q)}};function ps(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Io(u),Ni(u)}function Io(u){u.A||(u.A=!0,xt(u,"complete"),xt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xt(this,"complete"),xt(this,"abort"),Ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?gs(this):this.Xa())},r.Xa=function(){gs(this)};function gs(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xt(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let ee=String(u.D).match(ou)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),T=!hi.test(ee?ee.toLowerCase():"")}v=T}if(v)xt(u,"complete"),xt(u,"success");else{u.o=6;try{var P=Hn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Io(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=ru(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Fe(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function hr(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new go(u&&u.concurrentRequestLimit),this.Ba=new ur,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=hr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){yt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),di(this)};function Co(u){if(ra(u),u.I==3){var m=u.V++,v=Et(u.J);if(Ye(v,"SID",u.M),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),ys(u,v),m=new zn(u,u.j,m),m.M=2,m.A=hs(Et(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}yu(u)}function fr(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function ra(u){fr(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!yo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ce||b(),Ae||(Ce(),Ae=!0),C.add(m,u),u.D=0}}function sa(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(_(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new zn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),ne(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=fu(this,P,m),v=Et(this.J),Ye(v,"RID",u),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),ys(this,v),q&&(this.R?m="headers="+Di(wn(q))+"&"+m:this.u&&ms(v,this.u,q)),_o(this.h,P),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",m),Ye(v,"SID","null"),P.U=!0,ii(P,v,null)):ii(P,v,m),this.I=2}}else this.I==3&&(u?xo(this,u):this.i.length==0||yo(this.h)||xo(this))};function xo(u,m){var v;m?v=m.l:v=u.V++;const T=Et(u.J);Ye(T,"SID",u.M),Ye(T,"RID",v),Ye(T,"AID",u.K),ys(u,T),u.u&&u.o&&ms(T,u.u,u.o),v=new zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_o(u.h,v),ii(v,T,m)}function ys(u,m){u.H&&Pe(u.H,function(v,T){Ye(m,T,v)}),u.l&&Pe({},function(v,T){Ye(m,T,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var P=u.i;let Te=-1;for(;;){const ft=["count="+v];Te==-1?v>0?(Te=P[0].g,ft.push("ofs="+Te)):Te=0:ft.push("ofs="+Te);let je=!0;for(let st=0;st<v;st++){var q=P[st].g;const Rn=P[st].map;if(q-=Te,q<0)Te=Math.max(0,P[st].g-100),je=!1;else try{q="req"+q+"_"||"";try{var ee=Rn instanceof Map?Rn:Object.entries(Rn);for(const[pi,Gn]of ee){let Fn=Gn;p(Gn)&&(Fn=rr(Gn)),ft.push(q+pi+"="+encodeURIComponent(Fn))}}catch(pi){throw ft.push(q+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(Rn)}}if(je){ee=ft.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ce||b(),Ae||(Ce(),Ae=!0),C.add(m,u),u.A=0}}function _s(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(_(u.Da,u),gu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),fr(this),mu(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Et(u.na);Ye(m,"RID","rpc"),Ye(m,"SID",u.M),Ye(m,"AID",u.K),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ye(m,"TO",u.ia),Ye(m,"TYPE","xmlhttp"),ys(u,m),u.u&&u.o&&ms(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=hs(Et(m)),v.u=null,v.R=!0,Zs(v,u)}r.Va=function(){this.C!=null&&(this.C=null,fr(this),_s(this),yt(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){aa(u),Do(u),u.g=null;var T=2}else if(li(u.h,m))v=m.G,vo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Js(),xt(T,new ei(T,v)),di(u)}else du(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&sa(u,m)||T==2&&_s(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const P=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||kt(T,"https"),hs(T),P?Bn(T.toString(),v):wo(T.toString(),v)}else yt(2);u.I=0,u.l&&u.l.pa(m),yu(u),ra(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var T=v instanceof dn?Et(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),sr(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new dn(null);T&&kt(q,T),m&&(q.g=m),P&&sr(q,P),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Ye(T,v,m),Ye(T,"VER",u.ka),ys(u,T),T}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xe(new ci({ab:v})):new Xe(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function dr(){}dr.prototype.g=function(u,m){return new en(u,m)};function en(u,m){gt.call(this),this.g=new hr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}A(en,gt),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Co(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=rr(u),u=v);m.i.push(new vt(m.Ya++,u)),m.I==3&&di(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,en.Z.N.call(this)};function Tu(u){Lt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Tu,Lt);function Su(){Sn.call(this),this.status=1}A(Su,Sn);function Vi(u){this.g=u}A(Vi,Eu),Vi.prototype.ra=function(){xt(this.g,"a")},Vi.prototype.qa=function(u){xt(this.g,new Tu(u))},Vi.prototype.pa=function(u){xt(this.g,new Su)},Vi.prototype.oa=function(){xt(this.g,"b")},dr.prototype.createWebChannel=dr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,hT=function(){return new dr},cT=function(){return Js()},uT=ht,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,Lc=us,mo.COMPLETE="complete",lT=mo,eu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",gt.prototype.listen=gt.prototype.J,_l=eu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,oT=Xe}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro="12.8.0";function wR(r){ro=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Em("@firebase/firestore");function Pa(){return Bs.logLevel}function ie(r,...e){if(Bs.logLevel<=Ne.DEBUG){const i=e.map(Nm);Bs.debug(`Firestore (${ro}): ${r}`,...i)}}function er(r,...e){if(Bs.logLevel<=Ne.ERROR){const i=e.map(Nm);Bs.error(`Firestore (${ro}): ${r}`,...i)}}function Ka(r,...e){if(Bs.logLevel<=Ne.WARN){const i=e.map(Nm);Bs.warn(`Firestore (${ro}): ${r}`,...i)}}function Nm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,fT(r,s,i)}function fT(r,e,i){let s=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw er(s),new Error(s)}function He(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||fT(e,l,s)}function Ee(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends nr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xt.UNAUTHENTICATED)))}shutdown(){}}class IR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class CR{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){He(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Yr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Yr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new dT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class xR{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class DR{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new xR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){He(this.o===void 0,3512);const s=c=>{c.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ie("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(He(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new pv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=OR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function Oe(r,e){return r<e?-1:r>e?1:0}function rm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return Hd(l)===Hd(c)?Oe(l,c):Hd(l)?1:-1}return Oe(r.length,e.length)}const VR=55296,MR=57343;function Hd(r){const e=r.charCodeAt(0);return e>=VR&&e<=MR}function Xa(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="__name__";class Ei{constructor(e,i,s){i===void 0?i=0:i>e.length&&me(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&me(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=Ei.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Oe(e.length,i.length)}static compareSegments(e,i){const s=Ei.isNumericId(e),l=Ei.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ei.extractNumericId(e).compare(Ei.extractNumericId(i)):rm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fr.fromString(e.substring(4,e.length-2))}}class ot extends Ei{construct(e,i,s){return new ot(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new ot(i)}static emptyPath(){return new ot([])}}const kR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Ei{construct(e,i,s){return new Ft(e,i,s)}static isValidIdentifier(e){return kR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gv}static keyField(){return new Ft([gv])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(i)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(ot.fromString(e))}static fromName(e){return new he(ot.fromString(e).popFirst(5))}static empty(){return new he(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ot.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(r,e,i){if(!i)throw new oe(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function PR(r,e,i,s){if(e===!0&&s===!0)throw new oe(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function yv(r){if(!he.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Vm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":me(12329,{type:typeof r})}function qs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vm(r);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Fl(r,e){if(!mT(r))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new oe(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=-62135596800,vv=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*vv);return new nt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<_v)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vv}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fl(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_v;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Rt("string",nt._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new nt(0,0))}static max(){return new ye(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=-1;function LR(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=ye.fromTimestamp(s===1e9?new nt(i+1,0):new nt(i,s));return new Kr(l,he.empty(),e)}function zR(r){return new Kr(r.readTime,r.key,Ol)}class Kr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Kr(ye.min(),he.empty(),Ol)}static max(){return new Kr(ye.max(),he.empty(),Ol)}}function jR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=he.comparator(r.documentKey,e.documentKey),i!==0?i:Oe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==BR)throw r;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,s)=>{i(e)}))}static reject(e){return new X(((i,s)=>{s(e)}))}static waitFor(e){return new X(((i,s)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next((l=>l?X.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(e,i){return new X(((s,l)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((S=>{d[_]=S,++p,p===c&&s(d)}),(S=>l(S)))}}))}static doWhile(e,i){return new X(((s,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):s()};c()}))}}function HR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ao(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=-1;function gh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function GR(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="";function FR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Ev(e)),e=YR(r.get(i),e);return Ev(e)}function YR(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case pT:i+="";break;default:i+=c}}return i}function Ev(r){return r+pT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ns(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function gT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,i){this.comparator=e,this.root=i||Gt.EMPTY}insert(e,i){return new lt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Gt.RED,this.left=l??Gt.EMPTY,this.right=c??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Gt(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Gt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,i,s,l,c){return this}insert(e,i,s){return new Gt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Sv(this.data.getIterator())}getIteratorFrom(e){return new Sv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Vt(this.comparator);return i.data=e,i}}class Sv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Tn([])}unionWith(e){let i=new Vt(Ft.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Tn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new yT("Invalid base64 string: "+c):c}})(e);return new Yt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Yt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const QR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(r){if(He(!!r,39018),typeof r=="string"){let e=0;const i=QR.exec(r);if(He(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Jr(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="server_timestamp",vT="__type__",ET="__previous_value__",TT="__local_write_time__";function km(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[vT])==null?void 0:s.stringValue)===_T}function yh(r){const e=r.mapValue.fields[ET];return km(e)?yh(e):e}function Vl(r){const e=Xr(r.mapValue.fields[TT].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,i,s,l,c,d,p,y,_,S,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=A}}const eh="(default)";class Ml{constructor(e,i){this.projectId=e,this.database=i||eh}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}function XR(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(r.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="__type__",JR="__max__",xc={mapValue:{}},AT="__vector__",th="value";function Zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?km(r)?4:WR(r)?9007199254740991:ZR(r)?10:11:me(28295,{value:r})}function Ci(r,e){if(r===e)return!0;const i=Zr(r);if(i!==Zr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Vl(r).isEqual(Vl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Xr(l.timestampValue),p=Xr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Jr(l.bytesValue).isEqual(Jr(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return pt(l.geoPointValue.latitude)===pt(c.geoPointValue.latitude)&&pt(l.geoPointValue.longitude)===pt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pt(l.integerValue)===pt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pt(l.doubleValue),p=pt(c.doubleValue);return d===p?$c(d)===$c(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Xa(r.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Tv(d)!==Tv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ci(d[y],p[y])))return!1;return!0})(r,e);default:return me(52216,{left:r})}}function kl(r,e){return(r.values||[]).find((i=>Ci(i,e)))!==void 0}function Ja(r,e){if(r===e)return 0;const i=Zr(r),s=Zr(e);if(i!==s)return Oe(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=pt(c.integerValue||c.doubleValue),y=pt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,e);case 3:return Av(r.timestampValue,e.timestampValue);case 4:return Av(Vl(r),Vl(e));case 5:return rm(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=Jr(c),y=Jr(d);return p.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const S=Oe(p[_],y[_]);if(S!==0)return S}return Oe(p.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Oe(pt(c.latitude),pt(d.latitude));return p!==0?p:Oe(pt(c.longitude),pt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return bv(r.arrayValue,e.arrayValue);case 10:return(function(c,d){var w,B,J,W;const p=c.fields||{},y=d.fields||{},_=(w=p[th])==null?void 0:w.arrayValue,S=(B=y[th])==null?void 0:B.arrayValue,A=Oe(((J=_==null?void 0:_.values)==null?void 0:J.length)||0,((W=S==null?void 0:S.values)==null?void 0:W.length)||0);return A!==0?A:bv(_,S)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let A=0;A<y.length&&A<S.length;++A){const w=rm(y[A],S[A]);if(w!==0)return w;const B=Ja(p[y[A]],_[S[A]]);if(B!==0)return B}return Oe(y.length,S.length)})(r.mapValue,e.mapValue);default:throw me(23264,{he:i})}}function Av(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const i=Xr(r),s=Xr(e),l=Oe(i.seconds,s.seconds);return l!==0?l:Oe(i.nanos,s.nanos)}function bv(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Ja(i[l],s[l]);if(c)return c}return Oe(i.length,s.length)}function Za(r){return sm(r)}function sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Xr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Jr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return he.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=sm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${sm(i.fields[d])}`;return l+"}"})(r.mapValue):me(61005,{value:r})}function zc(r){switch(Zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(r);return e?16+zc(e):16;case 5:return 2*r.stringValue.length;case 6:return Jr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+zc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return ns(s.fields,((c,d)=>{l+=c.length+zc(d)})),l})(r.mapValue);default:throw me(13486,{value:r})}}function am(r){return!!r&&"integerValue"in r}function Um(r){return!!r&&"arrayValue"in r}function wv(r){return!!r&&"nullValue"in r}function Rv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function ZR(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[ST])==null?void 0:s.stringValue)===AT}function bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ns(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=bl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=bl(r.arrayValue.values[i]);return e}return{...r}}function WR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===JR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!jc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(i)}setAll(e){let i=Ft.emptyPath(),s={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=bl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){ns(i,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new hn(bl(this.value))}}function bT(r){const e=[];return ns(r.fields,((i,s)=>{const l=new Ft([i]);if(jc(s)){const c=bT(s.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,i,s,l,c,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Jt(e,0,ye.min(),ye.min(),ye.min(),hn.empty(),0)}static newFoundDocument(e,i,s,l){return new Jt(e,1,i,ye.min(),s,l,0)}static newNoDocument(e,i){return new Jt(e,2,i,ye.min(),ye.min(),hn.empty(),0)}static newUnknownDocument(e,i){return new Jt(e,3,i,ye.min(),ye.min(),hn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,i){this.position=e,this.inclusive=i}}function Iv(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?s=he.comparator(he.fromName(d.referenceValue),i.key):s=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Cv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ci(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,i="asc"){this.field=e,this.dir=i}}function $R(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{}class Nt extends wT{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new tI(e,i,s):i==="array-contains"?new rI(e,s):i==="in"?new sI(e,s):i==="not-in"?new aI(e,s):i==="array-contains-any"?new oI(e,s):new Nt(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new nI(e,s):new iI(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&Zr(this.value)===Zr(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends wT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new xi(e,i)}matches(e){return RT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RT(r){return r.op==="and"}function IT(r){return eI(r)&&RT(r)}function eI(r){for(const e of r.filters)if(e instanceof xi)return!1;return!0}function om(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(IT(r))return r.filters.map((e=>om(e))).join(",");{const e=r.filters.map((i=>om(i))).join(",");return`${r.op}(${e})`}}function CT(r,e){return r instanceof Nt?(function(s,l){return l instanceof Nt&&s.op===l.op&&s.field.isEqual(l.field)&&Ci(s.value,l.value)})(r,e):r instanceof xi?(function(s,l){return l instanceof xi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&CT(d,l.filters[p])),!0):!1})(r,e):void me(19439)}function xT(r){return r instanceof Nt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(r):r instanceof xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(xT).join(" ,")+"}"})(r):"Filter"}class tI extends Nt{constructor(e,i,s){super(e,i,s),this.key=he.fromName(s.referenceValue)}matches(e){const i=he.comparator(e.key,this.key);return this.matchesComparison(i)}}class nI extends Nt{constructor(e,i){super(e,"in",i),this.keys=DT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class iI extends Nt{constructor(e,i){super(e,"not-in",i),this.keys=DT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function DT(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>he.fromName(s.referenceValue)))}class rI extends Nt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Um(i)&&kl(i.arrayValue,this.value)}}class sI extends Nt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class aI extends Nt{constructor(e,i){super(e,"not-in",i)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class oI extends Nt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>kl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,i=null,s=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function xv(r,e=null,i=[],s=[],l=null,c=null,d=null){return new lI(r,e,i,s,l,c,d)}function Pm(r){const e=Ee(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>om(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),gh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Za(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Za(s))).join(",")),e.Te=i}return e.Te}function Lm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!$R(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!CT(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Cv(r.startAt,e.startAt)&&Cv(r.endAt,e.endAt)}function lm(r){return he.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,i=null,s=[],l=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function uI(r,e,i,s,l,c,d,p){return new _h(r,e,i,s,l,c,d,p)}function zm(r){return new _h(r)}function Dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cI(r){return he.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function hI(r){return r.collectionGroup!==null}function wl(r){const e=Ee(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Vt(Ft.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ih(c,s))})),i.has(Ft.keyField().canonicalString())||e.Ie.push(new ih(Ft.keyField(),s))}return e.Ie}function bi(r){const e=Ee(r);return e.Ee||(e.Ee=fI(e,wl(r))),e.Ee}function fI(r,e){if(r.limitType==="F")return xv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ih(l.field,c)}));const i=r.endAt?new nh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new nh(r.startAt.position,r.startAt.inclusive):null;return xv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function um(r,e,i){return new _h(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function vh(r,e){return Lm(bi(r),bi(e))&&r.limitType===e.limitType}function NT(r){return`${Pm(bi(r))}|lt:${r.limitType}`}function La(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>xT(l))).join(", ")}]`),gh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Za(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Za(l))).join(",")),`Target(${s})`})(bi(r))}; limitType=${r.limitType})`}function Eh(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):he.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of wl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(d,p,y){const _=Iv(d,p,y);return d.inclusive?_<=0:_<0})(s.startAt,wl(s),l)||s.endAt&&!(function(d,p,y){const _=Iv(d,p,y);return d.inclusive?_>=0:_>0})(s.endAt,wl(s),l))})(r,e)}function dI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function OT(r){return(e,i)=>{let s=!1;for(const l of wl(r)){const c=mI(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function mI(r,e,i){const s=r.field.isKeyField()?he.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Ja(y,_):me(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return me(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,((i,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return gT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new lt(he.comparator);function tr(){return pI}const VT=new lt(he.comparator);function vl(...r){let e=VT;for(const i of r)e=e.insert(i.key,i);return e}function MT(r){let e=VT;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Us(){return Rl()}function kT(){return Rl()}function Rl(){return new Fs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const gI=new lt(he.comparator),yI=new Vt(he.comparator);function Ve(...r){let e=yI;for(const i of r)e=e.add(i);return e}const _I=new Vt(Oe);function vI(){return _I}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function UT(r){return{integerValue:""+r}}function EI(r,e){return GR(e)?UT(e):jm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function TI(r,e,i){return r instanceof rh?(function(l,c){const d={fields:{[vT]:{stringValue:_T},[TT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&km(c)&&(c=yh(c)),c&&(d.fields[ET]=c),{mapValue:d}})(i,e):r instanceof Wa?LT(r,e):r instanceof Ul?zT(r,e):(function(l,c){const d=PT(l,c),p=Nv(d)+Nv(l.Ae);return am(d)&&am(l.Ae)?UT(p):jm(l.serializer,p)})(r,e)}function SI(r,e,i){return r instanceof Wa?LT(r,e):r instanceof Ul?zT(r,e):i}function PT(r,e){return r instanceof sh?(function(s){return am(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class rh extends Th{}class Wa extends Th{constructor(e){super(),this.elements=e}}function LT(r,e){const i=jT(e);for(const s of r.elements)i.some((l=>Ci(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Ul extends Th{constructor(e){super(),this.elements=e}}function zT(r,e){let i=jT(e);for(const s of r.elements)i=i.filter((l=>!Ci(l,s)));return{arrayValue:{values:i}}}class sh extends Th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Nv(r){return pt(r.integerValue||r.doubleValue)}function jT(r){return Um(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,i){this.field=e,this.transform=i}}function bI(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof Wa&&l instanceof Wa||s instanceof Ul&&l instanceof Ul?Xa(s.elements,l.elements,Ci):s instanceof sh&&l instanceof sh?Ci(s.Ae,l.Ae):s instanceof rh&&l instanceof rh})(r.transform,e.transform)}class wI{constructor(e,i){this.version=e,this.transformResults=i}}class wi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sh{}function BT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new HT(r.key,wi.none()):new Yl(r.key,r.data,wi.none());{const i=r.data,s=hn.empty();let l=new Vt(Ft.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new is(r.key,s,new Tn(l.toArray()),wi.none())}}function RI(r,e,i){r instanceof Yl?(function(l,c,d){const p=l.value.clone(),y=Vv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof is?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Vv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(qT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Il(r,e,i,s){return r instanceof Yl?(function(c,d,p,y){if(!Bc(c.precondition,d))return p;const _=c.value.clone(),S=Mv(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof is?(function(c,d,p,y){if(!Bc(c.precondition,d))return p;const _=Mv(c.fieldTransforms,y,d),S=d.data;return S.setAll(qT(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,s):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function II(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=PT(s.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(s.field,c))}return i||null}function Ov(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Xa(s,l,((c,d)=>bI(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Yl extends Sh{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class is extends Sh{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function qT(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function Vv(r,e,i){const s=new Map;He(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=e.data.field(c.field);s.set(c.field,SI(d,p,i[l]))}return s}function Mv(r,e,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,TI(c,d,e))}return s}class HT extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CI extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&RI(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Il(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Il(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=kT();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=BT(d,p);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(ye.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,((i,s)=>Ov(i,s)))&&Xa(this.baseMutations,e.baseMutations,((i,s)=>Ov(i,s)))}}class Bm{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return gI})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Bm(e,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ue;function OI(r){switch(r){case Z.OK:return me(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return me(15467,{code:r})}}function GT(r){if(r===void 0)return er("GRPC error has no .code"),Z.UNKNOWN;switch(r){case wt.OK:return Z.OK;case wt.CANCELLED:return Z.CANCELLED;case wt.UNKNOWN:return Z.UNKNOWN;case wt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case wt.INTERNAL:return Z.INTERNAL;case wt.UNAVAILABLE:return Z.UNAVAILABLE;case wt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case wt.NOT_FOUND:return Z.NOT_FOUND;case wt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case wt.ABORTED:return Z.ABORTED;case wt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case wt.DATA_LOSS:return Z.DATA_LOSS;default:return me(39323,{code:r})}}(Ue=wt||(wt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Fr([4294967295,4294967295],0);function kv(r){const e=VI().encode(r),i=new aT;return i.update(e),new Uint8Array(i.digest())}function Uv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Fr([i,s],0),new Fr([l,c],0)]}class qm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new El(`Invalid padding: ${i}`);if(s<0)throw new El(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new El(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Fr.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(Fr.fromNumber(s)));return l.compare(MI)===1&&(l=new Fr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=kv(e),[s,l]=Uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new qm(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=kv(e),[s,l]=Uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Ah(ye.min(),l,new lt(Oe),tr(),Ve())}}class Ql{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Ql(s,i,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,i,s,l){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=l}}class FT{constructor(e,i){this.targetId=e,this.Ce=i}}class YT{constructor(e,i,s=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Pv{constructor(){this.ve=0,this.Fe=Lv(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),i=Ve(),s=Ve();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:me(38017,{changeType:c})}})),new Ql(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=Lv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class kI{constructor(e){this.Ge=e,this.ze=new Map,this.je=tr(),this.He=Dc(),this.Je=Dc(),this.Ze=new lt(Oe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:me(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(lm(c))if(s===0){const d=new he(c.path);this.et(i,d,Jt.newNoDocument(d,ye.min()))}else He(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Jr(s).toUint8Array()}catch(y){if(y instanceof yT)return Ka("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new qm(d,l,c)}catch(y){return Ka(y instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&lm(p.target)){const y=new he(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Jt.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=Ve();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ah(e,i,this.Ze,this.je,s);return this.je=tr(),this.He=Dc(),this.Je=Dc(),this.Ze=new lt(Oe),l}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new Pv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Vt(Oe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Vt(Oe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ie("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Pv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Dc(){return new lt(he.comparator)}function Lv(){return new lt(he.comparator)}const UI={asc:"ASCENDING",desc:"DESCENDING"},PI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LI={and:"AND",or:"OR"};class zI{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function cm(r,e){return r.useProto3Json||gh(e)?e:{value:e}}function ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function jI(r,e){return ah(r,e.toTimestamp())}function Ri(r){return He(!!r,49232),ye.fromTimestamp((function(i){const s=Xr(i);return new nt(s.seconds,s.nanos)})(r))}function Hm(r,e){return hm(r,e).canonicalString()}function hm(r,e){const i=(function(l){return new ot(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function KT(r){const e=ot.fromString(r);return He($T(e),10190,{key:e.toString()}),e}function fm(r,e){return Hm(r.databaseId,e.path)}function Gd(r,e){const i=KT(e);if(i.get(1)!==r.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new he(JT(i))}function XT(r,e){return Hm(r.databaseId,e)}function BI(r){const e=KT(r);return e.length===4?ot.emptyPath():JT(e)}function dm(r){return new ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function JT(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zv(r,e,i){return{name:fm(r,e),fields:i.value.mapValue.fields}}function qI(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:me(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(He(S===void 0||typeof S=="string",58123),Yt.fromBase64String(S||"")):(He(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Yt.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?Z.UNKNOWN:GT(_.code);return new oe(S,_.message||"")})(d);i=new YT(s,l,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Gd(r,s.document.name),c=Ri(s.document.updateTime),d=s.document.createTime?Ri(s.document.createTime):ye.min(),p=new hn({mapValue:{fields:s.document.fields}}),y=Jt.newFoundDocument(l,c,d,p),_=s.targetIds||[],S=s.removedTargetIds||[];i=new qc(_,S,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Gd(r,s.document),c=s.readTime?Ri(s.readTime):ye.min(),d=Jt.newNoDocument(l,c),p=s.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Gd(r,s.document),c=s.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in e))return me(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new NI(l,c),p=s.targetId;i=new FT(p,d)}}return i}function HI(r,e){let i;if(e instanceof Yl)i={update:zv(r,e.key,e.value)};else if(e instanceof HT)i={delete:fm(r,e.key)};else if(e instanceof is)i={update:zv(r,e.key,e.data),updateMask:WI(e.fieldMask)};else{if(!(e instanceof CI))return me(16599,{dt:e.type});i={verify:fm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof rh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Wa)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw me(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:jI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:me(27497)})(r,e.precondition)),i}function GI(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ri(l.updateTime):Ri(c);return d.isEqual(ye.min())&&(d=Ri(c)),new wI(d,l.transformResults||[])})(i,e)))):[]}function FI(r,e){return{documents:[XT(r,e.path)]}}function YI(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=XT(r,l);const c=(function(_){if(_.length!==0)return WT(xi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(w){return{field:za(w.field),direction:XI(w.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=cm(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function QI(r){let e=BI(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){He(s===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const w=ZT(A);return w instanceof xi&&IT(w)?w.getFilters():[w]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((w=>(function(J){return new ih(ja(J.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(w)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let w;return w=typeof A=="object"?A.value:A,gh(w)?null:w})(i.limit));let y=null;i.startAt&&(y=(function(A){const w=!!A.before,B=A.values||[];return new nh(B,w)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const w=!A.before,B=A.values||[];return new nh(B,w)})(i.endAt)),uI(e,l,d,c,p,"F",y,_)}function KI(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ZT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ja(i.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(i.unaryFilter.field);return Nt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return Nt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return Nt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Nt.create(ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return xi.create(i.compositeFilter.filters.map((s=>ZT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return me(1026)}})(i.compositeFilter.op))})(r):me(30097,{filter:r})}function XI(r){return UI[r]}function JI(r){return PI[r]}function ZI(r){return LI[r]}function za(r){return{fieldPath:r.canonicalString()}}function ja(r){return Ft.fromServerFormat(r.fieldPath)}function WT(r){return r instanceof Nt?(function(i){if(i.op==="=="){if(Rv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(wv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Rv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(wv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:JI(i.op),value:i.value}}})(r):r instanceof xi?(function(i){const s=i.getFilters().map((l=>WT(l)));return s.length===1?s[0]:{compositeFilter:{op:ZI(i.op),filters:s}}})(r):me(54877,{filter:r})}function WI(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function $T(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function e0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,i,s,l,c=ye.min(),d=ye.min(),p=Yt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.yt=e}}function eC(r){const e=QI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.Sn=new nC}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Kr.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class nC{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new Vt(ot.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Vt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},t0=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(t0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new $a(0)}static ar(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="LruGarbageCollector",iC=1048576;function qv([r,e],[i,s]){const l=Oe(r,i);return l===0?Oe(e,s):l}class rC{constructor(e){this.Pr=e,this.buffer=new Vt(qv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();qv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sC{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ie(Bv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ao(i)?ie(Bv,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Ar(3e5)}))}}class aC{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(ph.ce);const s=new rC(i);return this.Vr.forEachTarget(e,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(jv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,l,c,d,p,y,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(s=A,p=Date.now(),this.removeTargets(e,s,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(_=Date.now(),Pa()<=Ne.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function oC(r,e){return new aC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.changes=new Fs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Il(s.mutation,l,Tn.empty(),nt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ve()){const l=Us();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((c=>{let d=vl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Us();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ve())))}populateOverlays(e,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,l){let c=tr();const d=Rl(),p=(function(){return Rl()})();return i.forEach(((y,_)=>{const S=s.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof is)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Il(S.mutation,_,S.mutation.getFieldMask(),nt.now())):d.set(_.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new uC(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=Rl();let l=new lt(((d,p)=>d-p)),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=s.get(y)||Tn.empty();S=p.applyToLocalView(_,S),s.set(y,S);const A=(l.get(p.batchId)||Ve()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,S=y.value,A=kT();S.forEach((w=>{if(!c.has(w)){const B=BT(i.get(w),s.get(w));B!==null&&A.set(w,B),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return cI(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):hI(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):X.resolve(Us());let p=Ol,y=c;return d.next((_=>X.forEach(_,((S,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(e,S).next((w=>{y=y.insert(S,w)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Ve()))).next((S=>({batchId:p,changes:MT(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new he(i)).next((s=>{let l=vl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let d=vl();return this.indexManager.getCollectionParents(e,c).next((p=>X.forEach(p,(y=>{const _=(function(A,w){return new _h(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,l).next((S=>{S.forEach(((A,w)=>{d=d.insert(A,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Jt.newInvalidDocument(S)))}));let p=vl();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&Il(S.mutation,_,Tn.empty(),nt.now()),Eh(i,_)&&(p=p.insert(y,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:eC(l.bundledQuery),readTime:Ri(l.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.overlays=new lt(he.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Us();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,c)=>{this.bt(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const l=Us(),c=i.length+1,d=new he(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new lt(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let S=c.get(_.largestBatchId);S===null&&(S=Us(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=Us(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=l)););return X.resolve(p)}bt(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new DI(i,s));let c=this.Lr.get(i);c===void 0&&(c=Ve(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this.kr=new Vt(Pt.Kr),this.qr=new Vt(Pt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new Pt(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new Pt(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new he(new ot([])),s=new Pt(i,e),l=new Pt(i,e+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new he(new ot([])),s=new Pt(i,e),l=new Pt(i,e+1);let c=Ve();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Pt(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return he.comparator(e.key,i.key)||Oe(e.Hr,i.Hr)}static Ur(e,i){return Oe(e.Hr,i.Hr)||he.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Vt(Pt.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new xI(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Pt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Mm:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Pt(i,0),l=new Pt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Vt(Oe);return i.forEach((l=>{const c=new Pt(l,0),d=new Pt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{s=s.add(p.Hr)}))})),X.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;he.isDocumentKey(c)||(c=c.child(""));const d=new Pt(new he(c),0);let p=new Vt(Oe);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){He(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Pt(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new Pt(i,0),l=this.Jr.firstAfterOrEqual(s);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.ti=e,this.docs=(function(){return new lt(he.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(i))}getEntries(e,i){let s=tr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Jt.newInvalidDocument(l))})),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=tr();const d=i.path,p=new he(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||jR(zR(S),s)<=0||(l.has(S.key)||Eh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,s,l){me(9500)}ni(e,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new gC(this)}getSize(e){return X.resolve(this.size)}}class gC extends lC{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(s)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.persistence=e,this.ri=new Fs((i=>Pm(i)),Lm),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.ii=0,this.si=new Gm,this.targetCount=0,this.oi=$a._r()}forEachTarget(e,i){return this.ri.forEach(((s,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new $a(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),X.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,i){this._i={},this.overlays={},this.ai=new ph(0),this.ui=!1,this.ui=!0,this.ci=new dC,this.referenceDelegate=e(this),this.li=new yC(this),this.indexManager=new tC,this.remoteDocumentCache=(function(l){return new pC(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new $I(i),this.Pi=new hC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new fC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new mC(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){ie("MemoryPersistence","Starting transaction:",e);const l=new _C(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return X.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class _C extends qR{constructor(e){super(),this.currentSequenceNumber=e}}class Fm{constructor(e){this.persistence=e,this.Ri=new Gm,this.Ai=null}static Vi(e){return new Fm(e)}get di(){if(this.Ai)return this.Ai;throw me(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(s=>{const l=he.fromPath(s);return this.mi(e,l).next((c=>{c||i.removeEntry(l,ye.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class oh{constructor(e,i){this.persistence=e,this.fi=new Fs((s=>FR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=oC(this,i)}static Vi(e,i){return new oh(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((s,l)=>this.wr(e,s,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(s++,c.removeEntry(d,ye.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=zc(e.data.value)),i}wr(e,i,s){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=l}static Es(e,i){let s=Ve(),l=Ve();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ym(e,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return GA()?8:HR(Zt())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new vC;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,s,l){return s.documentReadCount<this.Vs?(Pa()<=Ne.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Pa()<=Ne.DEBUG&&ie("QueryEngine","Query:",La(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Pa()<=Ne.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(i))):X.resolve())}gs(e,i){if(Dv(i))return X.resolve(null);let s=bi(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=um(i,null,"F"),s=bi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Ve(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((y=>{const _=this.bs(i,p);return this.Ss(i,_,d,y.readTime)?this.gs(e,um(i,null,"F")):this.Ds(e,_,i,y)}))))})))))}ps(e,i,s,l){return Dv(i)||l.isEqual(ye.min())?X.resolve(null):this.fs.getDocuments(e,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?X.resolve(null):(Pa()<=Ne.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),La(i)),this.Ds(e,d,i,LR(l,Ol)).next((p=>p)))}))}bs(e,i){let s=new Vt(OT(e));return i.forEach(((l,c)=>{Eh(e,c)&&(s=s.add(c))})),s}Ss(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,s){return Pa()<=Ne.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",La(i)),this.fs.getDocumentsMatchingQuery(e,i,Kr.min(),s)}Ds(e,i,s,l){return this.fs.getDocumentsMatchingQuery(e,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="LocalStore",TC=3e8;class SC{constructor(e,i,s,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new lt(Oe),this.Fs=new Fs((c=>Pm(c)),Lm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function AC(r,e,i,s){return new SC(r,e,i,s)}async function i0(r,e){const i=Ee(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let y=Ve();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){p.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function bC(r,e){const i=Ee(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,S){const A=_.batch,w=A.keys();let B=X.resolve();return w.forEach((J=>{B=B.next((()=>S.getEntry(y,J))).next((W=>{const $=_.docVersions.get(J);He($!==null,48541),W.version.compareTo($)<0&&(A.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),S.addEntry(W)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=Ve();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function r0(r){const e=Ee(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function wC(r,e){const i=Ee(r),s=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((S,A)=>{const w=l.get(A);if(!w)return;p.push(i.li.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,A))));let B=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?B=B.withResumeToken(Yt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):S.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(S.resumeToken,s)),l=l.insert(A,B),(function(W,$,ue){return W.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=TC?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(w,B,S)&&p.push(i.li.updateTargetData(c,B))}));let y=tr(),_=Ve();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(RC(c,d,e.documentUpdates).next((S=>{y=S.Bs,_=S.Ls}))),!s.isEqual(ye.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(S)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.vs=l,c)))}function RC(r,e,i){let s=Ve(),l=Ve();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=tr();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(ye.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):ie(Qm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function IC(r,e){const i=Ee(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function CC(r,e){const i=Ee(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,e).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new Br(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function mm(r,e,i){const s=Ee(r),l=s.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ao(d))throw d;ie(Qm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(l.target)}function Hv(r,e,i){const s=Ee(r);let l=ye.min(),c=Ve();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const A=Ee(y),w=A.Fs.get(S);return w!==void 0?X.resolve(A.vs.get(w)):A.li.getTargetData(_,S)})(s,d,bi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?l:ye.min(),i?c:Ve()))).next((p=>(xC(s,dI(e),p),{documents:p,ks:c})))))}function xC(r,e,i){let s=r.Ms.get(e)||ye.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class Gv{constructor(){this.activeTargetIds=vI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DC{constructor(){this.vo=new Gv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Gv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="ConnectivityMonitor";class Yv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ie(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ie(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function pm(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="RestConnection",OC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class VC{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===eh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(e,i,s,l,c){const d=pm(),p=this.Qo(e,i.toUriEncodedString());ie(Fd,`Sending RPC '${e}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,c);const{host:_}=new URL(p),S=to(_);return this.zo(e,p,y,s,S).then((A=>(ie(Fd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Ka(Fd,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",s),A}))}jo(e,i,s,l,c,d){return this.Wo(e,i,s,l,c)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const s=OC[e];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection",pl=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Fa extends VC{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Fa.c_){const e=cT();pl(e,uT.STAT_EVENT,(i=>{i.stat===im.PROXY?ie(Kt,"STAT_EVENT: detected buffering proxy"):i.stat===im.NOPROXY&&ie(Kt,"STAT_EVENT: detected no buffering proxy")})),Fa.c_=!0}}zo(e,i,s,l,c){const d=pm();return new Promise(((p,y)=>{const _=new oT;_.setWithCredentials(!0),_.listenOnce(lT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Lc.NO_ERROR:const A=_.getResponseJson();ie(Kt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Lc.TIMEOUT:ie(Kt,`RPC '${e}' ${d} timed out`),y(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const w=_.getStatus();if(ie(Kt,`RPC '${e}' ${d} failed with status:`,w,"response text:",_.getResponseText()),w>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const J=B==null?void 0:B.error;if(J&&J.status&&J.message){const W=(function(ue){const pe=ue.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(pe)>=0?pe:Z.UNKNOWN})(J.status);y(new oe(W,J.message))}else y(new oe(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ie(Kt,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);ie(Kt,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",S,s,15)}))}T_(e,i,s){const l=pm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const _=c.join("");ie(Kt,`Creating RPC '${e}' stream ${l}: ${_}`,p);const S=d.createWebChannel(_,p);this.I_(S);let A=!1,w=!1;const B=new MC({Ho:J=>{w?ie(Kt,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(A||(ie(Kt,`Opening RPC '${e}' stream ${l} transport.`),S.open(),A=!0),ie(Kt,`RPC '${e}' stream ${l} sending:`,J),S.send(J))},Jo:()=>S.close()});return pl(S,_l.EventType.OPEN,(()=>{w||(ie(Kt,`RPC '${e}' stream ${l} transport opened.`),B.i_())})),pl(S,_l.EventType.CLOSE,(()=>{w||(w=!0,ie(Kt,`RPC '${e}' stream ${l} transport closed`),B.o_(),this.E_(S))})),pl(S,_l.EventType.ERROR,(J=>{w||(w=!0,Ka(Kt,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),B.o_(new oe(Z.UNAVAILABLE,"The operation could not be completed")))})),pl(S,_l.EventType.MESSAGE,(J=>{var W;if(!w){const $=J.data[0];He(!!$,16349);const ue=$,pe=(ue==null?void 0:ue.error)||((W=ue[0])==null?void 0:W.error);if(pe){ie(Kt,`RPC '${e}' stream ${l} received error:`,pe);const _e=pe.status;let Ge=(function(C){const b=wt[C];if(b!==void 0)return GT(b)})(_e),Ce=pe.message;Ge===void 0&&(Ge=Z.INTERNAL,Ce="Unknown error status: "+_e+" with message "+pe.message),w=!0,B.o_(new oe(Ge,Ce)),S.close()}else ie(Kt,`RPC '${e}' stream ${l} received:`,$),B.__($)}})),Fa.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return hT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(r){return new Fa(r)}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(r){return new zI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fa.c_=!1;class s0{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&ie("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="PersistentStream";class a0{constructor(e,i,s,l,c,d,p,y){this.Ci=e,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(er(i.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new oe(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ie(Qv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ie(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UC extends a0{constructor(e,i,s,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=qI(this.serializer,e),s=(function(c){if(!("targetChange"in c))return ye.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ye.min():d.readTime?Ri(d.readTime):ye.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=lm(y)?{documents:FI(c,y)}:{query:YI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=QT(c,d.resumeToken);const _=cm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(ye.min())>0){p.readTime=ah(c,d.snapshotVersion.toTimestamp());const _=cm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const s=KI(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=dm(this.serializer),i.removeTarget=e,this.K_(i)}}class PC extends a0{constructor(e,i,s,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=GI(e.writeResults,e.commitTime),s=Ri(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=dm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>HI(this.serializer,s)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{}class zC extends LC{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,hm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(Z.UNKNOWN,c.toString())}))}jo(e,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,hm(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function jC(r,e,i,s){return new zC(r,e,i,s)}class BC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(er(i),this.aa=!1):ie("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class qC{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Ys(this)&&(ie(Hs,"Restarting streams for network reachability change."),await(async function(y){const _=Ee(y);_.Ea.add(4),await Kl(_),_.Va.set("Unknown"),_.Ea.delete(4),await wh(_)})(this))}))})),this.Va=new BC(s,l)}}async function wh(r){if(Ys(r))for(const e of r.Ra)await e(!0)}async function Kl(r){for(const e of r.Ra)await e(!1)}function o0(r,e){const i=Ee(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Zm(i)?Jm(i):oo(i).O_()&&Xm(i,e))}function Km(r,e){const i=Ee(r),s=oo(i);i.Ia.delete(e),s.O_()&&l0(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ys(i)&&i.Va.set("Unknown"))}function Xm(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}oo(r).Z_(e)}function l0(r,e){r.da.$e(e),oo(r).X_(e)}function Jm(r){r.da=new kI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),oo(r).start(),r.Va.ua()}function Zm(r){return Ys(r)&&!oo(r).x_()&&r.Ia.size>0}function Ys(r){return Ee(r).Ea.size===0}function u0(r){r.da=void 0}async function HC(r){r.Va.set("Online")}async function GC(r){r.Ia.forEach(((e,i)=>{Xm(r,e)}))}async function FC(r,e){u0(r),Zm(r)?(r.Va.ha(e),Jm(r)):r.Va.set("Unknown")}async function YC(r,e,i){if(r.Va.set("Online"),e instanceof YT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,e)}catch(s){ie(Hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lh(r,s)}else if(e instanceof qc?r.da.Xe(e):e instanceof FT?r.da.st(e):r.da.tt(e),!i.isEqual(ye.min()))try{const s=await r0(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(Yt.EMPTY_BYTE_STRING,S.snapshotVersion)),l0(c,y);const A=new Br(S.target,y,_,S.sequenceNumber);Xm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){ie(Hs,"Failed to raise snapshot:",s),await lh(r,s)}}async function lh(r,e,i){if(!ao(e))throw e;r.Ea.add(1),await Kl(r),r.Va.set("Offline"),i||(i=()=>r0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ie(Hs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function c0(r,e){return e().catch((i=>lh(r,i,e)))}async function Rh(r){const e=Ee(r),i=Wr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mm;for(;QC(e);)try{const l=await IC(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,KC(e,l)}catch(l){await lh(e,l)}h0(e)&&f0(e)}function QC(r){return Ys(r)&&r.Ta.length<10}function KC(r,e){r.Ta.push(e);const i=Wr(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function h0(r){return Ys(r)&&!Wr(r).x_()&&r.Ta.length>0}function f0(r){Wr(r).start()}async function XC(r){Wr(r).ra()}async function JC(r){const e=Wr(r);for(const i of r.Ta)e.ea(i.mutations)}async function ZC(r,e,i){const s=r.Ta.shift(),l=Bm.from(s,e,i);await c0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Rh(r)}async function WC(r,e){e&&Wr(r).Y_&&await(async function(s,l){if((function(d){return OI(d)&&d!==Z.ABORTED})(l.code)){const c=s.Ta.shift();Wr(s).B_(),await c0(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(s)}})(r,e),h0(r)&&f0(r)}async function Kv(r,e){const i=Ee(r);i.asyncQueue.verifyOperationInProgress(),ie(Hs,"RemoteStore received new credentials");const s=Ys(i);i.Ea.add(3),await Kl(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wh(i)}async function $C(r,e){const i=Ee(r);e?(i.Ea.delete(2),await wh(i)):e||(i.Ea.add(2),await Kl(i),i.Va.set("Unknown"))}function oo(r){return r.ma||(r.ma=(function(i,s,l){const c=Ee(i);return c.sa(),new UC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:HC.bind(null,r),Yo:GC.bind(null,r),t_:FC.bind(null,r),J_:YC.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Zm(r)?Jm(r):r.Va.set("Unknown")):(await r.ma.stop(),u0(r))}))),r.ma}function Wr(r){return r.fa||(r.fa=(function(i,s,l){const c=Ee(i);return c.sa(),new PC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:XC.bind(null,r),t_:WC.bind(null,r),ta:JC.bind(null,r),na:ZC.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(ie(Hs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const d=Date.now()+s,p=new Wm(e,i,d,l,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $m(r,e){if(er("AsyncQueue",`${e}: ${r}`),ao(r))return new oe(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(e){return new Ya(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||he.comparator(i.key,s.key):(i,s)=>he.comparator(i.key,s.key),this.keyedMap=vl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ya;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.ga=new lt(he.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):me(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class eo{constructor(e,i,s,l,c,d,p,y,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new eo(e,i,Ya.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class t2{constructor(){this.queries=Jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Ee(i),c=l.queries;l.queries=Jv(),c.forEach(((d,p)=>{for(const y of p.ba)y.onError(s)}))})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function Jv(){return new Fs((r=>NT(r)),vh)}async function n2(r,e){const i=Ee(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(s=2):(c=new e2,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=$m(d,`Initialization of query '${La(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ep(i)}async function i2(r,e){const i=Ee(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function r2(r,e){const i=Ee(r);let s=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&ep(i)}function s2(r,e,i){const s=Ee(r),l=s.queries.get(e);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(e)}function ep(r){r.Ca.forEach((e=>{e.next()}))}var gm,Zv;(Zv=gm||(gm={})).Ma="default",Zv.Cache="cache";class a2{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this.key=e}}class m0{constructor(e){this.key=e}}class o2{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ve(),this.mutatedKeys=Ve(),this.eu=OT(e),this.tu=new Ya(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new Xv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,A)=>{const w=l.get(S),B=Eh(this.query,A)?A:null,J=!!w&&this.mutatedKeys.has(w.key),W=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let $=!1;w&&B?w.data.isEqual(B.data)?J!==W&&(s.track({type:3,doc:B}),$=!0):this.su(w,B)||(s.track({type:2,doc:B}),$=!0,(y&&this.eu(B,y)>0||_&&this.eu(B,_)<0)&&(p=!0)):!w&&B?(s.track({type:0,doc:B}),$=!0):w&&!B&&(s.track({type:1,doc:w}),$=!0,(y||_)&&(p=!0)),$&&(B?(d=d.add(B),c=W?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),s.track({type:1,doc:S})}return{tu:d,iu:s,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(B,J){const W=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Vt:$})}};return W(B)-W(J)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,_=y!==this.Xa;return this.Xa=y,d.length!==0||_?{snapshot:new eo(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new m0(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new d0(s))})),i}cu(e){this.Za=e.ks,this.Ya=Ve();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tp="SyncEngine";class l2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class u2{constructor(e){this.key=e,this.hu=!1}}class c2{constructor(e,i,s,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fs((p=>NT(p)),vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new lt(he.comparator),this.Au=new Map,this.Vu=new Gm,this.du={},this.mu=new Map,this.fu=$a.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h2(r,e,i=!0){const s=E0(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await p0(s,e,i,!0),l}async function f2(r,e){const i=E0(r);await p0(i,e,!0,!1)}async function p0(r,e,i,s){const l=await CC(r.localStore,bi(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await d2(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&o0(r.remoteStore,l),p}async function d2(r,e,i,s,l){r.pu=(A,w,B)=>(async function(W,$,ue,pe){let _e=$.view.ru(ue);_e.Ss&&(_e=await Hv(W.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,_e))));const Ge=pe&&pe.targetChanges.get($.targetId),Ce=pe&&pe.targetMismatches.get($.targetId)!=null,Ae=$.view.applyChanges(_e,W.isPrimaryClient,Ge,Ce);return $v(W,$.targetId,Ae.au),Ae.snapshot})(r,A,w,B);const c=await Hv(r.localStore,e,!0),d=new o2(e,c.ks),p=d.ru(c.documents),y=Ql.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);$v(r,i,_.au);const S=new l2(e,i,d);return r.Tu.set(e,S),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function m2(r,e,i){const s=Ee(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!vh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await mm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Km(s.remoteStore,l.targetId),ym(s,l.targetId)})).catch(so)):(ym(s,l.targetId),await mm(s.localStore,l.targetId,!0))}async function p2(r,e){const i=Ee(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Km(i.remoteStore,s.targetId))}async function g2(r,e,i){const s=A2(r);try{const l=await(function(d,p){const y=Ee(d),_=nt.now(),S=p.reduce(((B,J)=>B.add(J.key)),Ve());let A,w;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let J=tr(),W=Ve();return y.xs.getEntries(B,S).next(($=>{J=$,J.forEach(((ue,pe)=>{pe.isValidDocument()||(W=W.add(ue))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,J))).next(($=>{A=$;const ue=[];for(const pe of p){const _e=II(pe,A.get(pe.key).overlayedDocument);_e!=null&&ue.push(new is(pe.key,_e,bT(_e.value.mapValue),wi.exists(!0)))}return y.mutationQueue.addMutationBatch(B,_,ue,p)})).next(($=>{w=$;const ue=$.applyToLocalDocumentSet(A,W);return y.documentOverlayCache.saveOverlays(B,$.batchId,ue)}))})).then((()=>({batchId:w.batchId,changes:MT(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.du[d.currentUser.toKey()];_||(_=new lt(Oe)),_=_.insert(p,y),d.du[d.currentUser.toKey()]=_})(s,l.batchId,i),await Xl(s,l.changes),await Rh(s.remoteStore)}catch(l){const c=$m(l,"Failed to persist write");i.reject(c)}}async function g0(r,e){const i=Ee(r);try{const s=await wC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(He(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?He(d.hu,14607):l.removedDocuments.size>0&&(He(d.hu,42227),d.hu=!1))})),await Xl(i,s,e)}catch(s){await so(s)}}function Wv(r,e,i){const s=Ee(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Ee(d);y.onlineState=p;let _=!1;y.queries.forEach(((S,A)=>{for(const w of A.ba)w.va(p)&&(_=!0)})),_&&ep(y)})(s.eventManager,e),l.length&&s.Pu.J_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function y2(r,e,i){const s=Ee(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),c=l&&l.key;if(c){let d=new lt(he.comparator);d=d.insert(c,Jt.newNoDocument(c,ye.min()));const p=Ve().add(c),y=new Ah(ye.min(),new Map,new lt(Oe),d,p);await g0(s,y),s.Ru=s.Ru.remove(c),s.Au.delete(e),np(s)}else await mm(s.localStore,e,!1).then((()=>ym(s,e,i))).catch(so)}async function _2(r,e){const i=Ee(r),s=e.batch.batchId;try{const l=await bC(i.localStore,e);_0(i,s,null),y0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Xl(i,l)}catch(l){await so(l)}}async function v2(r,e,i){const s=Ee(r);try{const l=await(function(d,p){const y=Ee(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(He(A!==null,37113),S=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(s.localStore,e);_0(s,e,i),y0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Xl(s,l)}catch(l){await so(l)}}function y0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function _0(r,e,i){const s=Ee(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.du[s.currentUser.toKey()]=l}}function ym(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||v0(r,s)}))}function v0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(Km(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),np(r))}function $v(r,e,i){for(const s of i)s instanceof d0?(r.Vu.addReference(s.key,e),E2(r,s)):s instanceof m0?(ie(tp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||v0(r,s.key)):me(19791,{wu:s})}function E2(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(ie(tp,"New document in limbo: "+i),r.Eu.add(s),np(r))}function np(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new he(ot.fromString(e)),s=r.fu.next();r.Au.set(s,new u2(i)),r.Ru=r.Ru.insert(i,s),o0(r.remoteStore,new Br(bi(zm(i.path)),s,"TargetPurposeLimboResolution",ph.ce))}}async function Xl(r,e,i){const s=Ee(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{d.push(s.pu(y,e,i).then((_=>{var S;if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:(S=i==null?void 0:i.targetChanges.get(y.targetId))==null?void 0:S.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Ym.Es(y.targetId,_);c.push(A)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(y,_){const S=Ee(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(w=>X.forEach(w.Ts,(B=>S.persistence.referenceDelegate.addReference(A,w.targetId,B))).next((()=>X.forEach(w.Is,(B=>S.persistence.referenceDelegate.removeReference(A,w.targetId,B)))))))))}catch(A){if(!ao(A))throw A;ie(Qm,"Failed to update sequence numbers: "+A)}for(const A of _){const w=A.targetId;if(!A.fromCache){const B=S.vs.get(w),J=B.snapshotVersion,W=B.withLastLimboFreeSnapshotVersion(J);S.vs=S.vs.insert(w,W)}}})(s.localStore,c))}async function T2(r,e){const i=Ee(r);if(!i.currentUser.isEqual(e)){ie(tp,"User change. New user:",e.toKey());const s=await i0(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new oe(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Xl(i,s.Ns)}}function S2(r,e){const i=Ee(r),s=i.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let l=Ve();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function E0(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=g0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y2.bind(null,e),e.Pu.J_=r2.bind(null,e.eventManager),e.Pu.yu=s2.bind(null,e.eventManager),e}function A2(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v2.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return AC(this.persistence,new EC,e.initialUser,this.serializer)}Cu(e){return new n0(Fm.Vi,this.serializer)}Du(e){return new DC}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class b2 extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){He(this.persistence.referenceDelegate instanceof oh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sC(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new n0((s=>oh.Vi(s,i)),this.serializer)}}class _m{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Wv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=T2.bind(null,this.syncEngine),await $C(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new t2})()}createDatastore(e){const i=bh(e.databaseInfo.databaseId),s=kC(e.databaseInfo);return jC(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,c,d,p){return new qC(s,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Wv(this.syncEngine,i,0)),(function(){return Yv.v()?new Yv:new NC})())}createSyncEngine(e,i){return(function(l,c,d,p,y,_,S){const A=new c2(l,c,d,p,y,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(l){const c=Ee(l);ie(Hs,"RemoteStore shutting down."),c.Ea.add(5),await Kl(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}_m.provider={build:()=>new _m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class R2{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=Xt.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ie($r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ie($r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=$m(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Qd(r,e){r.asyncQueue.verifyOperationInProgress(),ie($r,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await i0(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function eE(r,e){r.asyncQueue.verifyOperationInProgress();const i=await I2(r);ie($r,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Kv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>Kv(e.remoteStore,l))),r._onlineComponents=e}async function I2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ie($r,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await Qd(r,new uh)}}else ie($r,"Using default OfflineComponentProvider"),await Qd(r,new b2(void 0));return r._offlineComponents}async function T0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ie($r,"Using user provided OnlineComponentProvider"),await eE(r,r._uninitializedComponentsProvider._online)):(ie($r,"Using default OnlineComponentProvider"),await eE(r,new _m))),r._onlineComponents}function C2(r){return T0(r).then((e=>e.syncEngine))}async function x2(r){const e=await T0(r),i=e.eventManager;return i.onListen=h2.bind(null,e.syncEngine),i.onUnlisten=m2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=f2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=p2.bind(null,e.syncEngine),i}function D2(r,e,i={}){const s=new Yr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const S=new w2({next:w=>{S.Nu(),d.enqueueAndForget((()=>i2(c,A)));const B=w.docs.has(p);!B&&w.fromCache?_.reject(new oe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&w.fromCache&&y&&y.source==="server"?_.reject(new oe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(w)},error:w=>_.reject(w)}),A=new a2(zm(p.path),S,{includeMetadataChanges:!0,Ka:!0});return n2(c,A)})(await x2(r),r.asyncQueue,e,i,s))),s.promise}function N2(r,e){const i=new Yr;return r.asyncQueue.enqueueAndForget((async()=>g2(await C2(r),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="ComponentProvider",tE=new Map;function V2(r,e,i,s,l){return new KR(r,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,S0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="firestore.googleapis.com",nE=!0;class iE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A0,this.ssl=nE}else this.host=e.host,this.ssl=e.ssl??nE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=t0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iC)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ip{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new RR;switch(s.type){case"firstParty":return new DR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=tE.get(i);s&&(ie(O2,"Removing Datastore"),tE.delete(i),s.terminate())})(this),Promise.resolve()}}function M2(r,e,i,s={}){var _;r=qs(r,ip);const l=to(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;l&&(_E(`https://${p}`),vE("Firestore",!0)),c.host!==A0&&c.host!==p&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:s};if(!Qr(y,d)&&(r._setSettings(y),s.mockUserToken)){let S,A;if(typeof s.mockUserToken=="string")S=s.mockUserToken,A=Xt.MOCK_USER;else{S=kA(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xt(w)}r._authCredentials=new IR(new dT(S,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new rp(this.firestore,e,this._query)}}class Ot{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Fl(i,Ot._jsonSchema))return new Ot(e,s||null,new he(ot.fromString(i.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Rt("string",Ot._jsonSchemaVersion),referencePath:Rt("string")};class Pl extends rp{constructor(e,i,s){super(e,i,zm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new he(e))}withConverter(e){return new Pl(this.firestore,e,this._path)}}function Oc(r,e,...i){if(r=Wt(r),arguments.length===1&&(e=Om.newId()),UR("doc","path",e),r instanceof ip){const s=ot.fromString(e,...i);return yv(s),new Ot(r,null,new he(s))}{if(!(r instanceof Ot||r instanceof Pl))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ot.fromString(e,...i));return yv(s),new Ot(r.firestore,r instanceof Pl?r.converter:null,new he(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="AsyncQueue";class sE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s0(this,"async_queue_retry"),this._c=()=>{const s=Yd();s&&ie(rE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ao(e))throw e;ie(rE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,er("INTERNAL UNHANDLED ERROR: ",aE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Wm.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&me(47125,{Pc:aE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function aE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ih extends ip{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new sE,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sE(e),this._firestoreClient=void 0,await e}}}function k2(r,e){const i=typeof r=="object"?r:AE(),s=typeof r=="string"?r:eh,l=Sm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=VA("firestore");c&&M2(l,...c)}return l}function b0(r){if(r._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||U2(r),r._firestoreClient}function U2(r){var s,l,c,d;const e=r._freezeSettings(),i=V2(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,(l=r._app)==null?void 0:l.options.apiKey,e);r._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new R2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Yt.fromBase64String(e))}catch(i){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Un(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fl(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Rt("string",Un._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(e){if(Fl(e,Ii._jsonSchema))return new Ii(e.latitude,e.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Rt("string",Ii._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fl(e,Jn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Jn(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:Rt("string",Jn._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=/^__.*__$/;class L2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(e,this.data,i,this.fieldTransforms)}}class w0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new is(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function R0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{dataSource:r})}}class xh{constructor(e,i,s,l,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new xh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var l;const i=(l=this.path)==null?void 0:l.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var l;const i=(l=this.path)==null?void 0:l.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ch(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(R0(this.dataSource)&&P2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class z2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||bh(e)}createContext(e,i,s,l=!1){return new xh({dataSource:e,methodName:i,targetDoc:s,path:Ft.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I0(r){const e=r._freezeSettings(),i=bh(r._databaseId);return new z2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function j2(r,e,i,s,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,e,i,l);op("Data must be an object, but it was:",d,s);const p=C0(s,d);let y,_;if(c.merge)y=new Tn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const w=Ll(e,A,i);if(!d.contains(w))throw new oe(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);N0(S,w)||S.push(w)}y=new Tn(S),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new L2(new hn(p),y,_)}class Dh extends Ch{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function B2(r,e,i){return new xh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:r._methodName,arrayElement:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ap extends Ch{constructor(e,i){super(e),this.Ac=i}_toFieldTransform(e){const i=B2(this,e,!0),s=this.Ac.map((c=>Jl(c,i))),l=new Wa(s);return new AI(e.path,l)}isEqual(e){return e instanceof ap&&Qr(this.Ac,e.Ac)}}function q2(r,e,i,s){const l=r.createContext(1,e,i);op("Data must be an object, but it was:",l,s);const c=[],d=hn.empty();ns(s,((y,_)=>{const S=D0(e,y,i);_=Wt(_);const A=l.childContextForFieldPath(S);if(_ instanceof Dh)c.push(S);else{const w=Jl(_,A);w!=null&&(c.push(S),d.set(S,w))}}));const p=new Tn(c);return new w0(d,p,l.fieldTransforms)}function H2(r,e,i,s,l,c){const d=r.createContext(1,e,i),p=[Ll(e,s,i)],y=[l];if(c.length%2!=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)p.push(Ll(e,c[w])),y.push(c[w+1]);const _=[],S=hn.empty();for(let w=p.length-1;w>=0;--w)if(!N0(_,p[w])){const B=p[w];let J=y[w];J=Wt(J);const W=d.childContextForFieldPath(B);if(J instanceof Dh)_.push(B);else{const $=Jl(J,W);$!=null&&(_.push(B),S.set(B,$))}}const A=new Tn(_);return new w0(S,A,d.fieldTransforms)}function Jl(r,e){if(x0(r=Wt(r)))return op("Unsupported field value:",e,r),C0(r,e);if(r instanceof Ch)return(function(s,l){if(!R0(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let y=Jl(p,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=Wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return EI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=nt.fromDate(s);return{timestampValue:ah(l.serializer,c)}}if(s instanceof nt){const c=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ah(l.serializer,c)}}if(s instanceof Ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:QT(l.serializer,s._byteString)};if(s instanceof Ot){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Hm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Jn)return(function(d,p){const y=d instanceof Jn?d.toArray():d;return{mapValue:{fields:{[ST]:{stringValue:AT},[th]:{arrayValue:{values:y.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return jm(p.serializer,S)}))}}}}}})(s,l);if(e0(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Vm(s)}`)})(r,e)}function C0(r,e){const i={};return gT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(r,((s,l)=>{const c=Jl(l,e.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function x0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof nt||r instanceof Ii||r instanceof Un||r instanceof Ot||r instanceof Ch||r instanceof Jn||e0(r))}function op(r,e,i){if(!x0(i)||!mT(i)){const s=Vm(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Ll(r,e,i){if((e=Wt(e))instanceof sp)return e._internalPath;if(typeof e=="string")return D0(r,e);throw ch("Field path arguments must be of type string or ",r,!1,void 0,i)}const G2=new RegExp("[~\\*/\\[\\]]");function D0(r,e,i){if(e.search(G2)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new sp(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ch(r,e,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new oe(Z.INVALID_ARGUMENT,p+r+y)}function N0(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{convertValue(e,i="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ns(e,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(e){var s,l,c;const i=(c=(l=(s=e.fields)==null?void 0:s[th].arrayValue)==null?void 0:l.values)==null?void 0:c.map((d=>pt(d.doubleValue)));return new Jn(i)}convertGeoPoint(e){return new Ii(pt(e.latitude),pt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=yh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const i=Xr(e);return new nt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ot.fromString(e);He($T(s),9688,{name:e});const l=new Ml(s.get(1),s.get(3)),c=new he(s.popFirst(5));return l.isEqual(i)||er(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2 extends F2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,i)}}function Q2(...r){return new ap("arrayUnion",r)}const oE="@firebase/firestore",lE="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(Ll("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class K2 extends O0{data(){return super.data()}}function X2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Tl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ps extends O0{constructor(e,i,s,l,c,d){super(e,i,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Ll("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ps._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:Rt("string",Ps._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Hc extends Ps{data(e={}){return super.data(e)}}class Cl{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Hc(this._firestore,this._userDataWriter,s.key,s,new Tl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Tl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:J2(p.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cl._jsonSchemaVersion="firestore/querySnapshot/1.0",Cl._jsonSchema={type:Rt("string",Cl._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(r){r=qs(r,Ot);const e=qs(r.firestore,Ih),i=b0(e);return D2(i,r._key).then((s=>$2(e,r,s)))}function Z2(r,e,i){r=qs(r,Ot);const s=qs(r.firestore,Ih),l=X2(r.converter,e),c=I0(s);return V0(s,[j2(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,wi.none())])}function W2(r,e,i,...s){r=qs(r,Ot);const l=qs(r.firestore,Ih),c=I0(l);let d;return d=typeof(e=Wt(e))=="string"||e instanceof sp?H2(c,"updateDoc",r._key,e,i,s):q2(c,"updateDoc",r._key,e),V0(l,[d.toMutation(r._key,wi.exists(!0))])}function V0(r,e){const i=b0(r);return N2(i,e)}function $2(r,e,i){const s=i.docs.get(e._key),l=new Y2(r);return new Ps(r,l,e._key,s,new Tl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){wR(no),Qa(new Ls("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Ih(new CR(s.getProvider("auth-internal")),new NR(d,s.getProvider("app-check-internal")),XR(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gr(oE,lE,e),Gr(oE,lE,"esm2020")})();const ex={apiKey:"AIzaSyDd7lRhtmseXVvy2BDHtFN7FaRqUBDbeXs",authDomain:"gbc-child-protection.firebaseapp.com",projectId:"gbc-child-protection",storageBucket:"gbc-child-protection.firebasestorage.app",messagingSenderId:"987148836528",appId:"1:987148836528:web:f26b115fed4c29e65ca575"},M0=SE(ex),Gc=TR(M0),Vc=k2(M0),Ti={async getUserProfile(r){try{const e=await uE(Oc(Vc,"users",r));if(e.exists()){const i=e.data();return{...i,testAttempts:i.testAttempts||[]}}return null}catch(e){throw console.error("Error fetching user profile:",e),e}},async register(r,e,i){const l={id:(await sw(Gc,r,i)).user.uid,email:r,name:e,gradeTaught:"",intendToTeach:!0,testAttempts:[],isAdmin:!1};return await Z2(Oc(Vc,"users",l.id),l),l},async login(r,e){const i=await aw(Gc,r,e),s=await uE(Oc(Vc,"users",i.user.uid));if(!s.exists())throw new Error("User record not found in database.");const l=s.data();return{...l,testAttempts:l.testAttempts||[]}},async addTestResult(r,e){const i=Oc(Vc,"users",r),s={testAttempts:Q2(e)};e.passed&&(s.lastSuccessfulTestDate=e.date),await W2(i,s)},async logout(){return cw(Gc)}},cE=["Nursery","Pre-School","Grade R","Grade 1","Grade 2","Grade 3","Grade 4","Grade 5","Grade 6","Grade 7","Youth","Administration"],tx=({onAuthSuccess:r})=>{const[e,i]=qe.useState(!1),[s,l]=qe.useState(""),[c,d]=qe.useState(""),[p,y]=qe.useState(""),[_,S]=qe.useState(cE[0]),[A,w]=qe.useState(""),B=J=>{if(J.preventDefault(),w(""),e){if(!p||!s||!c||!_){w("Please fill in all fields");return}const W=Ti.register(p,s,c,_);W?r(W):w("User already exists")}else{if(!s||!c){w("Please enter email and password");return}const W=Ti.login(s,c);W?r(W):w("Invalid email or password. Please try again.")}};return D.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded-2xl shadow-xl border border-gray-100",children:[D.jsxs("div",{className:"text-center mb-8",children:[D.jsx("h2",{className:"text-3xl font-bold text-[#2E5D4E] mb-2",children:e?"New Staff Registration":"Staff Login"}),D.jsx("p",{className:"text-gray-500",children:"Secure access for GBC staff and volunteers"})]}),D.jsxs("form",{onSubmit:B,className:"space-y-4",children:[e&&D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Full Name"}),D.jsx("input",{type:"text",value:p,onChange:J=>y(J.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-[#2E5D4E] outline-none",placeholder:"e.g. John Doe"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Email Address"}),D.jsx("input",{type:"email",value:s,onChange:J=>l(J.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-[#2E5D4E] outline-none",placeholder:"yourname@church.com"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Password"}),D.jsx("input",{type:"password",value:c,onChange:J=>d(J.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-[#2E5D4E] outline-none",placeholder:""})]}),e&&D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Grade Taught"}),D.jsx("select",{value:_,onChange:J=>S(J.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-[#2E5D4E] outline-none bg-white",children:cE.map(J=>D.jsx("option",{value:J,children:J},J))})]}),A&&D.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-2 rounded-lg text-center font-medium",children:A}),D.jsx("button",{type:"submit",className:"w-full py-4 bg-[#2E5D4E] text-white font-bold rounded-xl hover:bg-[#254a3e] transition-all shadow-lg",children:e?"Create Account":"Sign In"})]}),D.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 text-center",children:D.jsx("button",{onClick:()=>{i(!e),w("")},className:"text-[#2E5D4E] font-medium hover:underline",children:e?"Already have an account? Sign in":"Don't have an account? Register here"})})]})},nx=({user:r,onStartQuiz:e})=>{const i=r.testAttempts||[];i.length>0&&i[i.length-1];const s=i.some(l=>l.passed);return D.jsxs("div",{className:"space-y-8",children:[D.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-100 flex flex-col md:flex-row items-center gap-8",children:[D.jsxs("div",{className:"flex-1 text-center md:text-left",children:[D.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-2 leading-tight",children:"Policy Compliance Dashboard"}),D.jsx("p",{className:"text-gray-500 mb-6 text-lg",children:"Every volunteer and staff member must complete this knowledge verification to ensure the safety of our children."}),D.jsx("button",{onClick:e,className:"px-10 py-4 bg-[#2E5D4E] text-white rounded-2xl font-bold text-xl hover:bg-[#254a3e] transition-all transform hover:scale-105 shadow-xl shadow-green-100",children:i.length===0?"Start Certification Test":"Retake Certification Test"})]}),D.jsxs("div",{className:"w-full md:w-64 flex flex-col items-center justify-center p-6 bg-gray-50 rounded-2xl border border-gray-100",children:[D.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mb-4 ${s?"bg-green-100 text-green-600":"bg-gray-200 text-gray-400"}`,children:D.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),D.jsxs("div",{className:"text-center",children:[D.jsx("span",{className:"block text-2xl font-bold text-gray-800",children:i.length}),D.jsx("span",{className:"text-xs uppercase font-bold text-gray-400 tracking-widest",children:"Total Attempts"})]})]})]}),D.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100",children:[D.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6 border-b border-gray-100 pb-4",children:"Test History"}),i.length===0?D.jsx("div",{className:"py-12 text-center text-gray-400 italic",children:"No test attempts recorded yet."}):D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"text-left text-xs font-bold text-gray-400 uppercase tracking-widest",children:[D.jsx("th",{className:"pb-4",children:"Date"}),D.jsx("th",{className:"pb-4",children:"Score"}),D.jsx("th",{className:"pb-4",children:"Status"}),D.jsx("th",{className:"pb-4 text-right",children:"Details"})]})}),D.jsx("tbody",{className:"divide-y divide-gray-100",children:[...i].reverse().map((l,c)=>D.jsxs("tr",{className:"group",children:[D.jsx("td",{className:"py-4 text-gray-600",children:new Date(l.date).toLocaleDateString()}),D.jsxs("td",{className:"py-4 font-bold text-gray-800",children:[l.score,"%"]}),D.jsx("td",{className:"py-4",children:D.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${l.passed?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:l.passed?"PASSED":"RETRY"})}),D.jsx("td",{className:"py-4 text-right",children:D.jsx("span",{className:"text-xs text-gray-400 group-hover:text-[#2E5D4E] transition-colors cursor-default",children:"View Report"})})]},c))})]})})]})]})},ix=[{id:1,text:"According to the policy, what is the legal definition of a 'Child'?",options:["A person under 16 years of age","Any person enrolled in Sunday School","A person under 18 years of age","Anyone who likes cartoons"],correctIndex:2,falseIndex:3,explanation:"As per section 1.2, a child is defined as a person under 18 years of age."},{id:3,text:"Which Act does this policy ensure legal compliance with?",options:["The Church Safety Act of 1990","The Baptist Union Guidelines","The International Superhero Defense Code","Section 110 of the Children's Act 38 of 2005"],correctIndex:3,falseIndex:2,explanation:"The document's purpose is to ensure legal compliance with Section 110 of the Children's Act 38 of 2005."},{id:4,text:"What is the 'two adults' rule regarding interaction in a room?",options:["Children must always be in groups of two","There must be more than one leader with a child in a room","Elders must check rooms every 2 hours","Two leaders must share one chair"],correctIndex:1,falseIndex:3,explanation:"Section 3.1.7 states: 'There must be more than one leader with a child in a room.'"},{id:5,text:"What should a leader do if they find themselves alone with a child?",options:["Ask another leader to accompany them immediately","Immediately leave the child alone","Finish the activity quickly","Hide in a cupboard until help arrives"],correctIndex:0,falseIndex:3,explanation:"If alone, another leader should be asked to accompany them immediately (3.1.7)."},{id:6,text:"Where should sensitive conversations with children take place?",options:["In a locked office for total privacy","In the main sanctuary during service","In a quiet spot that is easily accessible and not behind locked doors","In a soundproof underground bunker"],correctIndex:2,falseIndex:3,explanation:"Conversations should be in a quiet spot but never happen behind locked doors (3.1.8)."},{id:7,text:"Under what condition can a leader hug a child?",options:["Only if the child initiates the contact and it's side-to-side","Anytime the leader feels like it","Hugging is strictly forbidden in all cases","Only if the child is wearing a heavy winter coat"],correctIndex:0,falseIndex:3,explanation:"Section 3.4.1: 'Hugging can only be done if the child initiates the contact... use a side-to-side hug.'"},{id:8,text:"Lap sitting is only appropriate for which age group?",options:["Children under ten","Anyone who is feeling sad","Only for children who weigh less than 5kg","Children under five"],correctIndex:3,falseIndex:2,explanation:"Section 3.4.4: 'Lap sitting is only appropriate for children under five.'"},{id:9,text:"Holding children for comfort is only appropriate for which Grade?",options:["Grade 3 or below","Grade R or below","Grade 7 or below","Only for children who can recite the alphabet backwards"],correctIndex:1,falseIndex:3,explanation:"Section 3.4.5: 'Holding children is only appropriate for children in or below Grade R.'"},{id:10,text:"How often does someone need to be re-certified to continue working with children?",options:["Every year","Every two years","Every fifth year","Once every millennium"],correctIndex:1,falseIndex:3,explanation:"Training and re-certification must be completed every two years to ensure all staff remain current with the latest child protection protocols."},{id:11,text:"Which of these is listed as a forbidden disciplinary strategy?",options:["Re-direction","Use of rewards and encouragement","Using corporal punishment (spanking/hitting)","Making the child stand on one leg for 4 hours"],correctIndex:2,falseIndex:3,explanation:"Corporal punishment is strictly forbidden as per section 3.3.3.g."},{id:12,text:"Who must give written permission for photos to be taken of a child?",options:["The Parent or Guardian","The Sunday School teacher","The Church Secretary","A professional photographer from the local newspaper"],correctIndex:0,falseIndex:3,explanation:"Section 3.6.2.a: 'The parent/guardian of the child must give written permission for photos to be taken.'"},{id:13,text:"What is the gather point in case of a fire?",options:["Inside the sanctuary","The kitchen","The nearest ice cream shop","The parking lot"],correctIndex:3,falseIndex:2,explanation:"Section 3.9.2: 'Gather in the parking lot of the church' in case of fire."},{id:14,text:"What is the rule for Grades 1-7 using the bathroom?",options:["The leader must accompany them inside","The care provider should wait outside the bathroom door","They must use the bathroom in pairs","They must signal their return using a smoke machine"],correctIndex:1,falseIndex:3,explanation:"Section 3.12.4: For Grades 1-7, the provider should wait outside the bathroom door."},{id:15,text:"If you suspect abuse, what is the first step?",options:["Call the parents immediately","Inform the ministry leader immediately","Investigate the child yourself","Post about it on social media"],correctIndex:1,falseIndex:3,explanation:"Section 2.4.2.a.i: 'Inform the ministry leader immediately whenever you see signs or suspect abuse.'"},{id:16,text:"Which legislation governs the processing of personal information?",options:["The Church Privacy Act","The South African Secret Service Act","POPIA","The Book of Records"],correctIndex:2,falseIndex:1,explanation:"Section 1.4.6: 'Protection of Personal Information Act (POPIA).'"},{id:17,text:"Are leaders allowed to administer non-prescription over-the-counter medicine?",options:["Yes, for simple headaches","Only with the Superintendent's verbal permission","No, no medication without a prescription may be administered","Only if the medicine tastes like strawberries"],correctIndex:2,falseIndex:3,explanation:"Section 3.8.3.1: 'No medication that does not have a prescription may be administered to any child.'"},{id:18,text:"What happens to a church employee found guilty of child abuse?",options:["They are permanently removed from their position of working with children","They receive a verbal warning","They are transferred to the youth ministry","They are forced to eat only brussels sprouts for a month"],correctIndex:0,falseIndex:3,explanation:"Section 2.4.c.vi: 'Any person who is found guilty... will be removed from their position of working with children.'"},{id:19,text:"Is tickling allowed as a form of play?",options:["Yes, if the child likes it","Only if other leaders are watching","No, tickling or prolonged physical contact of any kind is not appropriate","Only if the leader is wearing feathers"],correctIndex:2,falseIndex:3,explanation:"Section 3.4.2: 'Tickling or prolonged physical contact of any kind is not appropriate.'"},{id:20,text:"What is required before transporting children in church vehicles?",options:["The driver must be an Elder","The vehicle must be painted green","Necessary documentation like indemnity and consent forms must be completed","The driver must know the lyrics to every hymn"],correctIndex:2,falseIndex:1,explanation:"Section 3.10.6: 'Children may only be transported when the necessary documentation has been completed, e.g., an indemnity and consent form.'"},{id:21,text:"What is the policy regarding sending private messages (DM/WhatsApp) to a child?",options:["It's fine if it's about Sunday School","Leaders should not private message children; communications should include a parent or another leader","Only on birthdays","Only if you use a lot of emojis"],correctIndex:1,falseIndex:3,explanation:"Communication boundaries require transparency, typically including parents or groups to avoid private, unmonitored access."},{id:22,text:"Which of these is a sign of potential neglect as defined by the policy context?",options:["Consistent poor hygiene or inappropriate clothing for the weather","The child is energetic","The child likes to sing loudly","The child wears mismatched socks on purpose"],correctIndex:0,falseIndex:3,explanation:"Consistent poor hygiene and lack of weather-appropriate clothing are standard indicators of neglect in child protection training."},{id:23,text:"What should you do if a child discloses abuse to you?",options:["Ask them to repeat it for a recording","Tell them to stop talking immediately","Run to find a camera","Listen, stay calm, reassure them it's not their fault, and do not promise total secrecy"],correctIndex:3,falseIndex:2,explanation:"Best practice is to listen and reassure, but explain that you must tell someone who can help (no secrets)."},{id:24,text:"When reporting abuse to the authorities, which form is typically required under the Children's Act?",options:["Annexure A","Form 22","Report Card 1","Permission Slip B"],correctIndex:1,falseIndex:3,explanation:"Form 22 is the standard form for reporting suspected child abuse to the Department of Social Development or Police in South Africa."},{id:25,text:"How should first aid incidents be recorded?",options:["In a personal diary","By memory only","In an official Incident/Accident Log Book with date, time, and details","By writing on a napkin"],correctIndex:2,falseIndex:3,explanation:"All injuries, even minor ones, must be documented in an official log for legal and safety reasons."},{id:26,text:"Can a volunteer who has not yet completed their screening work with children?",options:["Yes, if they look trustworthy","No, all staff and volunteers must be screened before commencing work with children","Only if it's a very busy day","Only if they bring snacks"],correctIndex:1,falseIndex:3,explanation:"Screening (including police clearance and interview) is a mandatory prerequisite for all child-facing roles."},{id:27,text:"What is the policy on giving individual personal gifts to a specific child?",options:["Encouraged to build rapport","Gifts should be given to the group or through the ministry leader/parents to avoid grooming concerns","Only if the gift costs more than R500","Only if the gift is wrapped in gold"],correctIndex:1,falseIndex:3,explanation:"Individual gift-giving can be misinterpreted or used for grooming; transparency through the ministry or parents is required."},{id:28,text:"What must be checked during the recruitment of a new children's ministry volunteer?",options:["Minimum of two references and checking against the National Child Protection Register","Their favorite movie","How many hymns they know","Their ability to bake cookies"],correctIndex:0,falseIndex:3,explanation:"Section 4.1.3 emphasizes the importance of reference checks and Register verification."},{id:29,text:"What is the 'Rule of Three' in some church safety contexts?",options:["Never have fewer than three children in a group","Children must pray three times","Never be alone with a child; always ensure a total of at least three people (e.g., 2 adults 1 child)","Leaders must wear three layers of clothing"],correctIndex:2,falseIndex:3,explanation:"The 'Rule of Three' ensures no adult is ever alone with a child, maintaining safety for both parties."},{id:30,text:"Is smoking or alcohol consumption allowed while on duty with children?",options:["Only during breaks","Only if the parents are present","Only on festive holidays","Strictly prohibited at all times while responsible for children"],correctIndex:3,falseIndex:2,explanation:"Substance use is strictly prohibited to ensure full capacity for supervision and appropriate role modeling."},{id:31,text:"How long should child protection records (like consent forms) be kept according to generic church guidelines/POPIA?",options:["1 month","Indefinitely or as per legal requirement (usually minimum 3-5 years after the child turns 18)","Until the end of the year","They should be burned immediately"],correctIndex:1,falseIndex:3,explanation:"Legal records regarding children must often be kept for extended periods to account for delayed disclosures."},{id:32,text:"If you observe a fellow leader behaving inappropriately, what should you do?",options:["Report it immediately to the Ministry Leader or CPO as per the Whistleblowing policy","Ignore it to avoid conflict","Tell the children to run away","Start a rumor about them"],correctIndex:0,falseIndex:3,explanation:"The policy requires immediate reporting of any concerns, even regarding colleagues, to protect the children."},{id:33,text:"What is the primary goal of the Child Protection Policy?",options:["To make more work for volunteers","To increase church membership","To create a safe and secure environment for children to grow and learn","To win a safety award"],correctIndex:2,falseIndex:3,explanation:"The primary focus is always the safety, well-being, and protection of the children in the church's care."},{id:34,text:"When should a register of attendance be taken for Sunday School?",options:["Only on special occasions","Once a month","Only if the kids are being noisy","Every single time the group meets"],correctIndex:3,falseIndex:2,explanation:"Accurate attendance records are vital for safety, emergency evacuations, and accountability."},{id:35,text:"What is defined as 'Physical Abuse' in the context of the policy?",options:["Giving a high-five","Any non-accidental physical injury to a child","Asking a child to sit down","Helping a child tie their shoes"],correctIndex:1,falseIndex:3,explanation:"Physical abuse involves non-accidental harm, including hitting, shaking, or burning."},{id:36,text:"Can a leader take a child home in their private car without prior consent?",options:["No, transport requires written consent and adherence to church vehicle policies","Yes, if it's raining","Yes, if the child asks","Only if the car is a taxi"],correctIndex:0,falseIndex:3,explanation:"Transporting children privately is high-risk and requires strict adherence to consent and safety protocols."},{id:37,text:"What is the 'CPO'?",options:["Church Pizza Organizer","Chief Prayer Official","Captain of Public Outreach","Child Protection Officer"],correctIndex:3,falseIndex:2,explanation:"The Child Protection Officer is the designated person responsible for overseeing the safety policy."},{id:38,text:"Which grade levels are allowed to go to the bathroom unaccompanied but with a leader outside?",options:["Grades 1 to 7","Nursery","Adults only","Children under two"],correctIndex:0,falseIndex:3,explanation:"As per section 3.12.4, for Grades 1-7, the provider waits outside the door."},{id:39,text:"Who has the final responsibility for the implementation of this policy?",options:["The children","The Church Elders","The local council","The neighbors"],correctIndex:1,falseIndex:3,explanation:"The Church Leadership (Elders/Board) holds ultimate accountability for the safety of the church environment."},{id:40,text:"Is emotional abuse (like consistent belittling) covered by this policy?",options:["No, only physical marks count","Only if the child cries","Yes, emotional abuse is a recognized form of harm and must be reported","Only on Sundays"],correctIndex:2,falseIndex:3,explanation:"The policy covers all forms of abuse, including physical, sexual, emotional, and neglect."},{id:41,text:"What is the policy regarding tagging children in church photos on social media?",options:["It is encouraged for reach","Do not tag children in photos or post identifiable personal information without specific parent consent","Only on the church's private page","Only if the child is smiling"],correctIndex:1,falseIndex:3,explanation:"To ensure privacy and safety, tagging children or providing full names on social media platforms is prohibited."},{id:42,text:"Where is the parent/guardian emergency contact information typically kept?",options:["In the main church safe","It is not collected","In a secure, accessible location known to all leaders","On the teacher's personal phone"],correctIndex:2,falseIndex:1,explanation:"Emergency info must be immediately accessible to leaders in case of an incident, typically kept with the attendance records."},{id:43,text:"How quickly must a suspicion of child abuse be reported to the ministry leader?",options:["Immediately","Within 48 hours","At the end of the school term","Only after you have proof"],correctIndex:0,falseIndex:3,explanation:"Suspected abuse must be reported immediately to ensure the child's safety and comply with mandatory reporting laws."},{id:44,text:"If a parent makes a complaint about a leader's conduct, who handles it?",options:["The leader involved","The CPO or Church Leadership (Elders)","It is ignored","The local newspaper"],correctIndex:1,falseIndex:3,explanation:"Formal complaints are handled by designated safety officers or church leadership to ensure impartiality."},{id:45,text:"Are leaders allowed to use their personal mobile phones to take photos of children?",options:["Yes, for ease of use","No, church-approved devices should be used, and photos must be deleted from personal storage immediately","Only if the phone is green","Only if they have a lot of storage space"],correctIndex:1,falseIndex:3,explanation:"Using personal phones for child photography is high-risk; policy usually dictates using church equipment or strict deletion protocols."},{id:46,text:"What is the 'Line of Sight' rule for rooms used by children?",options:["Rooms should have windows or open doors to remain visible from the outside","Rooms must be completely dark","Leaders must wear glasses","Children must always look at the teacher"],correctIndex:0,falseIndex:3,explanation:"Visibility prevents isolation and protects both children and leaders from false accusations."},{id:47,text:"What is the required leader-to-child ratio for toddlers/nursery?",options:["1 leader to 20 children","Higher ratios are required for younger children (e.g. 1:5)","No specific ratio is needed","1 leader per 50 children"],correctIndex:1,falseIndex:3,explanation:"Younger age groups require more intensive supervision and therefore lower ratios of children to adults."},{id:48,text:"What should you do if a child arrives at Sunday School appearing ill?",options:["Contact the parent/guardian to collect the child to prevent the spread of illness","Ask them to stay and play","Give them a generic aspirin","Ask them to sit in the corner alone"],correctIndex:0,falseIndex:3,explanation:"To protect other children and the sick child, parents should be called to take the child home if they are unwell."},{id:49,text:"How often should child protection refresher training be completed?",options:["Once in a lifetime","Annually","Every 10 years","Only if someone forgets the rules"],correctIndex:1,falseIndex:3,explanation:"Annual training ensures that policies stay fresh in leaders' minds and accounts for any legal updates."},{id:50,text:"Where is the First Aid kit located in the Sunday School area?",options:["In the pastor's car","Behind the church organ","In a clearly marked and accessible location known to all leaders","It is kept secret"],correctIndex:2,falseIndex:3,explanation:"All leaders must know the location of medical supplies for immediate response to minor injuries."}],rx=({onComplete:r,onCancel:e})=>{const[i,s]=qe.useState([]),[l,c]=qe.useState(0),[d,p]=qe.useState(0),[y,_]=qe.useState(!1),[S,A]=qe.useState(null),[w,B]=qe.useState([]),[J,W]=qe.useState(!1);qe.useEffect(()=>{const Ce=[...ix].sort(()=>.5-Math.random());s(Ce.slice(0,20))},[]);const $=i[l],ue=Ce=>{if(y||J)return;if(A(Ce),Ce===$.correctIndex){const C={questionId:$.id,attempts:d+1,isCorrect:!0};B(b=>[...b,C]),setTimeout(()=>{pe()},1e3)}else if(d===0)p(1),setTimeout(()=>A(null),1e3);else{const C={questionId:$.id,attempts:2,isCorrect:!1};B(b=>[...b,C]),_(!0)}},pe=()=>{A(null),_(!1),p(0),l<i.length-1?c(Ce=>Ce+1):_e()},_e=()=>{W(!0);const Ce=w.filter(C=>C.isCorrect).length*5,Ae={date:new Date().toISOString(),score:Ce,passed:Ce>=80,questionDetails:w};r(Ae)};if(i.length===0)return D.jsx("div",{children:"Loading questions..."});const Ge=(l+(J?1:0))/i.length*100;return D.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100 overflow-hidden relative",children:[D.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gray-100",children:D.jsx("div",{className:"h-full bg-[#2E5D4E] transition-all duration-500",style:{width:`${Ge}%`}})}),D.jsxs("div",{className:"flex justify-between items-center mb-8",children:[D.jsxs("span",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:["Question ",l+1," of 20"]}),D.jsx("button",{onClick:e,className:"text-xs text-gray-400 hover:text-red-500 transition-colors",children:"Exit Quiz"})]}),D.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8 leading-relaxed",children:$.text}),D.jsx("div",{className:"grid grid-cols-1 gap-4",children:$.options.map((Ce,Ae)=>{let C="border-gray-200 hover:border-[#2E5D4E] hover:bg-green-50";return S===Ae&&(C=Ae===$.correctIndex?"border-green-500 bg-green-50 text-green-700 ring-2 ring-green-500":"border-red-500 bg-red-50 text-red-700 ring-2 ring-red-500"),D.jsxs("button",{onClick:()=>ue(Ae),disabled:y,className:`w-full text-left p-5 rounded-xl border-2 transition-all flex items-center gap-4 ${C} disabled:opacity-50`,children:[D.jsx("div",{className:`w-8 h-8 rounded-full border flex items-center justify-center font-bold text-sm ${S===Ae?"border-transparent bg-white shadow-sm":"border-gray-300"}`,children:String.fromCharCode(65+Ae)}),D.jsx("span",{className:"font-medium text-lg",children:Ce})]},Ae)})}),d===1&&S!==null&&S!==$.correctIndex&&!y&&D.jsx("div",{className:"mt-6 p-4 bg-orange-50 text-orange-800 rounded-xl border border-orange-200 animate-bounce",children:D.jsx("p",{className:"font-bold",children:"Not quite right! Try one more time..."})}),y&&D.jsx("div",{className:"mt-8 p-6 bg-[#2E5D4E] bg-opacity-5 rounded-2xl border-2 border-[#2E5D4E] animate-slide-up",children:D.jsxs("div",{className:"flex items-start gap-4",children:[D.jsx("div",{className:"bg-[#2E5D4E] text-white p-2 rounded-lg mt-1",children:D.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),D.jsxs("div",{children:[D.jsx("h4",{className:"font-bold text-[#2E5D4E] text-lg mb-1",children:"Let's learn why:"}),D.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:$.explanation}),D.jsx("button",{onClick:pe,className:"bg-[#2E5D4E] text-white px-6 py-2 rounded-lg font-bold hover:bg-opacity-90 transition-all",children:"Continue to Next Question"})]})]})})]})},sx=["Nursery","Pre-School","Grade R","Grade 1","Grade 2","Grade 3","Grade 4","Grade 5","Grade 6","Grade 7","Youth","Administration"],ax=({user:r,onUpdate:e})=>{const[i,s]=qe.useState(r.name),[l,c]=qe.useState(r.gradeTaught),[d,p]=qe.useState(r.intendToTeach),[y,_]=qe.useState(r.password||""),[S,A]=qe.useState(!1),w=()=>{Ti.updateUser(r.id,{name:i,gradeTaught:l,intendToTeach:d,password:y}),A(!0),e(),setTimeout(()=>A(!1),3e3)};return D.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100 max-w-2xl mx-auto",children:[D.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"My Profile"}),D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Full Name"}),D.jsx("input",{type:"text",value:i,onChange:B=>s(B.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-[#2E5D4E] outline-none"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Grade You Teach"}),D.jsx("select",{value:l,onChange:B=>c(B.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-[#2E5D4E] outline-none bg-white",children:sx.map(B=>D.jsx("option",{value:B,children:B},B))})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Access Password"}),D.jsx("input",{type:"password",value:y,onChange:B=>_(B.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-[#2E5D4E] outline-none",placeholder:"Change your password"})]}),D.jsxs("div",{className:"flex items-center gap-4 p-4 bg-blue-50 rounded-xl",children:[D.jsx("input",{type:"checkbox",id:"intend",checked:d,onChange:B=>p(B.target.checked),className:"w-5 h-5 accent-[#2E5D4E]"}),D.jsx("label",{htmlFor:"intend",className:"text-sm font-bold text-blue-900",children:"I still intend to teach/volunteer in children's ministry for the current year."})]}),D.jsxs("div",{className:"pt-4 border-t border-gray-100 flex items-center justify-between",children:[D.jsx("button",{onClick:w,className:"px-8 py-3 bg-[#2E5D4E] text-white rounded-xl font-bold hover:bg-[#254a3e] transition-all",children:"Save Changes"}),S&&D.jsx("span",{className:"text-green-600 font-bold animate-pulse",children:"Profile updated successfully!"})]})]})]})},k0={sendTestResult:async(r,e)=>{await new Promise(s=>setTimeout(s,2e3));const i=`
      GERMISTON BAPTIST CHURCH - CHILD PROTECTION TEST RESULT
      ------------------------------------------------------
      Staff Member: ${r.name}
      Email: ${r.email}
      Date: ${new Date(e.date).toLocaleString()}
      Score: ${e.score}%
      Status: ${e.passed?"PASSED (PASSING GRADE IS 80%)":"FAILED - RETRY REQUIRED"}
      Test Format: 20 random questions from a pool of 50 unique items
      
      Total attempts for this user: ${r.testAttempts.length}
      ------------------------------------------------------
      Detailed breakdown:
      ${e.questionDetails.map((s,l)=>`Q${l+1}: ${s.isCorrect?"Correct":"Incorrect"} (${s.attempts} attempt(s))`).join(`
`)}
    `;return console.group("MOCK EMAIL SENT"),console.log("TO:",r.email),console.log("CC:","lexicon.sm@gmail.com"),console.log("SUBJECT:",`GBC Child Protection Test: ${e.passed?"PASSED":"FAILED"} - ${r.name}`),console.log("BODY:",i),console.groupEnd(),!0},sendAccountDeletedEmail:async r=>{await new Promise(i=>setTimeout(i,1e3));const e=`
      GERMISTON BAPTIST CHURCH - ACCOUNT DELETION NOTICE
      ------------------------------------------------------
      Dear ${r.name},

      This is a formal notification that your access to the GBC Child Protection Portal 
      has been removed by the administration.

      As a result, your training records associated with this account have been purged. 
      If you believe this is an error or if you intend to continue teaching, 
      please contact the Sunday School Superintendent or Church Elders immediately.

      Regards,
      GBC Administration
      ------------------------------------------------------
    `;return console.group("MOCK ACCOUNT DELETION EMAIL"),console.log("TO:",r.email),console.log("SUBJECT:",`GBC Portal: Account Access Revoked - ${r.name}`),console.log("BODY:",e),console.groupEnd(),!0}},ox=()=>{const[r,e]=qe.useState(Ti.getUsers()),[i,s]=qe.useState("all"),[l,c]=qe.useState(!1),[d,p]=qe.useState(null),y=qe.useMemo(()=>{const w=new Date;return r.filter(J=>!J.isAdmin).map(J=>{const W=J.lastSuccessfulTestDate?new Date(J.lastSuccessfulTestDate):null,$=!W||w.getTime()-W.getTime()>365*24*60*60*1e3;return{...J,isExpired:$}})},[r]),_=y.filter(w=>i==="outstanding"?w.isExpired:i==="passed"?!w.isExpired:!0),S=()=>{const w=y.filter(B=>B.isExpired&&B.intendToTeach);console.group("BULK REMINDER EMAILS"),w.forEach(B=>{console.log(`SENT TO: ${B.email} - SUBJECT: Action Required: GBC Child Protection Certification Expired`)}),console.groupEnd(),c(!0),setTimeout(()=>c(!1),5e3)},A=async w=>{if(window.confirm(`Are you sure you want to PERMANENTLY remove ${w.name} and all their test records? A final notification email will be sent to them.`)){try{await k0.sendAccountDeletedEmail(w),Ti.deleteUser(w.id),e(Ti.getUsers()),p({text:`Account for ${w.name} has been removed and notified.`,type:"success"})}catch{p({text:"Error removing user. Please try again.",type:"error"})}setTimeout(()=>p(null),5e3)}};return D.jsxs("div",{className:"space-y-8",children:[D.jsxs("div",{className:"bg-[#2E5D4E] p-8 rounded-2xl shadow-xl text-white",children:[D.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Church Administration Reports"}),D.jsx("p",{className:"opacity-80 mb-6",children:"Monitoring compliance across all children's ministry staff."}),D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[D.jsxs("div",{className:"bg-white bg-opacity-10 p-4 rounded-xl",children:[D.jsx("span",{className:"text-3xl font-black block",children:y.length}),D.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-60",children:"Total Staff"})]}),D.jsxs("div",{className:"bg-white bg-opacity-10 p-4 rounded-xl",children:[D.jsx("span",{className:"text-3xl font-black block",children:y.filter(w=>!w.isExpired).length}),D.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-60",children:"Valid Certifications"})]}),D.jsxs("div",{className:"bg-white bg-opacity-10 p-4 rounded-xl",children:[D.jsx("span",{className:"text-3xl font-black block text-red-200",children:y.filter(w=>w.isExpired).length}),D.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-60",children:"Outstanding / Expired"})]})]})]}),d&&D.jsx("div",{className:`p-4 rounded-xl font-bold text-center animate-fade-in ${d.type==="success"?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:d.text}),D.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[D.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col sm:flex-row justify-between items-center gap-4",children:[D.jsx("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:["all","outstanding","passed"].map(w=>D.jsx("button",{onClick:()=>s(w),className:`px-4 py-2 rounded-md text-xs font-bold uppercase tracking-wider transition-all ${i===w?"bg-white text-[#2E5D4E] shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:w},w))}),D.jsxs("button",{onClick:S,className:"px-6 py-2 bg-red-500 text-white rounded-lg font-bold text-sm hover:bg-red-600 transition-all flex items-center gap-2",children:[D.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:D.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})}),"Send Bulk Reminders"]})]}),l&&D.jsx("div",{className:"bg-green-50 p-3 text-center text-green-700 font-bold text-sm animate-pulse",children:"Success: Reminders have been sent to all outstanding teachers who still intend to teach!"}),D.jsxs("div",{className:"overflow-x-auto",children:[D.jsxs("table",{className:"w-full",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"bg-gray-50 text-left text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em]",children:[D.jsx("th",{className:"px-6 py-4",children:"Staff Member"}),D.jsx("th",{className:"px-6 py-4",children:"Grade"}),D.jsx("th",{className:"px-6 py-4 text-center",children:"Intends to Teach"}),D.jsx("th",{className:"px-6 py-4",children:"Last Success"}),D.jsx("th",{className:"px-6 py-4",children:"Status"}),D.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),D.jsx("tbody",{className:"divide-y divide-gray-100",children:_.map(w=>D.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[D.jsxs("td",{className:"px-6 py-4",children:[D.jsx("p",{className:"font-bold text-gray-800",children:w.name}),D.jsx("p",{className:"text-xs text-gray-400",children:w.email})]}),D.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:w.gradeTaught}),D.jsx("td",{className:"px-6 py-4 text-center",children:w.intendToTeach?D.jsx("span",{className:"text-green-500 font-bold text-xs uppercase",children:"Yes"}):D.jsx("span",{className:"text-gray-300 font-bold text-xs uppercase",children:"No"})}),D.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:w.lastSuccessfulTestDate?new Date(w.lastSuccessfulTestDate).toLocaleDateString():"Never"}),D.jsx("td",{className:"px-6 py-4",children:D.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest ${w.isExpired?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:w.isExpired?"Expired":"Valid"})}),D.jsx("td",{className:"px-6 py-4 text-right",children:D.jsx("button",{onClick:()=>A(w),className:"text-gray-400 hover:text-red-500 transition-colors p-2 rounded-lg hover:bg-red-50",title:"Delete User Account",children:D.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},w.id))})]}),_.length===0&&D.jsx("div",{className:"p-12 text-center text-gray-400 italic",children:"No matching records found."})]})]})]})},lx=({children:r,user:e,onLogout:i,onNavigate:s,currentState:l})=>D.jsxs("div",{className:"min-h-screen flex flex-col items-center bg-[#32CD32]",children:[D.jsx("header",{className:"w-full bg-white shadow-sm border-b border-gray-100 mb-8 sticky top-0 z-50",children:D.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-4 flex justify-between items-center",children:[D.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>s==null?void 0:s("DASHBOARD"),children:[D.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center bg-[#2E5D4E] text-white",children:D.jsx("span",{className:"text-xl font-bold",children:"GB"})}),D.jsxs("div",{children:[D.jsx("h1",{className:"text-xl font-bold text-[#2E5D4E] leading-tight",children:"Germiston Baptist Church"}),D.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"GBC Child Protection Training"})]})]}),e&&D.jsxs("div",{className:"flex items-center gap-6",children:[D.jsxs("nav",{className:"hidden md:flex items-center gap-4 mr-4",children:[D.jsx("button",{onClick:()=>s==null?void 0:s("DASHBOARD"),className:`text-sm font-bold transition-colors ${l==="DASHBOARD"?"text-[#2E5D4E]":"text-gray-400 hover:text-gray-600"}`,children:"Home"}),D.jsx("button",{onClick:()=>s==null?void 0:s("PROFILE"),className:`text-sm font-bold transition-colors ${l==="PROFILE"?"text-[#2E5D4E]":"text-gray-400 hover:text-gray-600"}`,children:"My Profile"}),e.isAdmin&&D.jsx("button",{onClick:()=>s==null?void 0:s("ADMIN"),className:`text-sm font-bold px-3 py-1 rounded bg-green-50 transition-colors ${l==="ADMIN"?"text-[#2E5D4E] ring-1 ring-[#2E5D4E]":"text-green-600 hover:bg-green-100"}`,children:"Admin"})]}),D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsxs("div",{className:"text-right hidden sm:block",children:[D.jsx("p",{className:"text-sm font-bold text-gray-800",children:e.name}),D.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest",children:e.gradeTaught})]}),D.jsx("button",{onClick:i,className:"text-sm px-4 py-2 border border-gray-200 rounded-lg hover:bg-red-50 hover:text-red-600 hover:border-red-200 transition-all font-medium",children:"Logout"})]})]})]})}),D.jsx("main",{className:"w-full max-w-4xl px-6 pb-12 animate-fade-in",children:r}),D.jsx("footer",{className:"w-full border-t border-gray-200 bg-white py-8 mt-auto",children:D.jsxs("div",{className:"max-w-5xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-4 text-gray-400 text-sm",children:[D.jsxs("p",{children:[" ",new Date().getFullYear()," Germiston Baptist Church. Internal Policy Test Portal."]}),D.jsxs("div",{className:"flex gap-4",children:[D.jsx("span",{className:"hover:text-gray-600 cursor-help",children:"Help Center"}),D.jsx("span",{className:"hover:text-gray-600 cursor-help",children:"Privacy Policy"})]})]})})]}),ux=()=>{const[r,e]=qe.useState("AUTH"),[i,s]=qe.useState(null),[l,c]=qe.useState(null),[d,p]=qe.useState(!1),[y,_]=qe.useState(!0);qe.useEffect(()=>{const W=uw(Gc,async $=>{if($)try{const ue=await Ti.getUserProfile($.uid);ue?(s(ue),e("DASHBOARD")):e("AUTH")}catch(ue){console.error("Session restoration error:",ue),e("AUTH")}else e("AUTH");_(!1)});return()=>W()},[]);const S=async()=>{if(i)try{const W=await Ti.getUserProfile(i.id);W&&s(W)}catch(W){console.error("Failed to refresh user data:",W)}},A=W=>{s(W),e("DASHBOARD")},w=async()=>{try{await Ti.logout(),s(null),e("AUTH")}catch(W){console.error("Logout error:",W)}},B=async W=>{if(c(W),e("RESULT"),i)try{await Ti.addTestResult(i.id,W),await S(),p(!0),await k0.sendTestResult(i,W)}catch($){console.error("Post-quiz processing failed:",$)}finally{p(!1)}};if(y)return D.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:D.jsx("div",{className:"w-12 h-12 border-4 border-[#2E5D4E] border-t-transparent rounded-full animate-spin"})});const J=()=>{switch(r){case"AUTH":return D.jsx(tx,{onAuthSuccess:A});case"DASHBOARD":return i?D.jsx(nx,{user:i,onStartQuiz:()=>e("QUIZ")}):null;case"QUIZ":return D.jsx(rx,{onComplete:B,onCancel:()=>e("DASHBOARD")});case"PROFILE":return i?D.jsx(ax,{user:i,onUpdate:S}):null;case"ADMIN":return i!=null&&i.isAdmin?D.jsx(ox,{}):D.jsx("div",{className:"p-12 text-center text-red-500 font-bold",children:"Unauthorized Access"});case"RESULT":return D.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-100 text-center space-y-6 max-w-2xl mx-auto",children:[D.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-4 ${l!=null&&l.passed?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:D.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l!=null&&l.passed?D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"}):D.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),D.jsx("h2",{className:`text-4xl font-bold ${l!=null&&l.passed?"text-green-700":"text-red-700"}`,children:l!=null&&l.passed?"Certification Passed!":"Retry Recommended"}),D.jsxs("div",{className:"py-4",children:[D.jsx("span",{className:"text-gray-500 text-sm uppercase font-bold tracking-widest block mb-1",children:"Final Score"}),D.jsxs("span",{className:"text-6xl font-black text-gray-800",children:[l==null?void 0:l.score,"%"]})]}),D.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl space-y-3",children:[D.jsx("p",{className:"text-gray-600 leading-relaxed",children:l!=null&&l.passed?"Well done! Your results have been recorded.":"You didn't reach the required 80%. Please try again."}),D.jsx("div",{className:"flex items-center justify-center gap-2 text-sm font-semibold text-gray-400",children:d?D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"w-4 h-4 border-2 border-[#2E5D4E] border-t-transparent rounded-full animate-spin"}),D.jsx("span",{children:"Processing Results..."})]}):D.jsx("span",{children:"Results logged successfully."})})]}),D.jsx("div",{className:"pt-6",children:D.jsx("button",{onClick:()=>e("DASHBOARD"),className:"px-8 py-3 bg-[#2E5D4E] text-white rounded-xl font-bold hover:scale-105 transition-transform",children:"Back to Dashboard"})})]});default:return null}};return D.jsx(lx,{user:i||void 0,onLogout:w,onNavigate:e,currentState:r,children:D.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700",children:J()})})},U0=document.getElementById("root");if(!U0)throw new Error("Could not find root element to mount to");const cx=bA.createRoot(U0);cx.render(D.jsx(gA.StrictMode,{children:D.jsx(ux,{})}));
